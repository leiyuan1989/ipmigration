

#DEFINE IO 1825             //; The Valid value is: {1825,1833}

//; Default: YES
#DEFINE OPEN_RECOMMENDED_ON YES     //; The Valid value is: {YES,NO}
                                        //; # Please set the value for the switch to "YES" OR "NO" only based on the descriptions above.
                                        //; # Default value is "YES" to check recommended rules including  
                                        //; # ACT.W.3a[R], ACT.S.1[R], ACT.S.2a[R], 
                                        //; # PO.L.2[R], PO.S.4[R], PO.S.7a[R], PO.S.8[R], PO.S.10[R], PO.S.13[R], PO.S.15a[R],  PO.S.18[R], PO.EN.1[R], PO.EN.2[R], PO.EN.3[R], PO.EX1[R], PO.EX.3[R], PO.A.1[R]
                                        //; # SAB.EX.4[R],
                                        //; # CT.S.1a[R], CT.S.1a[R], CT.S.4[R], CT.EN.2[R], CT.EN.3[R], CT.EN.4a[R], CT.EN.4b[R],  
                                        //; # M1.S.1[R], Mn.S.1[R]
                                        //; # Vn.EN.2a[R], Vn.EN.2b[R], Vn.R.1[R], Vn.R.4[R], T4V1.R.1[R], T4V1.R.4[R], T4V2.R.1[R], T4V2.R.4[R]
                                        //; # T2V1.EN.2a[R], T2V1.EN.2b[R], T2V1.R.4[R], T2V2.EN.2a[R], T2V2.EN.2b[R], T2V2.R.4[R]
                                        //; # T8M1.D.1[R], T8M2.D.1[R]
                                        //; # Please change the value "YES" into "NO" if recommended rules shouldn't be checked. 


//; Default: YES
#DEFINE LATCH_UP_CHECK      YES          //; The Valid value is: {YES,NO} 
                                         //; # Default value is "YES" to check Latch-Up rules.
                                         //; # Please change the value "YES" into "NO" if not to check Latch-Up rules.     
//; Default: YES
#DEFINE DUP_CHECK           YES          //; The Valid value is: {YES,NO} 
                                         //; # Default value is "YES" to check DUP rules.
                                         //; # Please change the value "YES" into "NO" if not to check DUP rules.
//; Default: YES
#DEFINE Metal_Slot_CHECK    YES          //; The Valid value is: {YES,NO}
                                         //; # Default value is "YES" to check Metal Slot rules.
                                         //; # Please change the value "YES" into "NO" if not to check Metal Slot rules.
//; Default: YES
#DEFINE MOM_CHECK           YES          //; The Valid value is: {YES,NO} 
                                         //; # Default value is "YES" to check MOM rules.
                                         //; # Please change the value "YES" into "NO" if not to check MOM rules.
//; Default: YES
#DEFINE ESD_CHECK           YES          //; The Valid value is: {YES,NO} 
                                         //; # Default value is "NO" not to check ESD rules.
                                         //; # Please change the value "NO" into "YES" if want to check ESD rules.
//; Default: NO
#DEFINE Poly_EFuse_CHECK    NO           //; The Valid value is: {YES,NO}
                                         //; # Default value is "NO" not to check Poly EFuse rules.
                                         //; # Please change the value "NO" into "YES" if want to check Poly EFuse rules.

//; Default: NO
#DEFINE ALLOW_V01 NO                    //; The valid value is: {YES,NO}

//; Default: YES
#DEFINE CHIPEDGE_CHECK YES              //; The Valid value is: {YES,NO}
                                      //; # Please set the value for the switch to "YES" OR "NO" only based on the descriptions above.
                                      //; # Default value is "YES" to check CHIPEDGE rules.
                                      //; # Please change the value "YES" into "NO" if CHIPEDGE rules shouldn't be checked.

//; Default: 1
#DEFINE DEFINE_PAD_BY_TEXT  1         //; The Valid value is: {0,1}  
                                      //;# when\BF?VDD?\BF,\BF?VCC?\BF,\BF?VSS?\BF,\BF?GND?\BF as text name using layer ALPATXT on ALPA,
                                      //;# if value is 0, it is regarded as I/O PAD; if value is 1, it is regarded POWER PAD.    
                                     
//; Default: 0
#DEFINE CONNECT_ALL_RESISTOR 0        //; The Valid value is: {0,1}
                                      //;#when resistors are between PAD and AA injector   
                                      //;#if value is 0,the connection is broken; if value is 1,the connection is not broken;
//; Default: ACCURATE
#DEFINE LU_3_CHECK ACCURATE           //; The Valid value is: {ACCURATE,FAST}     
                                      //;#choose LU.3[G] check mode.

//; Default: YES
#DEFINE Density_rules YES          //;The Valid value is: {YES,NO}
                                  //;#if value is NO, not to check Density rules; if value is YES, Check Density rules.
                                  //;#Related Rules:ACT_D_1_min, ACT_D_1_max, ACT_D_2, ACT_D_3, ACT_D_4_min, ACT_D_4_max, PO_D_1_min, PO_D_1_max, PO_D_2_min, PO_D_2_max, PO_D_3, MET1_D_1_min, MET1_D_1_max MET1_D_2, MET1_D_3, Mn_D_1_min, Mn_D_1_max, Mn_D_2, Mn_D_3, T4M1_D_1_min, T4M1_D_1_max, T4M1_D_2, T4M1_D_3, T4M2_D_1_min, T4M2_D_1_max, T4M2_D_2, T4M2_D_3, T2M1_D_1_min, T2M1_D_1_max,T2M1_D_2, T2M1_D_3, T2M2_D_1_min, T2M2_D_1_max, T2M2_D_2, T2M2_D_3, T8M1_D_1_R, T8M1_D_2, T8M1_D_3, T8M2_D_1_R, T8M2_D_2, T8M2_D_3, RDL_D_1_R, RDL_D_2_R
                                  //;# Default value is YES




//; Default: YES
#DEFINE ESD1_Approach_A  YES        //;The Valid value is: {YES,NO}
                                  //;#if value is YES,to check ESD1_Approach_A rules; if value is NO, NOT Check ESD1_Approach_A rules.
                                  //;# Default value is YES
//; Default: NO
#DEFINE ESD1_Approach_B NO       //;The Valid value is: {YES,NO}
                                  //;#if value is YES,to check ESD1_Approach_B rules; if value is NO, NOT Check ESD1_Approach_B rules.
                                  //;# Default value is NO


//##################################################The END for switch setting#############################################################################

//==============================================================================================================

  VARIABLE PA_su 1.5        //; In XXXX LOTA, ALPA will be generated by the formual "(PA su 1.5) + RDL",
                            //; If CTM's LOTA not follows the value "1.5'" of PA grow, please fix it in the opition,
                            //; Be care that the value should not be smaller than 1.5um.


//DRC MAXIMUM RESULTS ALL

//*************************************
//     DIRECTIVE SECTION
//*************************************

LAYOUT PRIMARY "*"
LAYOUT PATH "*.gds"
LAYOUT SYSTEM GDSII
DRC RESULTS DATABASE "drc_CAL.OUT" ASCII
DRC SUMMARY REPORT "drc_CAL.SUM" HIER

PRECISION       1000
RESOLUTION      1

FLAG ACUTE YES
FLAG NONSIMPLE YES
FLAG SKEW YES
FLAG OFFGRID YES

LAYOUT BASE LAYER ACTi POLYi CTi NPi PPi

DGR_3 {
@ Only shapes of geometry that are orthogonal or 45-degree(0.1d tolerance) angle are allowed, excluding Inductor region.
 X = DFM COPY (DRAWN SKEW) EDGE
(X NOT COIN EDGE (ANGLE X >= 44.9 <= 45.1)) NOT INSIDE EDGE INDDMY
} 

skew_edge_check {
@ Only 0 degree (X), 90 degree (Y), and 45+/-0.1 degree (diagonal) is allowed in design layout.
  X = DRAWN SKEW 
  Y = DFM COPY X EDGE
  NOT ANGLE Y >= 44.9 <= 45.1
}
// does not check layers that do not appear in other rule
// checks used in the run

DRC EXCLUDE FALSE NOTCH YES
DRC CHECK TEXT ALL

//************************************
//     INPUT LAYER STATEMENTS
//************************************
LAYER MAP 2 DATATYPE 1 2001
LAYER ACTi  2001
LAYER MAP 2 DATATYPE 2 2002
LAYER ACTdmi  2002
LAYER MAP 2 DATATYPE 3 2003
LAYER ACTdmblk  2003
LAYER MAP 2 DATATYPE 4 2004
LAYER ACTres  2004
LAYER MAP 2 DATATYPE 5 2005
LAYER ACTopcblk  2005
LAYER MAP 7 DATATYPE 1 2006
LAYER DNWi  2006
LAYER MAP 9 DATATYPE 1 2007
LAYER NW1i   2007
LAYER MAP 9 DATATYPE 4 2008
LAYER NW1res  2008
LAYER MAP 17 DATATYPE 1 2009
LAYER NVT1  2009
LAYER MAP 18 DATATYPE 1 2010
LAYER PVT1  2010
LAYER MAP 21 DATATYPE 1 2011
LAYER NVT3  2011
LAYER MAP 22 DATATYPE 1 2012
LAYER PVT3  2012
LAYER MAP 27 DATATYPE 1 2013
LAYER DGOX  2013
LAYER MAP 28 DATATYPE 1 2014
LAYER TGOX  2014
LAYER MAP 41 DATATYPE 1 2015
LAYER MAP 41 TEXTTYPE 1 2015
LAYER POLYi  2015
LAYER MAP 41 DATATYPE 2 2016
LAYER POLYdmi  2016
LAYER MAP 41 DATATYPE 3 2017
LAYER POLYdmblk  2017
LAYER MAP 41 DATATYPE 4 2018
LAYER POLYres  2018
LAYER MAP 41 DATATYPE 5 2019
LAYER POLYopcblk  2019
LAYER MAP 41 TEXTTYPE 6 2020
LAYER POLYtext  2020
LAYER MAP 41 DATATYPE 7 2021
LAYER POLYbar  2021
LAYER MAP 43 DATATYPE 1 2022
LAYER NPD  2022
LAYER MAP 52 DATATYPE 1 2023
LAYER NPi  2023
LAYER MAP 53 DATATYPE 1 2024
LAYER PPi  2024
LAYER MAP 54 DATATYPE 1 2025
LAYER HRPi  2025
LAYER MAP 55 DATATYPE 1 2026
LAYER ESD1  2026
LAYER MAP 71 DATATYPE 1 2027
LAYER SABi  2027
LAYER MAP 72 DATATYPE 1 2028
LAYER CTi  2028
LAYER MAP 72 DATATYPE 5 2029
LAYER CTopcblk  2029
LAYER MAP 72 DATATYPE 7 2030
LAYER CTbar  2030
LAYER MAP 81 DATATYPE 1 2031
LAYER MAP 81 TEXTTYPE 1 2031
LAYER MET1o  2031
LAYER MAP 81 DATATYPE 2 2032
LAYER MET1dmi  2032
LAYER MAP 81 DATATYPE 3 2033
LAYER MET1dmblk  2033
LAYER MAP 81 DATATYPE 4 2034
LAYER MET1res  2034
LAYER MAP 81 DATATYPE 5 2035
LAYER MET1opcblk  2035
LAYER MAP 81 TEXTTYPE 6 2036
LAYER MET1text  2036
LAYER MAP 81 DATATYPE 8 2037
LAYER MET1sloti  2037
LAYER MAP 81 DATATYPE 9 2038
LAYER MET1slotblk  2038
LAYER MAP 81 DATATYPE 10 2039
LAYER MET1mom  2039
LAYER MAP 82 DATATYPE 1 2040
LAYER MAP 82 TEXTTYPE 1 2040
LAYER MET2o  2040
LAYER MAP 82 DATATYPE 2 2041
LAYER MET2dmi  2041
LAYER MAP 82 DATATYPE 3 2042
LAYER MET2dmblk  2042
LAYER MAP 82 DATATYPE 4 2043
LAYER MET2res  2043
LAYER MAP 82 DATATYPE 5 2044
LAYER MET2opcblk  2044
LAYER MAP 82 TEXTTYPE 6 2045
LAYER MET2text  2045
LAYER MAP 82 DATATYPE 8 2046
LAYER MET2sloti  2046
LAYER MAP 82 DATATYPE 9 2047
LAYER MET2slotblk  2047
LAYER MAP 82 DATATYPE 10 2048
LAYER MET2mom  2048
LAYER MAP 83 DATATYPE 1 2049
LAYER MAP 83 TEXTTYPE 1 2049
LAYER MET3o  2049
LAYER MAP 83 DATATYPE 2 2050
LAYER MET3dmi  2050
LAYER MAP 83 DATATYPE 3 2051
LAYER MET3dmblk  2051
LAYER MAP 83 DATATYPE 4 2052
LAYER MET3res  2052
LAYER MAP 83 DATATYPE 5 2053
LAYER MET3opcblk  2053
LAYER MAP 83 TEXTTYPE 6 2054
LAYER MET3text  2054
LAYER MAP 83 DATATYPE 8 2055
LAYER MET3sloti  2055
LAYER MAP 83 DATATYPE 9 2056
LAYER MET3slotblk  2056
LAYER MAP 83 DATATYPE 10 2057
LAYER MET3mom  2057
LAYER MAP 84 DATATYPE 1 2058
LAYER MAP 84 TEXTTYPE 1 2058
LAYER MET4o  2058
LAYER MAP 84 DATATYPE 2 2059
LAYER MET4dmi  2059
LAYER MAP 84 DATATYPE 3 2060
LAYER MET4dmblk  2060
LAYER MAP 84 DATATYPE 4 2061
LAYER MET4res  2061
LAYER MAP 84 DATATYPE 5 2062
LAYER MET4opcblk  2062
LAYER MAP 84 TEXTTYPE 6 2063
LAYER MET4text  2063
LAYER MAP 84 DATATYPE 8 2064
LAYER MET4sloti  2064
LAYER MAP 84 DATATYPE 9 2065
LAYER MET4slotblk  2065
LAYER MAP 84 DATATYPE 10 2066
LAYER MET4mom  2066
LAYER MAP 85 DATATYPE 1 2067
LAYER MAP 85 TEXTTYPE 1 2067
LAYER MET5o  2067
LAYER MAP 85 DATATYPE 2 2068
LAYER MET5dmi  2068
LAYER MAP 85 DATATYPE 3 2069
LAYER MET5dmblk  2069
LAYER MAP 85 DATATYPE 4 2070
LAYER MET5res  2070
LAYER MAP 85 DATATYPE 5 2071
LAYER MET5opcblk  2071
LAYER MAP 85 TEXTTYPE 6 2072
LAYER MET5text  2072
LAYER MAP 85 DATATYPE 8 2073
LAYER MET5sloti  2073
LAYER MAP 85 DATATYPE 9 2074
LAYER MET5slotblk  2074
LAYER MAP 85 DATATYPE 10 2075
LAYER MET5mom  2075
LAYER MAP 86 DATATYPE 1 2076
LAYER MAP 86 TEXTTYPE 1 2076
LAYER MET6o  2076
LAYER MAP 86 DATATYPE 2 2077
LAYER MET6dmi  2077
LAYER MAP 86 DATATYPE 3 2078
LAYER MET6dmblk  2078
LAYER MAP 86 DATATYPE 4 2079
LAYER MET6res  2079
LAYER MAP 86 DATATYPE 5 2080
LAYER MET6opcblk  2080
LAYER MAP 86 TEXTTYPE 6 2081
LAYER MET6text  2081
LAYER MAP 86 DATATYPE 8 2082
LAYER MET6sloti  2082
LAYER MAP 86 DATATYPE 9 2083
LAYER MET6slotblk  2083
LAYER MAP 86 DATATYPE 10 2084
LAYER MET6mom  2084
LAYER MAP 87 DATATYPE 1 2085
LAYER MAP 87 TEXTTYPE 1 2085
LAYER MET7o  2085
LAYER MAP 87 DATATYPE 2 2086
LAYER MET7dmi  2086
LAYER MAP 87 DATATYPE 3 2087
LAYER MET7dmblk  2087
LAYER MAP 87 DATATYPE 4 2088
LAYER MET7res  2088
LAYER MAP 87 DATATYPE 5 2089
LAYER MET7opcblk  2089
LAYER MAP 87 TEXTTYPE 6 2090
LAYER MET7text  2090
LAYER MAP 87 DATATYPE 8 2091
LAYER MET7sloti  2091
LAYER MAP 87 DATATYPE 9 2092
LAYER MET7slotblk  2092
LAYER MAP 87 DATATYPE 10 2093
LAYER MET7mom  2093
LAYER MAP 88 DATATYPE 1 2094
LAYER MAP 88 TEXTTYPE 1 2094
LAYER MET8o  2094
LAYER MAP 88 DATATYPE 2 2095
LAYER MET8dmi  2095
LAYER MAP 88 DATATYPE 3 2096
LAYER MET8dmblk  2096
LAYER MAP 88 DATATYPE 4 2097
LAYER MET8res  2097
LAYER MAP 88 DATATYPE 5 2098
LAYER MET8opcblk  2098
LAYER MAP 88 TEXTTYPE 6 2099
LAYER MET8text  2099
LAYER MAP 88 DATATYPE 8 2100
LAYER MET8sloti  2100
LAYER MAP 88 DATATYPE 9 2101
LAYER MET8slotblk  2101
LAYER MAP 88 DATATYPE 10 2102
LAYER MET8mom  2102
LAYER MAP 91 DATATYPE 1 2103
LAYER VIA1i  2103
LAYER MAP 91 DATATYPE 7 2104
LAYER VIA1bar  2104
LAYER MAP 92 DATATYPE 1 2105
LAYER VIA2i  2105
LAYER MAP 92 DATATYPE 7 2106
LAYER VIA2bar  2106
LAYER MAP 93 DATATYPE 1 2107
LAYER VIA3i  2107
LAYER MAP 93 DATATYPE 7 2108
LAYER VIA3bar  2108
LAYER MAP 94 DATATYPE 1 2109
LAYER VIA4i  2109
LAYER MAP 94 DATATYPE 7 2110
LAYER VIA4bar  2110
LAYER MAP 95 DATATYPE 1 2111
LAYER VIA5i  2111
LAYER MAP 95 DATATYPE 7 2112
LAYER VIA5bar  2112
LAYER MAP 96 DATATYPE 1 2113
LAYER VIA6i  2113
LAYER MAP 96 DATATYPE 7 2114
LAYER VIA6bar  2114
LAYER MAP 97 DATATYPE 1 2115
LAYER VIA7i  2115
LAYER MAP 97 DATATYPE 7 2116
LAYER VIA7bar  2116
LAYER MAP 100 DATATYPE 1 2117
LAYER MAP 100 TEXTTYPE 1 2117
LAYER T2M1o  2117
LAYER MAP 100 DATATYPE 2 2118
LAYER T2M1dmi  2118
LAYER MAP 100 DATATYPE 3 2119
LAYER T2M1dmblk  2119
LAYER MAP 100 DATATYPE 4 2120
LAYER T2M1res  2120
LAYER MAP 100 DATATYPE 5 2121
LAYER T2M1opcblk  2121
LAYER MAP 100 TEXTTYPE 6 2122
LAYER T2M1text  2122
LAYER MAP 100 DATATYPE 8 2123
LAYER T2M1sloti  2123
LAYER MAP 100 DATATYPE 9 2124
LAYER T2M1slotblk  2124
LAYER MAP 101 DATATYPE 1 2125
LAYER MAP 101 TEXTTYPE 1 2125
LAYER T2M2o  2125
LAYER MAP 101 DATATYPE 2 2126
LAYER T2M2dmi  2126
LAYER MAP 101 DATATYPE 3 2127
LAYER T2M2dmblk  2127
LAYER MAP 101 DATATYPE 4 2128
LAYER T2M2res  2128
LAYER MAP 101 DATATYPE 5 2129
LAYER T2M2opcblk  2129
LAYER MAP 101 TEXTTYPE 6 2130
LAYER T2M2text  2130
LAYER MAP 101 DATATYPE 8 2131
LAYER T2M2sloti  2131
LAYER MAP 101 DATATYPE 9 2132
LAYER T2M2slotblk  2132
LAYER MAP 102 DATATYPE 1 2133
LAYER MAP 102 TEXTTYPE 1 2133
LAYER T4M1o  2133
LAYER MAP 102 DATATYPE 2 2134
LAYER T4M1dmi  2134
LAYER MAP 102 DATATYPE 3 2135
LAYER T4M1dmblk  2135
LAYER MAP 102 DATATYPE 4 2136
LAYER T4M1res  2136
LAYER MAP 102 DATATYPE 5 2137
LAYER T4M1opcblk  2137
LAYER MAP 102 TEXTTYPE 6 2138
LAYER T4M1text  2138
LAYER MAP 102 DATATYPE 8 2139
LAYER T4M1sloti  2139
LAYER MAP 102 DATATYPE 9 2140
LAYER T4M1slotblk  2140
LAYER MAP 103 DATATYPE 1 2141
LAYER MAP 103 TEXTTYPE 1 2141
LAYER T4M2o  2141
LAYER MAP 103 DATATYPE 2 2142
LAYER T4M2dmi  2142
LAYER MAP 103 DATATYPE 3 2143
LAYER T4M2dmblk  2143
LAYER MAP 103 DATATYPE 4 2144
LAYER T4M2res  2144
LAYER MAP 103 DATATYPE 5 2145
LAYER T4M2opcblk  2145
LAYER MAP 103 TEXTTYPE 6 2146
LAYER T4M2text  2146
LAYER MAP 103 DATATYPE 8 2147
LAYER T4M2sloti  2147
LAYER MAP 103 DATATYPE 9 2148
LAYER T4M2slotblk  2148
LAYER MAP 104 DATATYPE 1 2149
LAYER MAP 104 TEXTTYPE 1 2149
LAYER T8M1o  2149
LAYER MAP 104 DATATYPE 2 2150
LAYER T8M1dmi  2150
LAYER MAP 104 DATATYPE 3 2151
LAYER T8M1dmblk  2151
LAYER MAP 104 DATATYPE 4 2152
LAYER T8M1res  2152
LAYER MAP 104 DATATYPE 5 2153
LAYER T8M1opcblk  2153
LAYER MAP 104 TEXTTYPE 6 2154
LAYER T8M1text  2154
LAYER MAP 104 DATATYPE 8 2155
LAYER T8M1sloti  2155
LAYER MAP 104 DATATYPE 9 2156
LAYER T8M1slotblk  2156
LAYER MAP 105 DATATYPE 1 2157
LAYER MAP 105 TEXTTYPE 1 2157
LAYER T8M2o  2157
LAYER MAP 105 DATATYPE 2 2158
LAYER T8M2dmi  2158
LAYER MAP 105 DATATYPE 3 2159
LAYER T8M2dmblk  2159
LAYER MAP 105 DATATYPE 4 2160
LAYER T8M2res  2160
LAYER MAP 105 DATATYPE 5 2161
LAYER T8M2opcblk  2161
LAYER MAP 105 TEXTTYPE 6 2162
LAYER T8M2text  2162
LAYER MAP 105 DATATYPE 8 2163
LAYER T8M2sloti  2163
LAYER MAP 105 DATATYPE 9 2164
LAYER T8M2slotblk  2164
LAYER MAP 110 DATATYPE 1 2165
LAYER T2V1i  2165
LAYER MAP 110 DATATYPE 7 2166
LAYER T2V1bar  2166
LAYER MAP 111 DATATYPE 1 2167
LAYER T2V2i  2167
LAYER MAP 111 DATATYPE 7 2168
LAYER T2V2bar  2168
LAYER MAP 112 DATATYPE 1 2169
LAYER T4V1i  2169
LAYER MAP 112 DATATYPE 7 2170
LAYER T4V1bar  2170
LAYER MAP 113 DATATYPE 1 2171
LAYER T4V2i  2171
LAYER MAP 113 DATATYPE 7 2172
LAYER T4V2bar  2172
LAYER MAP 114 DATATYPE 1 2173
LAYER T8V1i  2173
LAYER MAP 114 DATATYPE 7 2174
LAYER T8V1bar  2174
LAYER MAP 115 DATATYPE 1 2175
LAYER T8V2i  2175
LAYER MAP 115 DATATYPE 7 2176
LAYER T8V2bar  2176
LAYER MAP 120 DATATYPE 1 2177
LAYER RV  2177
LAYER MAP 121 DATATYPE 1 2178
LAYER CBi  2178
LAYER MAP 121 TEXTTYPE 6 2179
LAYER CBtext  2179
LAYER MAP 122 DATATYPE 1 2180
LAYER MAP 122 TEXTTYPE 1 2180
LAYER ALPAD  2180
LAYER MAP 122 DATATYPE 4 2181
LAYER ALPADres  2181
LAYER MAP 122 TEXTTYPE 6 2182
LAYER ALPADtext  2182
LAYER MAP 122 DATATYPE 8 2183
LAYER ALPADsloti  2183
LAYER MAP 122 DATATYPE 9 2184
LAYER ALPADslotblk  2184
LAYER MAP 123 DATATYPE 1 2185
LAYER MAP 123 TEXTTYPE 1 2185
LAYER RDLi  2185
LAYER MAP 123 TEXTTYPE 6 2186
LAYER RDLtext  2186
LAYER MAP 124 DATATYPE 1 2187
LAYER COVER  2187

LAYER MAP 140 DATATYPE 1 2500
LAYER BMIM  2500
LAYER MAP 141 DATATYPE 1 2501
LAYER TMIM  2501

LAYER MAP 150 DATATYPE 12 2188
LAYER IO  2188
LAYER MAP 151 DATATYPE 12 2189
LAYER CORE  2189
LAYER MAP 152 DATATYPE 12 2190
LAYER ULLD  2190
LAYER MAP 153 DATATYPE 12 2191
LAYER UD  2191
LAYER MAP 154 DATATYPE 12 2192
LAYER OD  2192
LAYER MAP 171 DATATYPE 12 2193
LAYER SRAMALL  2193
LAYER MAP 172 DATATYPE 12 2194
LAYER SRAMPG  2194
LAYER MAP 173 DATATYPE 12 2195
LAYER SRAM6THD  2195
LAYER MAP 174 DATATYPE 12 2196
LAYER SRAM6THS  2196
LAYER MAP 176 DATATYPE 12 2197
LAYER SRAM8THD  2197
LAYER MAP 177 DATATYPE 12 2198
LAYER SRAM8THS  2198
LAYER MAP 191 DATATYPE 12 2199
LAYER DIODE  2199
LAYER MAP 192 DATATYPE 12 2200
LAYER VARA  2200
LAYER MAP 193 DATATYPE 12 2201
LAYER VARAM  2201
LAYER MAP 194 DATATYPE 12 2202
LAYER VARAJ  2202
LAYER MAP 195 DATATYPE 12 2203
LAYER BJT  2203
LAYER MAP 211 DATATYPE 12 2204
LAYER LDMOS  2204
LAYER MAP 231 DATATYPE 12 2205
LAYER ESDIOT  2205
LAYER MAP 232 DATATYPE 12 2206
LAYER ESDIOE  2206
LAYER MAP 241 DATATYPE 12 2207
LAYER RFALL  2207
LAYER MAP 242 DATATYPE 12 2208
LAYER RFD  2208
LAYER MAP 243 DATATYPE 12 2209
LAYER RFTER  2209
LAYER MAP 261 DATATYPE 12 2210
LAYER PSUBi  2210
LAYER MAP 271 DATATYPE 12 2211
LAYER CAP  2211
LAYER MAP 281 DATATYPE 12 2212
LAYER MOMCAP  2212
LAYER MAP 282 DATATYPE 12 2213
LAYER MOMTER  2213
LAYER MAP 291 DATATYPE 12 2214
LAYER FUTR  2214
LAYER MAP 292 DATATYPE 12 2215
LAYER FUSEALL  2215
LAYER MAP 293 DATATYPE 12 2216
LAYER EFUSEALL  2216
LAYER MAP 294 DATATYPE 12 2217
LAYER POEFUSEBLK  2217
LAYER MAP 301 DATATYPE 12 2218
LAYER INDDMY  2218
LAYER MAP 302 DATATYPE 12 2219
LAYER INDALL  2219
LAYER MAP 303 DATATYPE 12 2220
LAYER INDVIA  2220
LAYER MAP 311 DATATYPE 12 2221
LAYER NOLVS  2221
LAYER MAP 312 DATATYPE 12 2222
LAYER MOSMF  2222
LAYER MAP 313 DATATYPE 12 2223
LAYER SUBCKTLVS  2223
LAYER MAP 314 DATATYPE 12 2224
LAYER RESCKTLVS  2224
LAYER MAP 315 DATATYPE 12 2225
LAYER MOSCKTLVS  2225
LAYER MAP 316 DATATYPE 12 2226
LAYER LATCHUP  2226
LAYER MAP 317 DATATYPE 12 2227
LAYER RFSDLVS  2227
LAYER MAP 318 DATATYPE 12 2228
LAYER RF5TERLVS  2228
LAYER MAP 319 DATATYPE 12 2229
LAYER RF6TERLVS  2229
LAYER MAP 320 DATATYPE 12 2230
LAYER VARAJMRK  2230
LAYER MAP 321 DATATYPE 12 2231
LAYER LDMOSSTI  2231
LAYER MAP 322 DATATYPE 12 2232
LAYER FUSEDRC  2232
LAYER MAP 323 DATATYPE 12 2233
LAYER MAP 323 TEXTTYPE 12 2233
LAYER MOMLVS1  2233
LAYER MAP 324 DATATYPE 12 2234
LAYER MOMLVS2  2234
LAYER MAP 325 DATATYPE 12 2235
LAYER MOMLVS3  2235
LAYER MAP 326 DATATYPE 12 2236
LAYER MOMLVS4  2236
LAYER MAP 327 DATATYPE 12 2237
LAYER MOMLVS5  2237
LAYER MAP 328 DATATYPE 12 2238
LAYER MOMLVS6  2238
LAYER MAP 329 DATATYPE 12 2239
LAYER RES3TPOLY  2239
LAYER MAP 351 DATATYPE 12 2240
LAYER CHIPBLK  2240
LAYER MAP 352 DATATYPE 12 2241
LAYER SRBLK  2241
LAYER MAP 353 DATATYPE 12 2242
LAYER GRBLK  2242
LAYER MAP 354 DATATYPE 12 2243
LAYER SRINGBLK  2243
LAYER MAP 355 DATATYPE 12 2244
LAYER LOGO  2244
LAYER MAP 356 DATATYPE 12 2245
LAYER NOSHRINK  2245
LAYER MAP 357 DATATYPE 12 2246
LAYER NODRC  2246
LAYER MAP 358 DATATYPE 12 2247
LAYER OPCBLKALL  2247
LAYER MAP 359 DATATYPE 12 2248
LAYER DMYBLK  2248
LAYER MAP 360 DATATYPE 12 2249
LAYER NOEBBLK  2249
LAYER MAP 361 DATATYPE 12 2250
LAYER METBLK  2250
LAYER MAP 381 DATATYPE 12 2251
LAYER DEUPADi  2251
LAYER MAP 382 DATATYPE 12 2252
LAYER PVDD  2252
LAYER MAP 383 DATATYPE 12 2253
LAYER PVSS  2253
LAYER MAP 384 DATATYPE 12 2254
LAYER NPR  2254
LAYER MAP 385 DATATYPE 12 2255
LAYER HPR  2255
LAYER MAP 386 DATATYPE 12 2256
LAYER TTXT  2256
LAYER MAP 387   DATATYPE 12 2257
LAYER NW1CAP  2257


//=====================================================
CHIPEDGE = CHIPBLK OR (HOLES CHIPBLK)
PWi = DRC:1 NOT (NW1i OR PSUBi)
PW = COPY PWi

AA      = COPY ACTi
NW      = COPY NW1i
DNW     = COPY DNWi
HVTN    = COPY NVT3
HVTP    = COPY PVT3
LVTP     = COPY PVT1
LVTN     = COPY NVT1
DG      = COPY DGOX
PO      = COPY POLYi
HRP	= COPY HRPi
SDN      = COPY NPi
SDP      = COPY PPi
SAB     = COPY SABi
CT      = OR CTi CTbar
PSUB    = COPY PSUBi
TG	= COPY TGOX
MD	= COPY MDi
RDLVIA	= COPY RV
RDL	= COPY RDLi
RDLPA2	= COPY COVER
FUSE	= COPY FUTR
PA	= COPY CBi
ALPA    = COPY ALPAi
GRID    = GRBLK OR SRINGBLK
DEUPAD    = COPY DEUPADi


//FOR DRC CHECK
M1      = MET1o NOT MET1sloti
M2      = MET2o NOT MET2sloti
M3	= MET3o NOT MET3sloti
M4	= MET4o NOT MET4sloti
M5	= MET5o NOT MET5sloti
M6	= MET6o NOT MET6sloti
M7	= MET7o NOT MET7sloti
M8	= MET8o NOT MET8sloti
T4M1	= T4M1o NOT T4M1sloti
T4M2	= T4M2o NOT T4M2sloti
T2M1    = T2M1o NOT T2M1sloti
T2M2    = T2M2o NOT T2M2sloti
T8M1     = T8M1o NOT  T8M1sloti
T8M2     = T8M2o NOT  T8M2sloti

M1sloti   = COPY MET1sloti
M2sloti   = COPY MET2sloti
M3sloti   = COPY MET3sloti
M4sloti   = COPY MET4sloti
M5sloti   = COPY MET5sloti
M6sloti   = COPY MET6sloti
M7sloti   = COPY MET7sloti
M8sloti   = COPY MET8sloti

M1o   = COPY MET1o
M2o   = COPY MET2o
M3o   = COPY MET3o
M4o   = COPY MET4o
M5o   = COPY MET5o
M6o   = COPY MET6o
M7o   = COPY MET7o
M8o   = COPY MET8o

M1DUM   = COPY MET1dmi
M2DUM   = COPY MET2dmi
M3DUM   = COPY MET3dmi
M4DUM   = COPY MET4dmi
M5DUM   = COPY MET5dmi
M6DUM   = COPY MET6dmi
M7DUM   = COPY MET7dmi
M8DUM   = COPY MET8dmi
T4M1DUM  = COPY T4M1dmi
T4M2DUM  = COPY T4M2dmi
T2M1DUM  = COPY T2M1dmi
T2M2DUM  = COPY T2M2dmi
T8M1DUM   = COPY T8M1dmi
T8M2DUM   = COPY T8M2dmi
AADUM	= COPY ACTdmi
PODUM	= COPY POLYdmi

M1MOM   = COPY MET1mom
M2MOM   = COPY MET2mom
M3MOM   = COPY MET3mom
M4MOM   = COPY MET4mom
M5MOM   = COPY MET5mom
M6MOM   = COPY MET6mom
M7MOM   = COPY MET7mom
M8MOM   = COPY MET8mom


M1DUMB   = COPY MET1dmblk
M2DUMB   = COPY MET2dmblk
M3DUMB   = COPY MET3dmblk
M4DUMB   = COPY MET4dmblk
M5DUMB   = COPY MET5dmblk
M6DUMB   = COPY MET6dmblk
M7DUMB   = COPY MET7dmblk
M8DUMB   = COPY MET8dmblk
T4M1DUMB  = COPY T4M1dmblk
T4M2DUMB  = COPY T4M2dmblk
T2M1DUMB  = COPY T2M1dmblk
T2M2DUMB  = COPY T2M2dmblk
T8M1DUMB   = COPY T8M1dmblk
T8M2DUMB   = COPY T8M2dmblk
AADUMB	= COPY ACTdmblk
PODUMB	= COPY POLYdmblk

M1R   = COPY MET1res
M2R   = COPY MET2res
M3R   = COPY MET3res
M4R   = COPY MET4res
M5R   = COPY MET5res
M6R   = COPY MET6res
M7R   = COPY MET7res
M8R   = COPY MET8res
T4M1R  = COPY T4M1res
T4M2R  = COPY T4M2res
T2M1R  = COPY T2M1res
T2M2R  = COPY T2M2res
T8M1R   = COPY T8M1res
T8M2R   = COPY T8M2res
ALPAR   = COPY ALPADres

M1slot   = COPY MET1sloti
M2slot   = COPY MET2sloti
M3slot   = COPY MET3sloti
M4slot   = COPY MET4sloti
M5slot   = COPY MET5sloti
M6slot   = COPY MET6sloti 
M7slot   = COPY MET7sloti
M8slot   = COPY MET8sloti
T4M1slot  = COPY T4M1sloti
T4M2slot  = COPY T4M2sloti
T2M1slot  = COPY T2M1sloti
T2M2slot  = COPY T2M2sloti
T8M1slot  = COPY T8M1sloti
T8M2slot  = COPY T8M2sloti
UVT = COPY ULLD


T4V1     = OR T4V1i T4V1bar
T4V2     = OR T4V2i T4V2bar
T2V1    = OR T2V1i T2V1bar
T2V2    = OR T2V2i T2V2bar
T8V1     = OR T8V1i T8V1bar
T8V2     = OR T8V2i T8V2bar

//FOR DRC CHECK
M1ALL = (M1 NOT M1slot) OR M1DUM
M2ALL = (M2 NOT M2slot) OR M2DUM
M3ALL = (M3 NOT M3slot) OR M3DUM
M4ALL = (M4 NOT M4slot) OR M4DUM
M5ALL = (M5 NOT M5slot) OR M5DUM
M6ALL = (M6 NOT M6slot) OR M6DUM
M7ALL = (M7 NOT M7slot) OR M7DUM
M8ALL = (M8 NOT M8slot) OR M8DUM
T4M1ALL = (T4M1 NOT T4M1slot) OR T4M1DUM
T4M2ALL = (T4M2 NOT T4M2slot) OR T4M2DUM
T2M1ALL = (T2M1 NOT T2M1slot) OR T2M1DUM
T2M2ALL = (T2M2 NOT T2M2slot) OR T2M2DUM
T8M1ALL = (T8M1 NOT T8M1slot) OR T8M1DUM
T8M2ALL = (T8M2 NOT T8M2slot) OR T8M2DUM

//FOR DENSITY CHECK
M1ALLi = (MET1o NOT MET1sloti) OR MET1dmi
M2ALLi = (MET2o NOT MET2sloti) OR MET2dmi
M3ALLi = (MET3o NOT MET3sloti) OR MET3dmi
M4ALLi = (MET4o NOT MET4sloti) OR MET4dmi
M5ALLi = (MET5o NOT MET5sloti) OR MET5dmi
M6ALLi = (MET6o NOT MET6sloti) OR MET6dmi
M7ALLi = (MET7o NOT MET7sloti) OR MET7dmi
M8ALLi = (MET8o NOT MET8sloti) OR MET8dmi
T4M1ALLi = (T4M1o NOT T4M1sloti) OR T4M1dmi
T4M2ALLi = (T4M2o NOT T4M2sloti) OR T4M2dmi
T2M1ALLi = (T2M1o NOT T2M1sloti) OR T2M1dmi
T2M2ALLi = (T2M2o NOT T2M2sloti) OR T2M2dmi
T8M1ALLi = (T8M1o NOT T8M1sloti) OR T8M1dmi
T8M2ALLi = (T8M2o NOT T8M2sloti) OR T8M2dmi
//FOR CONNECTIVITY
MDi = CBi OR COVER
ALPA_PAi = SIZE CBi BY PA_su
ALPAi	= OR ALPA_PAi RDLi ALPAD
M1i   = MET1o NOT MET1sloti
M2i   = MET2o NOT MET2sloti
M3i   = MET3o NOT MET3sloti
M4i   = MET4o NOT MET4sloti
M5i   = MET5o NOT MET5sloti
M6i   = MET6o NOT MET6sloti
M7i   = MET7o NOT MET7sloti
M8i   = MET8o NOT MET8sloti
T4M1i  = T4M1o NOT T4M1sloti
T4M2i  = T4M2o NOT T4M2sloti
T2M1i = T2M1o NOT T2M1sloti
T2M2i = T2M2o NOT T2M2sloti
T8M1i  = T8M1o NOT T8M1sloti
T8M2i  = T8M2o NOT T8M2sloti

M1M2 = M1 AND M2
SV1_metal = M1M2 INTERACT V1 == 1
U4V1_metal = M1M2 INTERACT V1 < 4
M2M3 = M2 AND M3
SV2_metal = M2M3 INTERACT V2 == 1
U4V2_metal = M2M3 INTERACT V2 < 4
M3M4 = M3 AND M4
SV3_metal = M3M4 INTERACT V3 == 1
U4V3_metal = M3M4 INTERACT V3 < 4
M4M5 = M4 AND M5
SV4_metal = M4M5 INTERACT V4 == 1
U4V4_metal = M4M5 INTERACT V4 < 4
M5M6 = M5 AND M6
SV5_metal = M5M6 INTERACT V5 == 1
U4V5_metal = M5M6 INTERACT V5 < 4
M6M7 = M6 AND M7
SV6_metal = M6M7 INTERACT V6 == 1
U4V6_metal = M6M7 INTERACT V6 < 4
M7M8 = M7 AND M8
SV7_metal = M7M8 INTERACT V7 == 1
U4V7_metal = M7M8 INTERACT V7 < 4

//WIDE METAL FOR REDUNDANT VIA CHECK
WIDE_M1_0P30 = M1 WITH WIDTH >= 0.30
WIDE_M1_0P70 = WIDE_M1_0P30 WITH WIDTH >= 0.7

WIDE_M2_0P30 = M2 WITH WIDTH >= 0.30
WIDE_M2_0P70 = WIDE_M2_0P30 WITH WIDTH >= 0.7

WIDE_M3_0P30 = M3 WITH WIDTH >= 0.30
WIDE_M3_0P70 = WIDE_M3_0P30 WITH WIDTH >= 0.7

WIDE_M4_0P30 = M4 WITH WIDTH >= 0.30
WIDE_M4_0P70 = WIDE_M4_0P30 WITH WIDTH >= 0.7

WIDE_M5_0P30 = M5 WITH WIDTH >= 0.30
WIDE_M5_0P70 = WIDE_M5_0P30 WITH WIDTH >= 0.7

WIDE_M6_0P30 = M6 WITH WIDTH >= 0.30
WIDE_M6_0P70 = WIDE_M6_0P30 WITH WIDTH >= 0.7

WIDE_M7_0P30 = M7 WITH WIDTH >= 0.30
WIDE_M7_0P70 = WIDE_M7_0P30 WITH WIDTH >= 0.7

WIDE_M8_0P30 = M8 WITH WIDTH >= 0.30
WIDE_M8_0P70 = WIDE_M8_0P30 WITH WIDTH >= 0.7
//------------------------------------------------------------------------------------------

V1_org = OR VIA1i VIA1bar
V2_org = OR VIA2i VIA2bar
V3_org = OR VIA3i VIA3bar
V4_org = OR VIA4i VIA4bar
V5_org = OR VIA5i VIA5bar
V6_org = OR VIA6i VIA6bar
V7_org = OR VIA7i VIA7bar

V1bar = COPY VIA1bar
V2bar = COPY VIA2bar
V3bar = COPY VIA3bar
V4bar = COPY VIA4bar
V5bar = COPY VIA5bar
V6bar = COPY VIA6bar
V7bar = COPY VIA7bar

V1_slot = ((ENCLOSE RECTANGLE V1_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V1_org == 0.09)
V2_slot = ((ENCLOSE RECTANGLE V2_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V2_org == 0.09)
V3_slot = ((ENCLOSE RECTANGLE V3_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V3_org == 0.09)
V4_slot = ((ENCLOSE RECTANGLE V4_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V4_org == 0.09)
V5_slot = ((ENCLOSE RECTANGLE V5_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V5_org == 0.09)
V6_slot = ((ENCLOSE RECTANGLE V6_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V6_org == 0.09)
V7_slot = ((ENCLOSE RECTANGLE V7_org 0.1 0.30) AND GRID) INTERACT (WITH WIDTH V7_org == 0.09)

V1_slot_SG = (((ENCLOSE RECTANGLE V1_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V1_org == 0.09)) OR V1_slot
V2_slot_SG = (((ENCLOSE RECTANGLE V2_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V2_org == 0.09)) OR V2_slot
V3_slot_SG = (((ENCLOSE RECTANGLE V3_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V3_org == 0.09)) OR V3_slot
V4_slot_SG = (((ENCLOSE RECTANGLE V4_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V4_org == 0.09)) OR V4_slot
V5_slot_SG = (((ENCLOSE RECTANGLE V5_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V5_org == 0.09)) OR V5_slot
V6_slot_SG = (((ENCLOSE RECTANGLE V6_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V6_org == 0.09)) OR V6_slot
V7_slot_SG = (((ENCLOSE RECTANGLE V7_org 0.09 0.27) AND GRID) INTERACT (WITH WIDTH V7_org == 0.09)) OR V7_slot


#IFDEF Density_rules NO
DRC UNSELECT CHECK ACT_D_1_min, ACT_D_1_max, ACT_D_2, ACT_D_3, ACT_D_4_min, ACT_D_4_max, PO_D_1_min, PO_D_1_max, PO_D_2_min, PO_D_2_max, PO_D_3, MET1_D_1_min, MET1_D_1_max MET1_D_2, MET1_D_3, Mn_D_1_min, Mn_D_1_max, Mn_D_2, Mn_D_3, T4M1_D_1_min, T4M1_D_1_max, T4M1_D_2, T4M1_D_3, T4M2_D_1_min, T4M2_D_1_max, T4M2_D_2, T4M2_D_3, T2M1_D_1_min, T2M1_D_1_max,T2M1_D_2, T2M1_D_3, T2M2_D_1_min, T2M2_D_1_max, T2M2_D_2, T2M2_D_3, T8M1_D_1_R, T8M1_D_2, T8M1_D_3, T8M2_D_1_R, T8M2_D_2, T8M2_D_3, RDL_D_1_R, RDL_D_2_R  


#ENDIF


#IFDEF ALLOW_V01 YES

#ENDIF

#IFDEF ALLOW_V01 NO

#ENDIF

//******************************************
//    LAYER DERIVATIONS AND OPERATIONS
//******************************************


//==================
// For Connectivity
//==================

PACTi   = PPi AND ACTi
NACTi   = NPi AND ACTi

PTAPi   = PACTi NOT NW1i
NTAPi   = NACTi AND NW1i
ALL_TAPi    = PTAPi OR NTAPi
PGATEi  = PACTi AND POLYi
NGATEi  = NACTi AND POLYi

PSDi    = (PACTi NOT PGATEi) AND NW1i
NSDi    = (NACTi NOT NGATEi) NOT NW1i
ALL_SDi = PSDi OR NSDi
PMOSi   = (PGATEi OR PSDi) INTERACT GATE
NMOSi   = (NGATEi OR NSDi) INTERACT GATE

AARES = COPY ACTres
PORES = COPY POLYres

AA_resistor = ((AA AND AARES) AND SAB) OR ((AA AND AARES) NOT INTERACT SAB)
PO_resistor = (((PO AND PORES) AND SAB) OR ((PO AND PORES) NOT INTERACT SAB)) OR HPR
NW_resistor_AA = ((NW1res AND AA) AND NW) AND SAB
NW_resistor_STI = (NW1res AND NW) NOT INTERACT SAB
NW_resistor = NW_resistor_AA OR NW_resistor_STI

PO_all = POLYi OR POLYdmi
AA_all = ACTi OR ACTdmi

//AA0 = (ACTi NOT (AA_resistor OR NW1res)) NOT POLYi
PO0 = POLYi NOT (SAB AND (PORES OR HPR))
NW0 = NW1i NOT NW1res
NW00 = NW NOT NW1res

PTAP0   = PACTi NOT NW1i
NTAP0   = NACTi AND NW1i

HVNW0    = NW00 AND HVNW
MVNW0    = NW00 AND MVNW
LVNW0    = NW00 AND LVNW

//PO_raw = PO NOT SAB
PO_raw   = COPY PO

//==================
//  Resistor Def
//==================

NWR     = NW INTERACT NW1res
AAR     = AA INTERACT AARES
POR     = PO INTERACT PORES


NR      = NWR INSIDE AA
AANR    = AA INTERACT NWR
SDNNR    = SDN INTERACT NWR
SDPNR    = SDP INTERACT NWR

NWDEV   = NW NOT (NWR OR NR)
AADEV   = AA NOT (AAR OR AANR)
PODEV   = PO NOT POR
SDNDEV   = SDN NOT SDNNR
SDPDEV   = SDP NOT SDPNR

//=============
//   HRP Def
//=============

PO_HRP   =  ((HPR AND PO) AND HRP) AND SAB
//PO_HRP   = PO INTERACT HRP
//HR_PO    = PO_HRP AND HPR

//==================
//   Well Def
//==================

DRC:1   = EXTENT drawn original
BULK    = SIZE DRC:1 BY 1.0
CHIP = COPY DRC:1

//EMPTY = COPY CHIP
EMPTY1 = COPY EMPTY
//EMPTY4 = COPY EMPTY
EMPTY5 = COPY EMPTY

PW_INNW = DNW NOT NW
DNW_EDGE = EXPAND EDGE (DNW INSIDE EDGE NW) OUTSIDE BY 0.001
NW_DNW = NW INTERACT DNW_EDGE

DGTG    = TG OR DG

HVNW    = NW NOT OUTSIDE TG
MVNW    = NW NOT OUTSIDE DG
LVNW    = (NW NOT HVNW) NOT MVNW

HVNW1i	= NW1i NOT OUTSIDE TGOX 
MVNW1i	= NW1i NOT OUTSIDE DGOX 
LVNW1i	= (NW1i NOT HVNW1i) NOT MVNW1i


//==================
// Transistor Def
//==================

PACT    = SDP AND AA
NACT    = SDN AND AA
ACT     = PACT OR NACT


PPO     = SDP AND PO
NPO     = SDN AND PO

PTAP    = PACT NOT NW
NTAP    = NACT AND NW
TAP     = PTAP OR NTAP

PICKAA = TAP NOT ((TAP INTERACT GATE) AND VARAM)
NON_PICKAA = AA NOT PICKAA


PGATE   = PACT AND PO
NGATE   = NACT AND PO

GATE0 = PO AND AA 
AA1 = (AA INTERACT GATE0) NOT GATE0
AA2 = AA1 TOUCH GATE0 == 2
AA3 = AA1 INTERACT CT 
AA4 = AA2 OR AA3
GATE1 = GATE0 TOUCH AA4 == 2
GATE2 = GATE0 AND LDMOS
GATE  = GATE1 OR GATE2

FPOLY = PO NOT AA
GATE_L = (GATE COIN EDGE AA) NOT COIN EDGE PO
GATE_W = GATE COIN EDGE PO
GATE_60nm = (EXPAND EDGE GATE_W INSIDE BY 0.06) INSIDE EDGE GATE       //for SAB_5

GATE_core = GATE NOT (DG OR TG)                        //1.0/1.2V MOS GATE
GATE_core_L  = (GATE_core COIN EDGE AA) NOT COIN EDGE PO  //1.0/1.2V MOS GATE LENGTH
GATE_core_W  = GATE_core COIN EDGE PO			    //1.0/1.2V MOS GATE WIDTH

GATE_io1 = (GATE AND DG) NOT TG     //1.8V MOS GATE
GATE_io1_L = (GATE_io1 COIN EDGE AA) NOT COIN EDGE PO
GATE_io1_W = GATE_io1 COIN EDGE PO

GATE_io2 = (GATE AND TG) NOT DG
GATE_io2_L = (GATE_io2 COIN EDGE AA) NOT COIN EDGE PO
GATE_io2_W = GATE_io2 COIN EDGE PO

GATE_var = GATE AND VARAM                        //VARMOS GATE
GATE_var_L  = (GATE_var COIN EDGE AA) NOT COIN EDGE PO  //VARMOS GATE LENGTH
GATE_var_W  = GATE_var COIN EDGE PO			    //VARMOS GATE WIDTH

PSD     = (PACT NOT PGATE) TOUCH PGATE
NSD     = (NACT NOT NGATE) TOUCH NGATE

PMOS    = PGATE OR PSD
NMOS    = NGATE OR NSD
MOS     = PMOS OR NMOS

NMOS_CAP = NMOS AND NW

PBAA   	= AA AND PSUB
PBMOS   = NMOS AND PSUB
PBPO   	= PO INTERACT PSUB
NOMI_AA = AA NOT PBAA


AAEIPO  = AA INSIDE EDGE PO
POEIAA  = PO INSIDE EDGE AA

INTERPO = PO NOT GATE


//=====================
//   Poly E-Fuse Def
//=====================

EFU    = PO INTERACT EFUSEALL
EFU_BO = EFU AND POEFUSEBLK
RCT    = CT INTERACT EFU
RCT_RT = RECTANGLE RCT == 0.09 BY == 0.30


//=====================
//     CT Def
//=====================

ACT_CT   = CT AND AA
INTERCT  = CT AND INTERPO


#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF Density_rules YES

#ENDIF

#IFDEF IO 1825

#ENDIF

#IFDEF IO 1833

#ENDIF


//===============================
//   NVT3: High Vt NMOS Implant
//===============================

GROUP GNVT3 NVT3_?

NVT3_W_1 {
@ NVT3 width. Single-point-interaction is allowed. >= 0.18um
  (INT HVTN < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}

NVT3_S_1 {
@ Space between two NVT3s >= 0.18um
  (EXT HVTN < 0.18 ABUT<90 OPPOSITE REGION) NOT INSIDE NODRC
}

NVT3_S_2 {
@ Space between NVT3 and GATE along source/drain direction >= 0.180um
  X = (PO INSIDE EDGE (AA NOT HVTN)) COIN EDGE GATE
  (EXT X HVTN < 0.180 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

NVT3_S_3 {
@ Space between NVT3 and ACT along GATE poly direction, excluding SRAM region >= 0.15um
  X1 = NACT TOUCH EDGE (AA INSIDE EDGE PO)
  X2 = PACT TOUCH EDGE (AA INSIDE EDGE PO)
  X = X1 OR EDGE X2
  ((EXT X HVTN < 0.15 ABUT<90 REGION OPPOSITE) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

NVT3_S_4 {
@ NVT3 space to non-silicide ACT >=0.21
 X = (AA AND SAB) NOT INSIDE HVTN
 (EXT X HVTN < 0.21 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

NVT3_EX_1 {
@ NVT3 extension outside of GATE along source/drain direction >= 0.18um
  X = (PO INSIDE EDGE (NACT AND HVTN)) COIN EDGE GATE
  Y = EXPAND EDGE X OUTSIDE BY 0.18
  (Y NOT HVTN) NOT INSIDE NODRC
}

NVT3_EX_2 {
@ NVT3 extension outside of MOS ACT along GATE poly length direction. >= 0.15um
  X = (NACT AND HVTN) TOUCH EDGE GATE 
  Y = ENC X HVTN < 0.15 ABUT<90 REGION OPPOSITE
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
 }

NVT3_A_1 {
@ NVT3 area >= 0.18um2
  ((AREA HVTN < 0.18) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

NVT3_A_2 {
@ NVT3 Enclosed area >= 0.18um2
  (AREA ((HOLES HVTN INNER) NOT HVTN) < 0.18) NOT INSIDE NODRC
}

NVT3_R_1 {
@ It is not allowed NVT3 overlap with PSUB, P+ active ACT(exclude pick-up ACT), NVT1, DGOX or TGOX
  (AND HVTN PSUB) NOT INSIDE NODRC
  (AND HVTN (PACT NOT (NTAP OR PTAP))) NOT INSIDE NODRC
  (AND HVTN LVTN) NOT INSIDE NODRC
  (AND HVTN DG) NOT INSIDE NODRC
  (AND HVTN TG) NOT INSIDE NODRC
}


//===============================
//   PVT3: High Vt PMOS Implant
//===============================

GROUP GPVT3 PVT3_?

PVT3_W_1 {
@ PVT3 width. Single-point-interaction is allowed. >= 0.18um
  (INT HVTP < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}

PVT3_S_1 {
@ Space between two PVT3s >= 0.18um
  (EXT HVTP < 0.18 ABUT<90 OPPOSITE REGION) NOT INSIDE NODRC
}

PVT3_S_2 {
@ Space between PVT3 and GATE along source/drain direction >= 0.180um
  X = (PO INSIDE EDGE AA) COIN EDGE GATE
  (EXT X HVTP < 0.180 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

PVT3_S_3 {
@ Space between PVT3 and ACT along poly length direction, excluding SRAM region >= 0.15um
  X1 = PACT TOUCH EDGE (AA INSIDE EDGE PO)
  X2 = NACT TOUCH EDGE (AA INSIDE EDGE PO)
  X = X1 OR EDGE X2
  ((EXT X HVTP < 0.15 ABUT<90 REGION OPPOSITE) NOT INSIDE SRAMALL)NOT INSIDE NODRC
  }

PVT3_S_4 {
@ PVT3 space to non-silicide ACT >=0.21
 X = (AA AND SAB) NOT INSIDE HVTP
 (EXT X HVTP < 0.21 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

PVT3_EX_1 {
@ PVT3 extension outside of GATE along source/drain direction >= 0.180um
  X = (PO INSIDE EDGE (PACT AND HVTP)) COIN EDGE GATE
  Y = EXPAND EDGE X OUTSIDE BY 0.180
  (Y NOT HVTP) NOT INSIDE NODRC
}

PVT3_EX_2 {
@ PVT3 extension outside of ACT along GATE poly length direction. >= 0.15um
  X = (PACT AND HVTP) TOUCH EDGE GATE
  Y = ENC X HVTP < 0.15 ABUT<90 REGION OPPOSITE
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

PVT3_A_1 {
@ PVT3 area >= 0.18um2
  ((AREA HVTP < 0.18) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

PVT3_A_2 {
@ PVT3 Enclosed area >= 0.18um2
  (AREA ((HOLES HVTP INNER) NOT HVTP)< 0.18) NOT INSIDE NODRC
}

PVT3_R_1 {
@ It is not allowed PVT3 overlap with PSUB, N+ active ACT(exclude pick-up ACT), PVT1, DGOX or TGOX 
  (AND HVTP PSUB) NOT INSIDE NODRC
  (AND HVTP (NACT NOT (NTAP OR PTAP))) NOT INSIDE NODRC
  (AND HVTP LVTP) NOT INSIDE NODRC
  (AND HVTP DG) NOT INSIDE NODRC
  (AND HVTP TG) NOT INSIDE NODRC
}

//===========================================
//  NVT1: low Vt NMOS design minima 
//===========================================

GROUP GNVT1 NVT1_?

NVT1_W_1 {
@ NVT1 width. Single-point-interaction is allowed. >= 0.18um
  (INT LVTN < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}

NVT1_S_1 {
@ Space between two NVT1s >= 0.18um
  (EXT LVTN < 0.18 ABUT<90 OPPOSITE REGION) NOT INSIDE NODRC
}

NVT1_S_2 {
@ Space between NVT1 and GATE along source/drain direction >= 0.180um
  X1 = PO INSIDE EDGE (NACT NOT LVTN)
  X2 = PO INSIDE EDGE (PACT NOT LVTN)
  X = X1 OR EDGE X2
  (EXT LVTN X < 0.180 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

NVT1_S_3 {
@ Space between NVT1 and ACT along poly length direction. >= 0.15um
  X1 = NACT TOUCH EDGE (AA INSIDE EDGE PO)
  X2 = PACT TOUCH EDGE (AA INSIDE EDGE PO)
  X = X1 OR EDGE X2
  (EXT X LVTN < 0.15 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

NVT1_S_4 {
@ NVT1 space to non-silicide ACT >=0.21
  A = LVTN INSIDE EDGE GATE
  B = LVTN OUTSIDE EDGE GATE
 X = (AA AND SAB) NOT INSIDE LVTN
 (EXT X LVTN < 0.21 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

NVT1_EX_1 {
@ NVT1 extension outside of GATE along source/drain direction >= 0.180um
  X = PO INSIDE EDGE (NACT AND LVTN)
  Y = EXPAND EDGE X OUTSIDE BY 0.180
  (Y NOT LVTN) NOT INSIDE NODRC
}

NVT1_EX_2 {
@ NVT1 extension outside of ACT along GATE poly length direction. >= 0.15um
  X = (NACT AND LVTN) TOUCH EDGE GATE
  (ENC X LVTN < 0.15 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

NVT1_A_1 {
@ NVT1 area >= 0.18um2
  (AREA LVTN < 0.18) NOT INSIDE NODRC
}
NVT1_A_2 {
@ NVT1 enclosed area >= 0.18um2
  (AREA ((HOLES LVTN INNER) NOT LVTN)< 0.18) NOT INSIDE NODRC
}

NVT1_R_1 {
@ It is not allowed NVT1 overlap with PSUB, P+ active ACT(exclude pick-up ACT),DGOX or TGOX 
  (AND LVTN PSUB) NOT INSIDE NODRC
  (AND LVTN (PACT NOT (NTAP OR PTAP))) NOT INSIDE NODRC
  (AND LVTN DG) NOT INSIDE NODRC
  (AND LVTN TG) NOT INSIDE NODRC
}


//============================================
//  PVT1:  low Vt PMOS design minima 
//============================================

GROUP GPVT1 PVT1_?

PVT1_W_1 {
@ PVT1 width >= 0.18um
  (INT LVTP < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
PVT1_S_1 {
@ Space between two PVT1s >= 0.62um
  (EXT LVTP < 0.62 ABUT<90 OPPOSITE REGION) NOT INSIDE NODRC
}

PVT1_S_2 {
@ Space between PVT1 and GATE of along source/drain direction >= 0.268um
  X1 = PO INSIDE EDGE (PACT NOT LVTP)
  X2 = PO INSIDE EDGE (NACT NOT LVTP)
  X = X1 OR EDGE X2
  (EXT LVTP X < 0.268 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}

PVT1_S_3 {
@ Space between PVT1 and ACT along poly length direction. >= 0.18um
  X1 = PACT TOUCH EDGE (AA INSIDE EDGE PO)
  X2 = NACT TOUCH EDGE (AA INSIDE EDGE PO)
  X = X1 OR EDGE X2
  (EXT X LVTP < 0.18 ABUT<90  REGION OPPOSITE) NOT INSIDE NODRC
}


PVT1_EX_1 {
@ PVT1 extension outside of GATE along source/drain direction >= 0.268um
  X = PO INSIDE EDGE (PACT AND LVTP)
  Y = EXPAND EDGE X OUTSIDE BY 0.268
  (Y NOT LVTP) NOT INSIDE NODRC
}

PVT1_EX_2 {
@ PVT1 extension outside of ACT along GATE poly length direction. >= 0.18um
  X = (PACT AND LVTP) TOUCH EDGE GATE
  (ENC X LVTP < 0.18 ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}


PVT1_A_1 {
@ PVT1 area >= 0.18um2
  (AREA LVTP < 0.18) NOT INSIDE NODRC
}
PVT1_A_2 {
@ PVT1 enclosed area >= 0.18um2
  (AREA ((HOLES LVTP INNER) NOT LVTP)< 0.18) NOT INSIDE NODRC
}

PVT1_R_1 {
@ PVT1 overlap with PSUB is not allowed
  (AND LVTP PSUB) NOT INSIDE NODRC
}


//===============================
// ULLD-- Ultra Low Leakage(ULLD)  
//===============================

GROUP GULLD ULLD_?

ULLD_W_1 {
@ ULLD width single-point-interaction is allowed. >= 0.18
  (INT UVT <0.18 ABUT<90 REGION) NOT INSIDE NODRC 
}

ULLD_S_1 {
@ Space between two ULLDs >= 0.18um
  (EXT UVT < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}

ULLD_S_2 {
@ Space between ULLD and ACT >= 0.02um
  (EXT UVT AA < 0.02 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}

ULLD_S_4 {
@ Space between ULLD and NACT >=0.055um.
  (EXT UVT NACT < 0.055 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}

ULLD_S_5 {
@ Space between ULLD and GATE along source/drain direction >= 0.18 um.
  LAY_POLY = COPY POLYi
  ACT = PACT OR NACT
  X1 = LAY_POLY INSIDE EDGE ACT
  (EXT X1 UVT < 0.18 ABUT < 90 OPPOSITE REGION) NOT INSIDE NODRC
}

ULLD_S_6 {
@ Space between ULLD and ACT along GATE poly length direction is >= 0.15um.
  LAY_POLY = COPY POLYi
  ACT = PACT OR NACT
  X1 = ACT INSIDE EDGE LAY_POLY
  X2 = AA TOUCH EDGE X1
  (EXT X2 UVT < 0.15 ABUT < 90 OPPOSITE REGION) NOT INSIDE NODRC
}

ULLD_EX_1 {
@ ULLD extention outside of ACT is >= 0.02um
  (ENC AA UVT < 0.02 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}

ULLD_EX_2 {
@ ULLD extention GATE along source/drain direction >= 0.18um.
  LAY_POLY = COPY POLYi
  ACT = PACT OR NACT
  X1 = LAY_POLY INSIDE EDGE ACT
  (ENC X1 UVT < 0.18 ABUT < 90 OPPOSITE REGION) NOT INSIDE NODRC
}

ULLD_EX_3a {
@ ULLD extention outside of N+ ACT along GATE poly length direction >= 0.15um.
@ if the distance to the related poly is less than or qual to 0.20um.
  LAY_POLY = COPY POLYi
  ACT = PACT OR NACT
  X1 = ACT INSIDE EDGE LAY_POLY
  X2 = AA TOUCH EDGE X1
  X3 = EXPAND EDGE X1 OUTSIDE BY 0.001 EXTEND BY 0.20
  X4 = X2 COIN EDGE X3
 (ENC X4 UVT < 0.16 ABUT < 90 OPPOSITE REGION) NOT INSIDE NODRC
}

ULLD_EX_3b {
@ ULLD extention outside of N+ ACT along GATE poly length direction >= 0.12um.
@ if the distance to the related poly is larger than 0.20um.
  LAY_POLY = COPY POLYi
  ACT = PACT OR NACT
  X1 = ACT INSIDE EDGE LAY_POLY
  X2 = AA TOUCH EDGE X1
  X3 = EXPAND EDGE X1 OUTSIDE BY 0.001 EXTEND BY 0.20
  X4 = X2 NOT COIN EDGE X3
  (ENC X4 UVT < 0.12 ABUT < 90 OPPOSITE REGION) NOT INSIDE NODRC
}

ULLD_A_1 {
@ULLD area >= 0.18um2
(AREA UVT < 0.18) NOT INSIDE NODRC 
}

ULLD_A_2 {
@ULLD area >= 0.18um2
(AREA (HOLES UVT INNER) < 0.18) NOT INSIDE NODRC 
}

ULLD_R_1 {
@ It is not alloweded ULLD overlap with (PSUB, DGOX OR TGOX)
 (UVT AND PSUB) NOT INSIDE NODRC 
 (UVT AND DG) NOT INSIDE NODRC 
 (UVT AND TG) NOT INSIDE NODRC 
}

ULLD_R_2 {
@ ULLD must interact NVT3 or PVT3
 (UVT NOT INTERACT HVTN) NOT INSIDE NODRC 
 (UVT NOT INTERACT HVTP) NOT INSIDE NODRC 
}

//============================
//   DGOX - Dual Gate DRC
//============================


GROUP DGOX DGOX_?

DGOX_W_1 {
@ DGOX width >= 0.47 um
  (INT DG < 0.47 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_S_1 {
@ Space between two DGOXs >= 0.47um
  (EXT DG < 0.47 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_S_2 {
@ Space between DGOX and MOS ACT, overlap is not allowed  >= 0.25um
  (EXT DG MOS < 0.25 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
  (EXT DG AA_LDMOS < 0.25 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_S_3 {
@ Space between DGOX and GATE, overlap is not allowed >= 0.32um
  (EXT DG GATE < 0.32 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_S_4 {
@ Space between DGOX and NW1 >= 0.47um
  (EXT NW DG > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_S_5 {
@ Space between DGOX and PSUB >= 0.47um
  (EXT PSUB DG > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_EN_1 {
@ Enclosure of ACT by DGOX(Except pick-up ACT) >= 0.25um
  (ENC (AA NOT (NTAP OR PTAP)) DG < 0.25 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_EN_2 {
@ Enclosure of ACT by DGOX along GATE poly direction >= 0.25um
  X = MOS TOUCH EDGE (GATE INSIDE DG)
  ENC X DG < 0.25 ABUT<90 REGION
}

DGOX_EN_3 {
@ Enclosure of GATE by DGOX, along source/drain direction >= 0.32um
  (ENC GATE_W DG < 0.32 ABUT<90  REGION OPPOSITE) NOT INSIDE NODRC
}

DGOX_EX_1 {
@ NW1 extention to DGOX, Extention = 0 is allowed >= 0.47um
  (ENC DG NW > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_EX_2 {
@ DGOX extention on NW1, Extention = 0 is allowed  >= 0.47um
  (ENC NW DG > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_EX_3 {
@ DGOX extention on PSUB, Extention = 0 is allowed  >= 0.47um
  (ENC PSUB DG > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_O_1 {
@ Overlap of DGOX and NW1, Overlap = 0 is allowed  >= 0.47um
  (INT DG NW > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

DGOX_O_2 {
@ Overlap of DGOX and PSUB, Overlap = 0 is allowed >= 0.47um
  (INT DG PSUB > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}


//==========================
//   TGOX - Triple Gate DRC
//==========================

GROUP GTGOX TGOX_? 

TGOX_W_1 {
@ TGOX width >= 0.47um
  (INT TG < 0.47 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
TGOX_S_1 { 
@ Space between two TGOXs >= 0.47um
  (EXT TG < 0.47 ABUT<90 SINGULAR REGION ) NOT INSIDE NODRC
} 
TGOX_S_2 { 
@ Space between TGOX and MOS ACT >= 0.25um.
  (EXT TG MOS < 0.25 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

TGOX_S_3 {
@ Space between TGOX and GATE >= 0.32um
  (EXT GATE TG < 0.32 ABUT<90  REGION) NOT INSIDE NODRC 
}

TGOX_S_4 {
@ Space between TGOX and NW1 >= 0.47um
  (EXT NW TG > 0 < 0.46 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

TGOX_S_5 {
@ Space between TGOX and PSUB >= 0.47um
  (EXT TG PSUB < 0.47 ABUT<90 SINGULAR REGION ) NOT INSIDE NODRC
}

TGOX_S_6 {
@ Space between TGOX and DGOX >= 0.47um
  (EXT TG DG < 0.47 ABUT<90 SINGULAR REGION INSIDE ALSO ) NOT INSIDE NODRC
}

TGOX_EN_1 { 
@ Enclosure of ACT by TGOX(except pickup ACT) >= 0.25um 
  ENC MOS TG < 0.25 ABUT<90 SINGULAR REGION
  X = (LDMOSSTI AND LDMOS) INTERACT PO
  Y = AA TOUCH X
  (ENC Y TG < 0.25 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
} 

TGOX_EN_2 { 
@ Enclosure of GATE along GATE poly direction >= 0.25um
  X = MOS TOUCH EDGE (GATE INSIDE TG)
  (ENC X TG < 0.25 ABUT<90 REGION) NOT INSIDE NODRC
}
TGOX_EN_3 {
@ Enclosure of GATE by TGOX, along source/drain direction >= 0.32um
  (ENC GATE_W TG < 0.32 ABUT<90  REGION OPPOSITE ) NOT INSIDE NODRC 
}
TGOX_EX_1 {
@ NW1 extention on TGOX, Extention = 0 is allowed >= 0.47um
  (ENC TG NW > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}
TGOX_EX_2 {
@ TGOX extension on NW, Extention = 0 is allowed >= 0.47um
  (ENC NW TG > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

TGOX_EX_3 {
@ TGOX extension of PSUB, Extention = 0 is allowed >= 0.47um
  (ENC PSUB TG > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

TGOX_O_1 {
@ Overlap of TGOX and NW1, overlap = 0 is allowed >= 0.47um
  (INT TG NW > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}

TGOX_O_2 {
@ Overlap of TGOX and PSUB, overlap = 0 is allowed >= 0.47um
  (INT TG PSUB > 0 < 0.47 ABUT>0<90 SINGULAR REGION) NOT INSIDE NODRC
}
		


#IFDEF IO 1825

#ENDIF

#IFDEF IO 1833

#ENDIF

#IFDEF IO 1825

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF Density_rules YES

#ENDIF

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF


DMACRO NPLH_68 LAY_IMP LAY_ACT ENC_SD ENC_PO ENC_EXTENSION {
 X = PO INSIDE EDGE LAY_ACT
 A = EXPAND EDGE X INSIDE BY ENC_EXTENSION OUTSIDE BY ENC_EXTENSION CORNER FILL
 Y = (PO AND LAY_ACT) COIN EDGE LAY_ACT
 B = EXPAND EDGE Y OUTSIDE BY ENC_PO EXTEND BY ENC_EXTENSION
 C = A OR B
 (ENC LAY_ACT (LAY_IMP INSIDE EDGE C) < ENC_PO ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
 (ENC X LAY_IMP < ENC_SD ABUT<90 REGION OPPOSITE) NOT INSIDE NODRC
}
DMACRO SNP_68 LAY_IMP LAY_ACT ENC_SD ENC_PO ENC_EXTENSION {
 X = PO INSIDE EDGE LAY_ACT
 A = EXPAND EDGE X INSIDE BY ENC_EXTENSION OUTSIDE BY ENC_EXTENSION CORNER FILL
 Y = (PO AND LAY_ACT) COIN EDGE LAY_ACT
 B = EXPAND EDGE Y OUTSIDE BY ENC_PO EXTEND BY ENC_EXTENSION
 C = A OR B
 D = ENC LAY_ACT (LAY_IMP INSIDE EDGE C) < ENC_PO ABUT<90 REGION OPPOSITE
 (D NOT INSIDE SRAMALL) NOT INSIDE NODRC
 E = ENC X LAY_IMP < ENC_SD ABUT<90 REGION OPPOSITE
 (E NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

//=================================
//  NP - N+ S/D Implantation DRC
//=================================

GROUP GNP NP_?

NP_W_1 {
@ NP width. Single-point-interaction is allowed. >= 0.18um
  (INT SDN < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}

NP_S_1 {
@ Space between two NPs. >= 0.18um
  (EXT SDN < 0.18 ABUT<90 OPPOSITE REGION) NOT INSIDE NODRC
}

NP_S_2 {
@ Space between NP and P+ ACT inside NW >= 0.12um
  X = (PACT NOT PTAP) NOT TOUCH EDGE SDN
  Y = EXT SDN X < 0.12 ABUT<90 REGION
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

NP_S_3 {
@ Space between NP and P+ pick-up ACT inside PW >= 0.02um
  X = PTAP NOT TOUCH EDGE NACT
  Y = X NOT TOUCH EDGE SDN
  (EXT SDN Y < 0.02 ABUT<90 REGION) NOT INSIDE NODRC
}

NP_S_4 {
@ Space between NP and butted P+ACT (except SRAM area). = 0.00um
  X = SDN AND PACT
  (X NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

NP_S_5 {
@ Space between NP and PMOS GATE >= 0.3um
  X = GATE_W INSIDE EDGE SDP
  Y = EXT X SDN < 0.3 ABUT<90 OPPOSITE  REGION
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

NP_S_6 {
@ Butted P+ pick-up ACT space to PO in the same ACT (the butted N+ACT extending <0.16um) is 0.3
  NAAL = NACT TOUCH INSIDE EDGE NGATE
  NAAL_EP = EXPAND EDGE NAAL OUTSIDE BY 0.16 EXTEND BY 0.01
  BUTNA_ED = PACT COIN EDGE (NACT NOT NTAP)
  BUTNA_ED_1 = BUTNA_ED INSIDE EDGE NAAL_EP
  BUTSDN_1 = (PACT INTERACT PW) WITH EDGE BUTNA_ED_1
  
  POSDN_1 = (PO INSIDE EDGE ((NACT NOT NTAP) TOUCH PACT)) COIN EDGE NGATE
  POSDN   = (PO WITH EDGE POSDN_1) TOUCH EDGE NGATE  
  (EXT BUTSDN_1 POSDN < 0.30 ABUT<90 REGION) NOT INSIDE NODRC
}

NP_EN_1 {
@ ACT enclosure by NP, except the SRAMALL region. >= 0.02um
  X = ((ACT NOT SDNNR) NOT COIN EDGE PACT) NOT COIN EDGE SDP
  (ENC X SDN < 0.02 ABUT<90 REGION) NOT INSIDE NODRC
}

NP_EN_2 {
@ N+AA enclosure by NP, except the SRAMALL region. >= 0.12um
  X = (((NACT NOT INTERACT NWR) NOT COIN EDGE PACT) NOT COIN EDGE SDP) INSIDE EDGE PW
  ((ENC X (SDN AND PW) < 0.12 ABUT<90 REGION) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

NP_EN_3 {
@Minimum NP Enclosure PO >= 0.15um
(ENC POLYi SDN < 0.15 ABUT<90 REGION) NOT INSIDE NODRC
}

NP_EX_1_EX_1a {
@ NP extension outside of NMOS GATE poly when NP edge is on ACT . >= 0.3um
@ NP extension outside of GATE >= 0.16um
  SDN_S = SDN NOT INSIDE SRAMALL
  NACT_S = NACT NOT INSIDE SRAMALL
  CMACRO SNP_68 SDN_S NACT_S 0.3 0.16 0.2
}


NP_O_1 {
@ Overlap of NP and ACT >= 0.12um
  (INT SDN AA < 0.12 ABUT >0 <90 SINGULAR REGION) NOT INSIDE NODRC
}
NP_A_1 {
@ NP area >= 0.12um2
  (AREA SDN < 0.12) NOT INSIDE NODRC
}
NP_A_2 {
@ NP enclosed area >= 0.12um2
  (AREA ((HOLES SDN INNER) NOT SDN) < 0.12 ) NOT INSIDE NODRC
}
NP_A_3 {
@ Minimum area of butted NW1 TAP >= 0.04um2
  (AREA (NTAP TOUCH (NACT NOT NTAP))< 0.04 ) NOT INSIDE NODRC
}

//=======================================
//  PP - P+ S/D implantation DRC
//=======================================

GROUP GPP PP_?

PP_W_1 {
@ PP width. Single-point-interaction is allowed. >= 0.18um
  (INT SDP < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}

PP_S_1 {
@ Space between two PPs. >= 0.18um
  (EXT SDP < 0.18 ABUT<90 OPPOSITE REGION) NOT INSIDE NODRC
}

PP_S_2 {
@ Space between PP and N+ ACT >= 0.12um
  X = (NACT NOT NTAP) NOT TOUCH EDGE SDP
  Y = EXT SDP X < 0.12 ABUT<90 REGION
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
PP_S_3 {
@ Space between PP and N+ ACT inside Nwell >= 0.02um
  X = NTAP NOT TOUCH EDGE PACT
  Y = X NOT TOUCH EDGE SDP
  (EXT SDP Y < 0.02 ABUT<90 REGION) NOT INSIDE NODRC
}
PP_S_4 {
@ Space between PP and butted N+ACT (except SRAM area). = 0.00um
  X = SDP AND NACT
  (X NOT INSIDE SRAMALL) NOT INSIDE NODRC
} 

PP_S_5 {
@ Space between PP and NMOS GATE. >= 0.30um
  X = PO INSIDE EDGE NACT
  Y = EXT SDP X < 0.30 ABUT<90 REGION OPPOSITE
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

PP_S_6 {
@ Space between utted N+ pick-up ACT and PO in the same ACT (the butted P+ACT extending < 0.16um) >= 0.30um
  PAAL = PACT TOUCH INSIDE EDGE PGATE
  PAAL_EP = EXPAND EDGE PAAL OUTSIDE BY 0.16 EXTEND BY 0.01
  BUTNA_ED = NACT COIN EDGE (PACT NOT PTAP)
  BUTNA_ED_1 = BUTNA_ED INSIDE EDGE PAAL_EP
  BUTSDN_1 = (NACT INTERACT NW) WITH EDGE BUTNA_ED_1
  POSDP_1 = (PO INSIDE EDGE (PACT  TOUCH NACT)) COIN EDGE PGATE
  POSDP   = (PO WITH EDGE POSDP_1) TOUCH EDGE PGATE  
  (EXT BUTSDN_1 POSDP < 0.30 ABUT<90 REGION) NOT INSIDE NODRC
}


PP_EN_1 {
@ Enclosure of P+ ACT in PW, except the SRAMALL region >= 0.02um
  X = ((PTAP NOT INTERACT NWR) NOT COIN EDGE NACT) NOT COIN EDGE SDN
  ((ENC X SDP < 0.02 ABUT<90 REGION) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
PP_EN_2 {
@ Enclosure of P+ ACT NW1, except the SRAMALL region. >= 0.12um
  X = (((PACT NOT INTERACT NWR) NOT COIN EDGE NACT) NOT COIN EDGE SDN) INSIDE EDGE NW
  ((ENC X (SDP AND NW) < 0.12 ABUT<90 REGION) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

PP_EN_3 {
@Minimum PP Enclosure of POLY >=0.15um
((ENC POLYi SDP < 0.15 ABUT<90 REGION) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

PP_EX_1_EX_1a {
@ PP extension outside of PMOS GATE along source/drain direction. >= 0.16um
@ PP extension of PMOS gate poly when PP edge on ACT. >= 0.3um
 SDP_S = SDP NOT INSIDE SRAMALL
 PACT_S = PACT NOT INSIDE SRAMALL
 CMACRO SNP_68 SDP_S PACT_S 0.3 0.16 0.2
}

PP_O_1 {
@ Overlap of PP and ACT >= 0.12um
  (INT SDP (AA NOT TOUCH EDGE SDP) < 0.12 ABUT<90 REGION) NOT INSIDE NODRC
}
PP_A_1 {
@ PP area >= 0.12um2
  (AREA SDP < 0.120) NOT INSIDE NODRC
}
PP_A_2 {
@ PP enclosed area >= 0.12um2
  (AREA ((HOLES SDP INNER) NOT SDP) < 0.12) NOT INSIDE NODRC
}
PP_A_3 {
@ Minimum area of butted PW TAP >= 0.04um2
  (AREA (PTAP TOUCH (PACT NOT PTAP))< 0.04 ) NOT INSIDE NODRC
}

PP_R_1 {
@ PP overlap with NP is not allowed
  (AND SDN SDP) NOT INSIDE NODRC
}

PP_R_3 {
@ It is not allowed NP butted PP on unsilicided ACT/POLY
 A = SDN COIN EDGE SDP
 A INSIDE EDGE ((AA OR PO) AND SAB)
}

//=================================
//  SAB - Salicide Block DRC
//=================================

GROUP GSAB SAB_?

SAB_W_1 {
@ SAB width >= 0.42um
  (INT SAB < 0.42 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_S_1 {
@ Space between two SABs >= 0.42um
  (EXT SAB < 0.42 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_S_2 {
@ Space between two SABs when one or both SABs interact with PO. DRC waive if no (PO OR ACT) exists in the space region. >= 0.44um
  ((EXT (SAB INTERACT PO) SAB < 0.44 ABUT<90 SINGULAR REGION) INTERACT (PO OR AA)) NOT INSIDE NODRC
}
SAB_S_3 {
@ Space between SAB and ACT >= 0.21um
  (EXT SAB AA < 0.21 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_S_4 {
@ Space between SAB and GATE
@ SAB overlap with GATE is forbidden, DRC waive ESDIOE regions and waive the total SAB which overlaps GATE 60nm. >= 0.36um
  (EXT SAB GATE < 0.36 ABUT<90 REGION) NOT INSIDE NODRC
  ESD_REGION = INT GATE_W SAB == 0.06 OPPOSITE REGION 
  (((SAB NOT INTERACT ESD_REGION) AND GATE) NOT INSIDE ESDIOE ) NOT INSIDE NODRC 
}
SAB_S_5 {
@ Space between SAB and poly on field oxide. >= 0.3um
  PO_CHECK = PO NOT (AA OR AADUM)
  (EXT SAB PO_CHECK < 0.3 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_S_6 {
@ Space between SAB and CT >= 0.21um
  (EXT SAB CT < 0.21 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_EX_1 {
@ ACT extension outside of SAB >= 0.21um
  (ENC SAB AA < 0.21 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_EX_2 {
@ Extension of SAB outside of ACT >= 0.21um
  (ENC AA SAB < 0.21 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
SAB_EX_3 {
@ Extension of SAB outside of poly on field oxide >= 0.21um
  (ENC (PO NOT (AA OR AADUM)) SAB < 0.21 ABUT<90 REGION) NOT INSIDE NODRC
}

#IFDEF OPEN_RECOMMENDED_ON YES

 SAB_EX_4_R {
@ Extension on unsilicided ACT/POLY when SAB width is > 10um
@ DRC waive if >= 5 poly fingers interact with the SAB. >= 0.30um
   SAB_CHECK = (SAB WITH WIDTH > 10) NOT INTERACT (PO AND SAB) > 4
  (ENC ((AA OR PO) INTERACT SAB) SAB_CHECK < 0.3 ABUT < 90 REGION) NOT INSIDE NODRC
}
#ENDIF
SAB_A_1 {
@ SAB area >= 0.8um2
  (AREA SAB < 0.8) NOT INSIDE NODRC
}
SAB_A_2 {
@ SAB enclosed area >= 0.8um2
  (AREA ((HOLES SAB INNER) NOT SAB)< 0.8) NOT INSIDE NODRC
}


SAB_R_1 {
@ SAB butted  ACT/POLY is not allowed
  (SAB COIN EDGE PO) NOT INSIDE EDGE NODRC
  (SAB COIN EDGE AA) NOT INSIDE EDGE NODRC
}
SAB_R_2 {
@ SAB overlap GATE is not allowed except ESD MOS
  ((SAB AND GATE) NOT INSIDE ESDIOE) NOT INSIDE EDGE NODRC
}

//========================
//  CT - Contact DRC
//========================

GROUP GCT CT_?

CTN = CT AND (RECTANGLE CT ASPECT == 1)

CT_W_1 {
@ Fixed CT width (square shape) exclude SRAMALL(177;4) FUSEALL, and GRID
@ DRC waive rectangular CT in SRAM and EFUSEALL area, and waive protection ring purpose non-rectangular CT in GRID area =0.09um
  X = NOT RECTANGLE ((CT NOT RCT) NOT GCT) == 0.09 BY == 0.09
  (X NOT INSIDE ((GRID OR SRAMALL) OR EFUSEALL)) NOT INSIDE (SRINGBLK OR NODRC)
  (NOT RECTANGLE (RECTANGLE (CT AND GRID)) == 0.09 BY == 0.09) NOT INSIDE (SRINGBLK OR NODRC)
  (NOT RECTANGLE (RECTANGLE (CT AND EFUSEALL) ASPECT == 1) == 0.09 BY == 0.09) NOT INSIDE (SRINGBLK OR NODRC)
  (NOT RECTANGLE (RECTANGLE (CT AND SRAMALL) ASPECT == 1) == 0.09 BY == 0.09) NOT INSIDE (SRINGBLK OR NODRC)
 
}
CT_W_2 {
@ Fixed CT bar width, except rectangular CT in SRAMALL (177;4) FUSEALL region = 0.09um
   (WITH WIDTH CTbar < 0.09) NOT INSIDE (OR SRAMALL EFUSEALL)
   (WITH WIDTH CTbar > 0.09) NOT INSIDE (OR SRAMALL EFUSEALL)
}


CT_S_1 {
@ Space between two contacts >= 0.11um
  X = EXT CT < 0.11 ABUT<90 SINGULAR REGION
  (X NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
CT_S_1a {
@ Space between CT and 3-neighboring CTs (space is <= 0.15um)  >= 0.14um
  X = SIZE CT BY 0.075 OVERUNDER
  Y = SIZE X BY 0.340 UNDEROVER
  Z = CT INSIDE Y
  (EXT Z < 0.14 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
  

CT_S_2 {
@ CT space at different nets, except SRAMALL region. >= 0.12um
 (EXT CT < 0.12 SINGULAR REGION NOT CONNECTED) NOT INSIDE (SRAMALL OR NODRC)

}
CT_S_3 {
@ Space between ACT and contact on POLY >= 0.065um
  (EXT CT AA < 0.065 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
CT_S_4 {
@ Space between POLY and contact on ACT for 0.9V/1.2V >= 0.055um
  X = EXT (PO INTERACT GATE_core) ACT_CT < 0.055 ABUT<90 SINGULAR REGION 
  (X NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
#IFDEF OPEN_RECOMMENDED_ON YES

CT_S_4_R {
@ Recomended Space between POLY and contact on ACT for 0.9V/1.2V >= 0.06 um
  X = EXT (PO INTERACT GATE_core) ACT_CT < 0.06 ABUT<90 SINGULAR REGION 
  (X NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
#ENDIF

CT_S_5 {
@ Space between GATE and contact on ACT for 1.8/2.5/3.3V >= 0.09um
  X1 = EXT GATE_io1 (ACT_CT AND DG) < 0.09 ABUT<90 SINGULAR REGION
  X2 = EXT GATE_io2 (ACT_CT AND TG) < 0.09 ABUT<90 SINGULAR REGION
  (X1 OR X2) NOT INSIDE NODRC
}

 CT_S_6 {
@ Space to butted SDN/SDP edge on ACT (overlap of NP/PP boundary on ACT is not allowed) >= 0.06um
   X = (SDN COIN EDGE SDP) NOT OUTSIDE EDGE AA
   Y = (SDP COIN EDGE SDN) NOT OUTSIDE EDGE AA
   (X INSIDE EDGE CT) NOT INSIDE EDGE NODRC
   (Y INSIDE EDGE CT) NOT INSIDE EDGE NODRC
   (ENC CT X < 0.06 ABUT<90 REGION ) NOT INSIDE NODRC
   (ENC CT Y < 0.06 ABUT<90 REGION ) NOT INSIDE NODRC
}

CT_EN_1 {
@ CT must be fully covered by M1 and (ACT OR POLY), except SRAMALL region.
  ((CT NOT (M1 AND (PO OR AA))) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}

CT_EN_2a {
@ CT enclosure by ACT for CT >= 0.015um
  X = CT INTERACT AA
  Y = ENC X AA < 0.015 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
CT_EN_2b {
@ CT enclosure by ACT for at least two opposite sides >= 0.03um
 X = RECTANGLE ENC (CT INTERACT AA) AA ABUT<90 OUTSIDE ALSO\
  GOOD 0.015 OPPOSITE 0.03 OPPOSITE 0.015 OPPOSITE 0.03 OPPOSITE
  A = ENC [X] AA < 0.03 OPPOSITE
  D2 = INT A < 0.01 ABUT==90 INTERSECTING ONLY REGION      
  D2 NOT INSIDE SRAMALL
  ((CT INTERACT AA) NOT AA) NOT INSIDE SRAMALL
}
#IFDEF OPEN_RECOMMENDED_ON YES
CT_EN_2_R {
@ Recomended CT enclosure by ACT for all sides >= 0.04um
  X = CT INTERACT AA
  Y = ENC X AA < 0.04 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
#ENDIF
CT_EN_3a_3b_3c {
@ Min CT enclosure by poly is 0.01
@ Min CT enclosure by poly when one or both perpendicular directions <0.04um is 0.04um
   X = RECTANGLE ENC (CT INTERACT PO) PO ABUT<90 OUTSIDE ALSO
  GOOD 0.01 OPPOSITE 0.04 OPPOSITE 0.01 OPPOSITE 0.04 OPPOSITE
  GOOD 0.025 0.025 0.025 0.025 

  D1 = ENC X PO < 0.01 ABUT<90 SINGULAR REGION OVERLAP OUTSIDE ALSO
  (D1 NOT INSIDE SRAMALL) NOT INSIDE NODRC

  A = ENC [X] PO < 0.04 OPPOSITE
  D2 = INT A < 0.01 ABUT==90 INTERSECTING ONLY REGION      //; For CT not touching M1
  D2 NOT INSIDE SRAMALL

  B = ENC X PO < 0.025 ABUT<90 SINGULAR REGION OVERLAP OUTSIDE ALSO
  (B NOT INSIDE SRAMALL) NOT INSIDE NODRC

  ((CT INTERACT PO) NOT PO) NOT INSIDE SRAMALL
  }
#IFDEF OPEN_RECOMMENDED_ON YES
CT_EN_3_R {
@ Recommended CT enclosure by poly for all sides to avoid high RC >= 0.06um
  X = CT INTERACT PO
  Y = ENC X PO < 0.06 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  (Y NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
#ENDIF
CT_EN_4b {
@ Minimum M1 enclosure of CT in line end region at least two opposite sides >= 0.04.
   X = RECTANGLE ENC (CT INTERACT M1) M1 ABUT<90 OUTSIDE ALSO GOOD 0.0 0.04 OPPOSITE 0.0 0.04 OPPOSITE
   (X NOT INSIDE SRAMALL) NOT INSIDE NODRC

   A = ENC X M1 < 0.04 OPPOSITE REGION
   A NOT INSIDE SRAMALL
   ((CT INTERACT M1) NOT M1) NOT INSIDE SRAMALL
}

CT_EN_4a_4b_4c {
@ Enclosure by M1 >= 0 um
@ Enclosure by M1 at least two opposite sides < 0.04um >= 0.04um
@ Enclosure by M1 for all sides >= 0.025 um
  X = RECTANGLE ENC (CT NOT TOUCH M1) M1 ABUT<90 OUTSIDE ALSO
  GOOD 0 0.04 OPPOSITE 0 0.04 OPPOSITE GOOD 0.025 0.025 0.025 0.025 OPPOSITE

  A = ENC [X] M1 < 0.04 OPPOSITE
  D1 = INT A < 0.01 ABUT==90 INTERSECTING ONLY REGION      //; For CT not touching M1
  (D1 NOT INSIDE SRAMALL) NOT INSIDE NODRC

  B = CT COIN EDGE M1
  D2 = INT B < 0.01 ABUT==90 REGION        //; For CT touch M1 with >= 2 butting edges
  (D2 NOT INSIDE SRAMALL) NOT INSIDE NODRC

  Y = ENC CT M1 < 0.04 OPPOSITE REGION
  C1 = CT COIN EDGE M1
  C2 = CT COIN EDGE Y
  D3 = INT C1 C2 < 0.01 ABUT==90 REGION	//; For CT touch M1 with only 1 edge
  (D3 NOT INSIDE SRAMALL) NOT INSIDE NODRC

  ((CT NOT M1) NOT INSIDE SRAMALL) NOT INSIDE NODRC
  (CT NOT INTERACT M1) NOT INSIDE NODRC
}

#IFDEF OPEN_RECOMMENDED_ON YES
CT_EN_4a_R_4b_R {
@ Recomended M1 enclosure of CT to avoide high RC >= 0.04 um
@ Recommended Minimum M1 enclosure of CT in line end region (at least two opposite sides) >=0.06 
   X = RECTANGLE ENC (CT INTERACT M1) M1 ABUT<90 OUTSIDE ALSO GOOD 0.04 0.06 OPPOSITE 0.04 0.06 OPPOSITE
  (X NOT INSIDE SRAMALL) NOT INSIDE NODRC

  A = ENC X M1 < 0.06 OPPOSITE REGION
  A NOT INSIDE SRAMALL

  ((CT INTERACT M1) NOT M1) NOT INSIDE SRAMALL
}

#ENDIF

CT_EN_4d {
@ Enclosure by M1, when M1 width is > 1um. >= 0.04um
  M1_CHECK = M1 WITH WIDTH > 1
  CT_CHECK = CT NOT OUTSIDE M1_CHECK
  (ENC CT_CHECK M1 < 0.04 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

CT_R_1  {
@ CT is not allowed to land on GATE
  ((AND GATE CT) NOT INSIDE SRAMALL) NOT INSIDE NODRC
}
CT_R_2 {
@ CT is not allowed to interact SAB
@ Waive the CT cutting AA in SRAM area.
  ((CT INTERACT SAB) NOT INSIDE (SRAMALL OR EFUSEALL)) NOT INSIDE NODRC
}

CT_R_3 {
@ 45 degree CT is not allowed
    (CT WITH EDGE (ANGLE CT == 45)) NOT INSIDE NODRC 
}

CT_R_4 {
@ Recomended at least two CTs for connection except Reserved area, DRC help to mark single CT
  X1 = (NSD OR NTAP) INTERACT CT == 1
  (CT AND X1) NOT NODRC
  X2 = (PSD OR PTAP) INTERACT CT == 1
  (CT AND X2) NOT NODRC
}

CT_R_5 {
@ Recomended to put CTs at both source side and butted well tap side. DRC can flag if the tap is butted on source and the tap or source region without CT
  X1 = (TOUCH NTAP NSDi) NOT INTERACT CT
  X2 = (TOUCH PTAP PSDi) NOT INTERACT CT
  X3 = (TOUCH NTAP PSDi) NOT INTERACT CT
  X4 = (TOUCH PTAP NSDi) NOT INTERACT CT
  (OR X1 X2 X3 X4) NOT NODRC
}

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF Density_rules YES

#ENDIF


//===============================
// RV -  RDL via design rules
//===============================

GROUP GRV RV_?

RDV_Fuse = RDLVF OR GRDLV

 
RV_W_1 {
@ Fixed RDL Via width and length = 3.0um
  NOT RECTANGLE ((RDLVIA NOT RDV_Fuse) NOT GRID) == 3 BY == 3
}
RV_S_1 {
@ Space between two RDL vias >= 3.0um
  (EXT (RDLVIA NOT RDV_Fuse) < 3 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
RV_S_2 {
@ Space between RDL via and CB >= 6.0um
  ((EXT RDLVIA PA < 6 ABUT<90 SINGULAR REGION) NOT INDALL) NOT INSIDE NODRC
}
RV_EN_1_2 {
@ RDL via enclosure by T4M2 or other metal layer directly underneath RV >= 1.5um
  X11 = ENC (RDLVIA NOT RDV_Fuse) T4M2 < 1.50 ABUT<90 SINGULAR REGION OVERLAP OUTSIDE ALSO
  ((X11 NOT LOGO) NOT GRID) NOT INSIDE NODRC
  X12 = ENC (RDLVIA NOT RDV_Fuse) T2M2 < 1.50 ABUT<90 SINGULAR REGION OVERLAP OUTSIDE ALSO
  ((X12 NOT LOGO) NOT GRID) NOT INSIDE NODRC
  X13 = ENC (RDLVIA NOT RDV_Fuse) T8M2 < 1.50 ABUT<90 SINGULAR REGION OVERLAP OUTSIDE ALSO
  ((X13 NOT LOGO) NOT GRID) NOT INSIDE NODRC
  RDLVIA NOT T4M2
  RDLVIA NOT T2M2
  RDLVIA NOT T8M2
  
}
RV_EN_3_4 {
@ RDL via enclosure by RDL >= 1.5um
  X11 = ENC (RDLVIA NOT RDV_Fuse) RDL < 1.50 ABUT<90 SINGULAR REGION OVERLAP OUTSIDE ALSO
  ((X11 NOT LOGO) NOT INSIDE (OR SRINGBLK FUTR GRID)) NOT INSIDE NODRC
  RDLVIA NOT RDL
}

 RV_R_1 {
@ Recommended us redundant RVs as possible, DRC can help to flag single RV
 ( (OR T4M2 T2M2 T8M2) AND RDL) INTERACT RDLVIA == 1
}


//==================================================             
//  RDL -  Al RDL (re-distribution layer) Rules DRC
//================================================== 

GROUP GRDL RDL_?

RDL_W_1 {
@ RDL Width >= 3.0um
@ RDL width <= 35um
  ((INT RDL < 3.0 ABUT<90 SINGULAR REGION) NOT INDALL) NOT INSIDE NODRC
  ((INT RDL < 3.0 - 0.002 ABUT<90 SINGULAR REGION) AND INDALL) NOT INSIDE NODRC
  ((RDL WITH WIDTH >= 35) NOT INDALL) NOT INSIDE NODRC
}
RDL_S_1 {
@ Space between two (RDL OR ALPAD) >= 2.0um
  ((EXT ALPA < 2.0 ABUT<89.9 SINGULAR REGION) NOT INDALL) NOT INSIDE NODRC
  ((EXT ALPA < 2.0 - 0.002 ABUT<89.9 SINGULAR REGION) AND INDALL) NOT INSIDE NODRC
}
RDL_S_2 {
@ Space between (RDL OR ALPAD) with one or both (RDL OR ALPAD) width larger than 10um >= 3.0um
  X1 = (ALPA WITH WIDTH > 10) COIN EDGE ALPA
  ((EXT X1 ALPA <3.0 REGION) NOT INDALL) NOT INSIDE NODRC
  X2 = (ALPA WITH WIDTH > 10) COIN EDGE ALPA
  ((EXT X2 ALPA <3.0 - 0.002 REGION) AND INDALL) NOT INSIDE NODRC
}
RDL_S_3 {
@ Space between (RDL OR ALPAD) with one or both (RDL OR ALPAD) width larger than 35um >= 5.0um
  X1 = (ALPA WITH WIDTH > 35) COIN EDGE ALPA
  ((EXT X1 ALPA <5.0 REGION) NOT INDALL) NOT INSIDE NODRC
  X2 = (ALPA WITH WIDTH > 35) COIN EDGE ALPA
  ((EXT X2 ALPA <5.0 - 0.002 REGION) AND INDALL) NOT INSIDE NODRC
}
RDL_EN_1 {
@ ALPAD must fully enclosure of Cover
 RDLPA2 NOT ALPA
}

RDL_EN_2 {
@ ALPA must fully enclosure of CB
  CBi NOT ALPAD
}


//=====================================              
//  COVER -  Passivation Two Rules DRC
//===================================== 

GROUP GCOVER COVER_?

COVER_EN_1 {
@ Cover enclosed by ALPAD >= 1.5um
  ((ENC RDLPA2 ALPA < 1.5 ABUT<90 SINGULAR REGION) NOT INDALL) NOT INSIDE NODRC
  ((ENC RDLPA2 ALPA < 1.5-0.002 ABUT<90 SINGULAR REGION) AND INDALL) NOT INSIDE NODRC
}


#IFDEF CHIPEDGE_CHECK YES

#ENDIF

//===========================
//   ACTres - ACT Resistor DRC
//===========================

GROUP GRACTres ACTres_?

AAR_SA = AAR AND SAB
AAR_NS = NOT INTERACT AAR SAB


ACTres_W_1 {
@ Non-silicide ACT resistor width, and it is suggest that ACT resistor length/width ratio >1 for stable Rs  >= 0.4um
  X = (AARES AND AA) AND SAB
  L = X INSIDE EDGE AA
  (LENGTH L < 0.4) NOT INSIDE EDGE NODRC
}

ACTres_S_1_NP {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = SDN NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_PP {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = SDP NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_NVT3 {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = HVTN NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_PVT3 {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = HVTP NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_NVT1 {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = LVTN NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_PVT1 {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = LVTP NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_ESD {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = ESD1 NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_1_HRP {
@ Space between non-silicide ACT resistors area and other implant region >= 0.18um
  X = HRP NOT INTERACT AARES
  (EXT X AAR_SA < 0.18 ABUT<90 REGION) NOT INSIDE NODRC
}
ACTres_S_2 {
@ Space between SAB and CT for non-silicide ACT resistor = 0.21um
  X = AAR AND SAB
  Y = CT AND (AAR INTERACT SAB)
  ((SIZE Y BY 0.21) NOT TOUCH AAR_SA) NOT INSIDE NODRC
}
ACTres_EN_1 {
@ PP/NP enclosure of resistor ACT >= 0.18um
  X = SDP OR SDN
  (ENC (AA AND AARES) X < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
ACTres_EX_1 {
@ Extension of AARES outside of non-silicide ACT resistor area >= 0.2um
  (ENC AAR_SA AARES < 0.2 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

ACTres_R_1 {
@ Non-silicide ACT resistor region should be covered by SAB and implanted by NP or PP
  X = AAR INTERACT SAB
  (X NOT (OR SDN SDP)) NOT INSIDE NODRC
}
ACTres_R_2 {
@ Non-silicide ACT resistor with PP must be inside NW1
 AARES_SAB = (AARES AND AA) AND SAB  
((AARES_SAB AND SDP) NOT INSIDE NW) NOT INSIDE NODRC
}
ACTres_R_3 {
@ It is not allowed dog-bone design at the end of ACT resistor for contact pick-up
   X = AAR INTERACT SAB
   (CONVEX EDGE X ==1) NOT INSIDE EDGE NODRC
}

ACTres_R_4 {
@ For Silicide ACT resistor, two sides of ACTRES must be along the CT edge
  X = CT AND AAR_NS 
  Y = (AARES NOT INTERACT SAB) INSIDE EDGE AA
  (Y NOT TOUCH EDGE X ) NOT INSIDE EDGE NODRC
}


//====================
//  NW1res_ACT Rules
//====================

GROUP GRNW1res_ACT NW1res_ACT_?

NW1res_ACT_W_1 {
@ NW1-Resistor width,and suggest NW1 resistor length/width ratio > 5,length >= 20um for SPICE simulation accuracy >= 1.8 um
 X = ((NW1res AND AA) AND NW) AND SAB
 (LENGTH (X INSIDE EDGE NW) < 1.8) NOT INSIDE EDGE NODRC
}

NW1res_ACT_S_1 {
@ Space between NW1 of NW1 resistors and un-related implant region >= 0.60um
 X = NWR INTERACT (HOLES SAB)
 (EXT X (NW NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (HVTN NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (HVTP NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (LVTN NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (LVTP NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (SDN NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (SDP NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (NPR NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (ESD1 NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (EXT X (HRP NOT INTERACT NWR) < 0.6 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

NW1res_ACT_S_2 {
@ Space between SAB and CT for NW1 ressitor = 0.28 um
 X = SIZE (CT AND (AA INTERACT NW1res)) BY 0.28
 Y = SAB INSIDE EDGE (NW INTERACT NW1res)
 Y NOT TOUCH EDGE X
}

NW1res_ACT_S_3 {
@ Space between NW1 resistor and (NW1 resistor OR NW1) >= 1.2um
  X = NW INTERACT NW1res
 (EXT X NW < 1.2 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

NW1res_ACT_S_4 {
@ Space between NW1 resistor and NP = 0
 (NW1res INSIDE EDGE (NW INTERACT (AA ENCLOSE (NW AND NW1res)))) NOT TOUCH EDGE SDN
} 


NW1res_ACT_EN_1 {
@ ACT enclosure of NW1-Resistor >= 0.90um
 X = ((NW1res AND AA) AND NW) AND SAB
 (ENC X (AA ENCLOSE X) < 0.9 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
NW1res_ACT_EN_2 {
@ SAB enclosure of ACT >= 0.20um
 X = ((NW1res AND AA) AND NW) AND SAB
 Y1 = AA ENCLOSE X
 Y2 = SAB NOT COIN EDGE (HOLES SAB)
 (ENC Y1 Y2 < 0.2 ABUT<90 REGION) NOT INSIDE EDGE NODRC
}

NW1res_ACT_EN_3 {
@ Enclosure of SAB and related NW1 >= 0.28um
 X1 = HOLES SAB
 X2 = SAB TOUCH X1
 (ENC NWR X1 < 0.28 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (ENC NWR X2 < 0.28 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
 (((NWR INTERACT X1) NOT X1) NOT SAB) NOT INSIDE NODRC
}

NW1res_ACT_EN_4 {
@ NW1 enclosure of CT >= 0.28um
 X = ((NW1res AND AA) AND NW) AND SAB
 (ENC (CT AND (HOLES SAB)) (NW ENCLOSE X) < 0.28 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

NW1res_ACT_EX_1 {
@ Extension of NW1res outside of ACT >= 0.20um
  (ENC AA (NW1res INTERACT SAB) < 0.2 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
NW1res_ACT_O_1 {
@ Overlap of a NP and SAB (SAB INTERACT NW1res) >= 0.38um
X = ((NW1res AND AA) AND NW) AND SAB
Y = HOLES (SAB INTERACT X)
SDN_1 = SDN INTERACT X
(ENC Y SDN_1 < 0.38 ABUT<90 SINGULAR REGION OUTSIDE ALSO) NOT INSIDE NODRC
}		

NW1res_ACT_R_1 {
@ NW1 resistor must be covered by SAB except CT area
  X = NW1res ENCLOSE (NW1res AND AA)
  Y = (SAB OR (HOLES SAB)) INTERACT X
  (Y NOT ENCLOSE (NW1res AND NW)) NOT INSIDE NODRC
}
  
NW1res_ACT_R_2 {
@ recommanded to use rectangle shape resistor for the spice simulation accuracy. DRC flag (NW1 resistor AND NW1) not a rectangle
X = NW1res AND NW
NOT RECTANGLE X
}

NW1res_ACT_R_4 {
@ In one NW1 resistor
@ 1. There is only one NW1 is allowed in same ACT
@ 2. There is only two NPs are allowed in same ACT
@ 3. There is only two SAB holes allowed in same ACT
RESNWAA_CHECK = AA ENCLOSE  ((NW1res AND NW) AND SAB)
RESNWAA_CHECK INTERACT NW > 1
RESNWAA_CHECK INTERACT SDN > 2
RESNWAA_CHECK INTERACT SDN == 1
RESNWAA_CHECK INTERACT ((HOLES SAB) INTERACT RESNWAA_CHECK) > 2
}

 
//=======================
//  NW1res_STI Rules
//=======================

GROUP GNW1es_STI NW1res_STI_?

NWRSTI = NWR NOT INTERACT SAB
NWRSTI_L = NWRSTI INSIDE EDGE NW1res
NWRSTI_W = ((NW1res AND NW) NOT INTERACT SAB) INSIDE EDGE NW

NW1res_STI_W_1 {
@ NW-Resistor width and suggest NW1 resistor length/width ratio > 5,length >= 20um for SPICE simulation accuracy >= 1.8um
 X = (NW1res AND NW) NOT INTERACT SAB
 (LENGTH (X INSIDE EDGE NW) < 1.8) NOT INSIDE EDGE NODRC
}
NW1res_STI_S_1 {
@ Space between NW resistor and adjacent ACT >= 0.50um
 (EXT NWRSTI AA < 0.5 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
NW1res_STI_S_2 {
@ Space between NW1res to silicided ACT area = 0.00um
 X = NW1res INTERACT NWRSTI
 (AND X AA) NOT INSIDE NODRC
Y = X INSIDE EDGE NW
Z = EXPAND EDGE Y INSIDE BY 0.001
(Z NOT TOUCH AA) NOT INSIDE NODRC
}

NW1res_STI_S_3 {
@ Space between NW1 STI resistor and (NW1 STI resistor OR NW1) >= 1.2um.
  X = NW INTERACT NWRSTI
 (EXT X NW < 1.2 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}

NW1res_STI_EN_1 {
@ (ACT INTERACT NW1res) enclosure CT = 0.28 um
 X = SIZE (CT AND NWRSTI) BY 0.28
 Y = (AA INTERACT X) INSIDE EDGE NWRSTI
 Y NOT TOUCH EDGE X
}

NW1res_STI_EN_2 {
@ NP enclosure of ACT interact NW1res >= 0.38um
 X = AA AND NWRSTI
 Y = SDN INTERACT NWRSTI
 (ENC X Y < 0.38 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
NW1res_STI_EN_3 {
@ NW1 enclosure of silicide CT >= 0.28um
ENC CT NWRSTI <0.28 SINGULAR REGION
}

NW1res_STI_EX_1 {
@ Extension of NW1res outside of NW1 >= 0.20um
  (ENC NW NW1res < 0.2 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}

NW1res_STI_EX_2 {
@ ACT extention outside of NW1 resistor >= 0.28um
 X = AA INTERACT NWRSTI
 Y = NW INTERACT NWRSTI
 (ENC Y X < 0.28 OPPOSITE REGION) NOT INSIDE NODRC
}
NW1res_STI_R_1 {
@ NW1 Resistor must be fully covered by SAB except for CT area
 X = (NW1res AND NW) NOT INTERACT SAB
 (X AND (AA NOT INTERACT CT)) NOT INSIDE NODRC
}
NW1res_STI_R_2 {
@ NW1res(ineract with NP) must not overlap with ACTdm,POLYdm,PP,ULLD,PVT3,NVT3,PVT1,NVT1,NPR,HRP and ESD
 ((NW1res INTERACT SDN) AND AADUM) NOT INSIDE NODRC
 ((NW1res INTERACT SDN) AND PODUM) NOT INSIDE NODRC
 (NW1res AND HVTN) NOT INSIDE NODRC
 (NW1res AND UVT) NOT INSIDE NODRC
 (NW1res AND HVTP) NOT INSIDE NODRC
 (NW1res AND LVTN) NOT INSIDE NODRC
 (NW1res AND LVTP) NOT INSIDE NODRC
 (NW1res AND SDP) NOT INSIDE NODRC
 (NW1res AND NPR) NOT INSIDE NODRC
 (NW1res AND ESD1) NOT INSIDE NODRC
 (NW1res AND HRP) NOT INSIDE NODRC
}
NW1res_STI_R_3 {
@ recommanded to use rectangle shape resistor for the spice simulation accuracy. DRC flag (NW1 resistor AND NW1) not a rectangle
X = NW1res AND NW
NOT RECTANGLE X
}

//==========================
//  GR - Poly Resistor DRC
//==========================

GROUP GPORES PORES_?

POR_SA = POR AND SAB
POR_NS = POR NOT INTERACT SAB

PORES_W_1 {
@ Width of non-silicide poly resistor >= 0.4um
@ Suggest the Nsq >= 1 for stable Resistivity >= 1
  X = (PORES AND PO) AND SAB
  L = X INSIDE EDGE PO
  (LENGTH L < 0.4) NOT INSIDE EDGE NODRC
  X1 = PORES AND SAB 
  Y1 = (PO AND PORES) AND SAB 
  L1 = (INSIDE EDGE PO X1) OR EDGE (PO COIN EDGE X1)
  W1 = INSIDE EDGE Y1 PO
  (DFM PROPERTY Y1 L1 W1 OVERLAP ABUT ALSO [SQUARES = LENGTH(L1)/LENGTH(W1)] < 1) NOT INSIDE NODRC
}

PORES_S_1a:PP {
@ Space between N type PO resistors and NP, PP, NPR, HRP, ESD  >= 0.18um
  X = SDP NOT INTERACT PORES
  (EXT X POR_SA < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_S_1b:NP {
@ Space between P type PO resistors and NP, PP, NPR, HRP, ESD (follow GT.10 rule) >= 0.18um
  X = SDN NOT INTERACT PORES
  (EXT X POR_SA < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_S_1:ESD {
@ Space between N/P type PO resistors and NP, PP, NPR, HRP, ESD (follow GT.10 rule) >= 0.18um
  X = ESD1 NOT INTERACT PORES
 (EXT X POR_SA < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_S_1:HRP {
@ Space between N/P type PO resistors and NP, PP, NPR, HRP, ESD (follow GT.10 rule) >= 0.18um
  X = HRP NOT INTERACT PORES
  (EXT X POR_SA < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_S_1:NPR {
@ Space between N/P type PO resistors and NP, PP, NPR, HRP, ESD (follow GT.10 rule) >= 0.18um
  X = NPR NOT INTERACT PORES
  (EXT X POR_SA < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_S_2 {
@ Space between SAB and CT for non-silicide poly resistor = 0.21um
  X = POR INTERACT SAB
  Y = CT AND X
  ((SIZE Y BY 0.21) NOT TOUCH POR_SA) NOT INSIDE NODRC
}
PORES_EN_1 {
@ Enclosure of PP/NP outside of a Poly resistor area >= 0.18um
  X = PORES AND PO
  (ENC X SDN < 0.18 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
  (ENC X SDP < 0.18 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_EX_1 {
@ PORES extention outside of PO resistor >= 0.2um
  X = POR_SA COIN EDGE PO
  (ENC X PORES < 0.2 ABUT <90 REGION) NOT INSIDE EDGE NODRC
}
PORES_EX_2 {
@ Extension of SAB outside of non-silicide poly resistor area(follow SAB.6 rule) >= 0.2um
  (ENC POR SAB < 0.2 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}
PORES_R_1 {
@ Non-silicide PO resistor must be covered by SAB and implanted by either NP or PP
  X = POR INTERACT SAB
  (X NOT (SDN OR SDP)) NOT INSIDE NODRC
}
PORES_R_3 {
@ For silicide Poly resistor, two sides of PORES must be along the CT edge
  X = CT AND POR_NS
  Y = (PORES NOT INTERACT SAB) INSIDE EDGE PO
 (Y NOT TOUCH EDGE X) NOT INSIDE EDGE NODRC
}

#IFDEF Poly_EFuse_CHECK YES

//=======================
//    Poly E-Fuse DRC 
//======================

GROUP GEFU EFU_?
EFU_1b_G {
@ FUSEALL (292;12) must interact with EFUSEALL (293;12) region
(FUSEALL NOT INTERACT EFUSEALL) NOT INSIDE NODRC
}
EFU_1c_G {
@ FUSEALL (292;12) must fully cover EFUSEALL (293;12) region
(EFUSEALL NOT FUSEALL) NOT INSIDE NODRC
}
EFU_2b_G {
@ EFUSEALL (293;12) must interact with POEFUSEBLK(294;12)
(EFUSEALL NOT INTERACT POEFUSEBLK) NOT INSIDE NODRC
}
EFU_2c_G {
@ EFUSE (293;12) must fully cover POEFUSEBLK(294;12)
(POEFUSEBLK NOT EFUSEALL) NOT INSIDE NODRC
}
#ENDIF

//==================================
//  HRP - High Resistance Poly DRC
//==================================

GROUP GHRP HRP_?

HRP_W_1 {
@ Width of HRP >= 0.21um
@ It is strongly suggested that the resistor square number (length/width ratio) >= 5 for precise Rs. >= 5
  (INT HRP < 0.21 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
HRP_W_2 {
@ Width of high resistance poly >= 2.00um
  X = (PO INTERACT PO_HRP) NOT COIN EDGE SDP
  (INT X < 2.0 OPPOSITE REGION) NOT INSIDE NODRC
}
HRP_S_1 {
@ Space between two HRP >= 0.21um
  (EXT HRP < 0.21 ABUT < 90 SINGULAR REGION) NOT INSIDE NODRC
}
HRP_S_2 {
@ Space between HRP region and NMOS poly >= 0.16um
@ Space between HRP region and PMOS poly >= 0.16um
  PO_MOS = PO INTERACT GATE
  (EXT HRP PO_MOS < 0.16 ABUT SINGULAR REGION) NOT INSIDE NODRC
}
HRP_S_3 {
@ Fixed Space between SAB and CT in HRP region is 0.21um
  X = HRP INTERACT SAB
  Y = CT AND X
  (SIZE Y BY 0.21) NOT TOUCH (SAB INTERACT HRP)
}
HRP_EN_1 {
@ HRP enclosure of high resistance poly >= 0.20um

  (ENC PO_HRP HRP < 0.20 ABUT SINGULAR REGION) NOT INSIDE NODRC
}
HRP_EX_1 {
@ SAB extension outside of high resistance poly >= 0.22um
  (ENC (PO INTERACT PO_HRP) SAB < 0.22 ABUT<90 SINGULAR REGION) NOT INSIDE NODRC
}
HRP_O_1 {
@ PP overlap with SAB = 0.30um
RES_HRP = ((HPR AND HRP) AND PO) AND SAB
 ((INT (SAB INTERACT RES_HRP) SDP < 0.3 ABUT < 90 SINGULAR REGION) NOT INSIDE SRINGBLK) NOT INSIDE SRAMALL
 SDP_CK = SDP INSIDE EDGE (PO INTERACT RES_HRP)
 ((INT (SDP_CK) (SAB INTERACT RES_HRP) <= 0.3 ABUT < 90) NOT INSIDE EDGE SRINGBLK) NOT INSIDE EDGE SRAMALL
}
HRP_R_1 {
@ It is not allowed (NP,PP) overlap HPR region (when checking the rule, size down the HPR by 0.3um along the current direction)
 HRPR    = PO INTERACT HRP
 HRP_END = SIZE (HRPR NOT HPR) BY 0.3
 HRP_MID = HRPR NOT HRP_END
 ((SDN OR SDP) AND HRP_MID) NOT INSIDE NODRC
}
HRP_R_2 {
@ HPR edge should align with SAB edge
 SAB_AND_HRP = (SAB INTERACT HRP) AND PO
 DMY_AND_HRP = HPR AND PO
 (SAB_AND_HRP XOR DMY_AND_HRP) NOT INSIDE NODRC
}

LDAA = AA AND LDMOS
LDPAA = LDAA AND SDP
LDNAA = LDAA AND SDN
LDPGATE = LDPAA AND PO
LDNGATE = LDNAA AND PO
LDPD = (LDPAA NOT INTERACT PO) TOUCH LDMOSSTI
LDND = (LDNAA NOT INTERACT PO) TOUCH LDMOSSTI
LDPS = (LDPAA INTERACT PO) NOT LDPGATE
LDNS = (LDNAA INTERACT PO) NOT LDNGATE
SD_LDMOS = OR LDPD LDND LDPS LDNS
PO_LDMOS = LDPGATE OR LDNGATE
AA_LDMOS = SD_LDMOS OR PO_LDMOS

#IFDEF DUP_CHECK YES

//=========================================
// DEUPAD (Device Under Pad) Pad Guidelines
//=========================================

padarea = DEUPAD AND MD

#ENDIF
 
#IFDEF Metal_Slot_CHECK YES

#ENDIF

#IFDEF ESD_CHECK YES

#IFDEF OPEN_RECOMMENDED_ON YES

#ENDIF

#IFDEF IO 1833

#ENDIF
 
#IFDEF IO 1825 

#ENDIF

#ENDIF

#IFDEF LATCH_UP_CHECK YES

POWER_PAD2 = STAMP POWER_PAD BY MD_1
POWER_PAD3 = MD_1 INTERACT (NET AREA RATIO MD_1 POWER_PAD2 > 0)
MD_IO_PAD = MD_1 NOT INTERACT POWER_PAD3

#IFDEF DEFINE_PAD_BY_TEXT 1

#ENDIF

#IFDEF DEFINE_PAD_BY_TEXT 0

NAA_IO_PAD = NET AREA RATIO NACT_1 MD_IO_PAD > 0
PAA_IO_PAD = NET AREA RATIO PACT_1 MD_IO_PAD > 0
NMOS_IO_PAD = NMOS1 INTERACT NAA_IO_PAD
PMOS_IO_PAD = PMOS1 INTERACT PAA_IO_PAD

#ENDIF

#IFDEF CONNECT_ALL_RESISTOR 0

#ENDIF

#IFDEF CONNECT_ALL_RESISTOR 1

#ENDIF

#IFDEF LU_3_CHECK FAST

#ENDIF

#IFDEF LU_3_CHECK ACCURATE

#ENDIF

#ENDIF

#IFDEF MOM_CHECK YES

#ENDIF
