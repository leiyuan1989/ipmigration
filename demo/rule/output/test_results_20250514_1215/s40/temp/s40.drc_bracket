skew_edge_check++++++++++++++++++++++

@Skew edge check
DRAWN SKEW }
EXCLU_1++++++++++++++++++++++

@ report DRC alert if EXCLU is used
COPY EXCLU
}
AA_1++++++++++++++++++++++

@ AA minimum width(The INST connected area apply SRAMdesign rule) is 0.06
X= INT AA  < 0.06 ABUT<90 SINGULAR REGION
X OUTSIDE INST
}
SRAA_1sa++++++++++++++++++++++

@ AA inner vertex to inner vertex distance is 0.046
X= EXT AA  < 0.046 ABUT<90 OPPOSITE REGION NOTCH
X NOT OUT INST
}
AA_1a++++++++++++++++++++++

@ AA minimum width of NMOS/PMOS for 0.9/1.1/1.2V transistor is 0.12
X= INT (MOS12 IN EDGE GT) < 0.12 ABUT<90 REGION
X OUTSIDE INST
}
AA_2++++++++++++++++++++++

@ AA (enclosure by TG or DG) minimum width of NMOS/PMOS for 1.8/2.5v transistor is 0.32
INT ((MOS AND (DG OR TG)) IN EDGE GT) < 0.32 ABUT<90 REGION
}
AA_4a++++++++++++++++++++++

@ AA minimum space  is 0.08
X= EXT AA < 0.08  SINGULAR REGION
X OUTSIDE INST
}
SRAA_4a++++++++++++++++++++++

@ AA min space is 0.065
X=EXT AA  < 0.065 ABUT<90 SINGULAR REGION
X NOT OUTSIDE INST
}
SRAA_4c++++++++++++++++++++++

@ AA with gate minimum space along gate poly direction is 0.085, if one of AA width (W3)>=0.14um, and AA to AA overlap (run length) Y2 >=0.14um
AA_INGT=AA INTERACT GATE
AA12 = AA_INGT WITH WIDTH >= 0.14
AA_TCHGTX1 =AA_INGT TOUCH EDGE GATE
AA_TCHGTX2 =AA12 TOUCH EDGE GATE
AAspace = EXT  AA_TCHGTX1  AA_TCHGTX2 <0.085 OPPOSITE REGION
(AAspace NOT OUTSIDE INST) WITH EDGE (LENGTH (AAspace NOT OUTSIDE INST) >= 0.14)
}
AA_4b_4c++++++++++++++++++++++

@ The space between two AA with gate along source/drain direction is >=0.1 , if one of AA width (W2) >= 0.14um, and AA to AA run length Y1>=0.14um
@ The space between two AA with gate along gate poly direction is >=0.1, if one of AA width (W3)>=0.14um, and AA to AA run length Y2 >=0.14um
AA_INGT=AA INTERACT GATE
AA12 = AA_INGT WITH WIDTH >= 0.14
AAspace = EXT AA_INGT AA12 < 0.1 OPPOSITE REGION
(AAspace OUTSIDE INST) WITH EDGE (LENGTH AAspace >= 0.14)
}
AA_4d++++++++++++++++++++++

@ Space between two AAs inside (DG OR TG) is 0.15
EXT (AA INSIDE (DG OR TG))<0.15 ABUT<90 SINGULAR REGION
}
AA_9++++++++++++++++++++++

@ AA minimum area except floating AA is 0.02
X=AREA (AA NOT FTAA)  < 0.02
X OUT INST
}
SRAA_9++++++++++++++++++++++

@ AA minimum area is 0.015
X= AREA AA < 0.015
X NOT OUTSIDE INST
}
AA_9a++++++++++++++++++++++

@ AA minimum area at floating AA is 0.015
X = AREA FTAA < 0.015
X  OUTSIDE  INST
}
AA_10++++++++++++++++++++++

@ DG, TG or core transistors mixed in the same AA are prohibited
MOS CUT DG
MOS CUT TG
(MOS INTERACT DG) INTERACT TG
}
AA_11++++++++++++++++++++++

@ It is not allow if N+AA/P+AA crossing the NW, excluding LDMOS area.waive the AA interact with RESNW
((NACT CUT NW) NOT LDBK) NOT (AA INTERACT RESNW)
((PACT CUT NW) NOT LDBK) NOT (AA INTERACT RESNW)
}
AA_12++++++++++++++++++++++

@ AA channel width of NMOS/PMOS for 0.9/1.1/1.2V transistor is <=50. Waive transistor inside VARMOS
X = LENGTH (GT IN EDGE ((MOS NOT (DG OR TG)) NOT VARMOS)) > 50
EXPAND EDGE X INSIDE BY 0.01
}
AA_13++++++++++++++++++++++

@ AA minimum enclosed area(um2) is 0.045
AAHOLE = HOLES AA INNER
AREA (AAHOLE NOT AA) < 0.045
}
AA_14_a++++++++++++++++++++++

@ For area excluding (DG or TG), AA density (including dummy)is 25%. Density check window size: 200um*200um with step size: 100um.
@ Waive RESNW, LOGO, seal ring(MARKS) areas
@ DRC check with the said window size and rule number and highlight as X. Y = X not (DG or TG), Z= (Y area)/(100*100)
@ If Z > 25%, highlight Y for AA density inside of Y that cannot meet of rule value requirement.
AA_ALL= AAi OR AADUM
X = DENSITY (AAi OR AADUM) < 0.25 WINDOW 200 STEP 100 BACKUP RDB density_report_AA_14_a1.db
Y = X NOT (DG OR TG)
Z= COPY Y
M = DENSITY Y  [area(Y)/(100*100)]>0.25  INSIDE OF LAYER Z  RDB density_report_AA_14_a2.db
N = COPY M
W =DENSITY AA_ALL M [area(AA_ALL)/area(M)] < 0.25 INSIDE OF LAYER N BY POLYGON PRINT density_report_AA_14_a.log RDB density_report_AA_14_a.db
(( W NOT MARKG ) NOT RESNW) NOT LOGO
}
AA_14_b++++++++++++++++++++++

@ For area excluding (DG or TG), AA density (including dummy)is 80%. Density check window size: 200um*200um with step size: 100um.
@ Waive RESNW, LOGO, seal ring(MARKS) areas
@ DRC check with the said window size and rule number and highlight as X. Y = X not (DG or TG), Z= (Y area)/(100*100)
@ If Z > 25%, highlight Y for AA density inside of Y that cannot meet of rule value requirement.
AA_ALL= AAi OR AADUM
X = DENSITY (AAi OR AADUM) >0.8 WINDOW 200 STEP 100 BACKUP RDB density_report_AA_14_b1.db
Y = X NOT (DG OR TG)
Z= COPY Y
M = DENSITY Y  [area(Y)/(100*100)]>0.25  INSIDE OF LAYER Z  RDB density_report_AA_14_b2.db
N = COPY M
W =DENSITY AA_ALL M [area(AA_ALL)/area(M)]> 0.80  INSIDE OF LAYER N BY POLYGON PRINT density_report_AA_14_b.log RDB density_report_AA_14_b.db
(( W NOT MARKG ) NOT RESNW) NOT LOGO
}
AA_14a_a++++++++++++++++++++++

@ For area in of (DG or TG), AA density (including dummy). Density check window size: 200um*200um with step size 100um
@ DRC check with the said window size and rule number and highlight as X.  Y = X and (DG or TG), Z= (Y area)/(100*100)  If Z > 25%,
@ highlight Y for AA density inside of Y outside of rule value requirement
AA_ALL= AAi OR AADUM
X = DENSITY AA_ALL < 0.25 WINDOW 200  STEP 100 BACKUP  RDB density_report_AA_14a_a1.db
Y = X AND (DG OR TG)
Z= COPY Y
M = DENSITY Y  [area(Y)/(100*100)]>0.25  INSIDE OF LAYER Z  RDB density_report_AA_14a_a2.db
N = COPY M
W =DENSITY AA_ALL M [area(AA_ALL)/area(M)] < 0.25 INSIDE OF LAYER N BY POLYGON PRINT density_report_AA_14a_a.log RDB density_report_AA_14a_a.db
W NOT MARKG
}
AA_14a_b++++++++++++++++++++++

@ For area in of (DG or TG), AA density (including dummy). Density check window size: 200um*200um, step size: 100um	Min: 25% Max: 90%
@ DRC check with the said window size and rule number and highlight as X.  Y = X and (DG or TG)  Highlight AA density inside of Y outside of rule value requires
AA_ALL= AAi OR AADUM
X = DENSITY  AA_ALL > 0.9 WINDOW 200 STEP 100 BACKUP RDB density_report_AA_14a_b1.db
Y = X AND (DG OR TG)
Z= COPY Y
M = DENSITY Y  [area(Y)/(100*100)]>0.25  INSIDE OF LAYER Z  RDB density_report_AA_14a_b2.db
N = COPY M
W = DENSITY AA_ALL M [area(AA_ALL)/area(M)] >0.9 INSIDE OF LAYER N BY POLYGON PRINT density_report_AA_14a_a.log RDB density_report_AA_14a_b.db
W NOT MARKG
}
AA_15a++++++++++++++++++++++

@ AA density overlap by DUMBA min. is 20%. Density check window size: 200um*200um, step size: 100um
X = DENSITY (AAi OR AADUM) < 0.20 WINDOW 200 STEP 100 BACKUP PRINT density_report_AA15a.log RDB density_report_AA15a.db
(X AND DUMBA) NOT MARKG
}
AA_15b++++++++++++++++++++++

@ AA density overlap by DUMBA max. is 80%. Density check window size: 200um*200um, step size: 100um
X = DENSITY (AAi OR AADUM) > 0.80 WINDOW 200 STEP 100 BACKUP PRINT density_report_AA15b.log RDB density_report_AA15b.db
(X AND DUMBA) NOT MARKG
}
AA_16++++++++++++++++++++++

@ Bent 45 degree AA width is >= 0.16
X = ANGLE AA ==45
INT X <0.16  ABUT <90 REGION
}
AA_17++++++++++++++++++++++

@ 45 degree AA space to parallel AA is >=0.16
X = ANGLE AA ==45
EXT X AA <0.16 REGION  PARA ONLY
}
AA_18++++++++++++++++++++++

@ AA space for of U shape (notch) is >=0.15. Waive for extrusion E <= 0.03  or U shape bottom AA width W0 > 0.08um
X =CONVEX EDGE AA ANGLE1>269.9<271.1 ANGLE2>269.9<271.1 WITH LENGTH<0.15
Y= CONVEX EDGE AA ANGLE1>89.9<90.1 ANGLE2>269.9<271.1 WITH LENGTH>0.03
Z= EXT X Y <0.001  ABUT == 90 INTERSECTING ONLY REGION
M = INT X AA <=0.08 OPPOSITE REGION
(((EXPAND EDGE X OUTSIDE BY 0.001) INTERACT Z) INTERACT M) OUTSIDE INST
}
AA_19++++++++++++++++++++++

@ AA must be fully covered by (SN OR SP).
@ Waive the violations inside (AA INTERACT RESNW )
(AA NOT INSIDE (SN OR SP)) NOT (AA INTERACT RESNW )
}
RESAA_2++++++++++++++++++++++

@ AA resistor minimum width is 0.40; AA resistor mean AA with RESAA overlap SAB.
INT (AAR INSIDE EDGE SAB) < 0.40 ABUT<90 REGION
}
RESAA_3++++++++++++++++++++++

@ AA resistor minimum length is 0.40
INT (SAB COIN EDGE AAR) < 0.40 ABUT<90 REGION
}
RESAA_4++++++++++++++++++++++

@ AA resistor must be orthogonal
ANGLE AAR >0 <90
}
RESAA_5++++++++++++++++++++++

@ CT to SAB minimum space is 0.20
EXT (CT INSIDE (AA INTERACT AAR)) SAB < 0.20 ABUT<90 SINGULAR REGION
}
RESAA_6++++++++++++++++++++++

@ Extension of RESAA outside of AA minimum distance is 0.18
ENC AA RESAA < 0.18 ABUT<90 SINGULAR REGION
}
RESAA_7++++++++++++++++++++++

@ The minimum separation between resistors with un-related implant region is 0.16
EXT AAR SN < 0.16 ABUT<90 SINGULAR REGION
EXT AAR SP < 0.16 ABUT<90 SINGULAR REGION
EXT AAR ESD1 < 0.16 ABUT<90 SINGULAR REGION
}
RESAA_9++++++++++++++++++++++

@ For AA resistor, make sure the AA be covered by SAB and implanted by either SN or SP
(AA AND RESAA) NOT SAB
(AAR NOT IN SP) NOT IN SN
}
RESAA_10++++++++++++++++++++++

@ AA SAB resistor with SP must lay on NW
(AAR  AND SP) NOT NW
}
RESAA_12++++++++++++++++++++++

@ Minimum Space RESAA to non-related AA is 0.08
EXT RESAA AA < 0.08 ABUT<90 SINGULAR REGION
}
RESAA_13++++++++++++++++++++++

@ Minimum Space RESAA to non-related Poly is 0.08
EXT RESAA GT < 0.08 ABUT<90 SINGULAR REGION
}
RESAA_14++++++++++++++++++++++

@ RESAA and SAB on AA should have coincident edge
X =SAB  INSIDE EDGE AA
Y = RESAA INSIDE EDGE AA
Y NOT COIN EDGE X
RESAA ENCLOSE AA
}
AA_C_1++++++++++++++++++++++

@ Maximum containing rectangle of HDA is 250*250
HDA WITH WIDTH > 250
}
AA_C_3++++++++++++++++++++++

@ Maximum containing rectangle of LDA is 50*50
(LDA WITH WIDTH > 50) NOT MARKG
}
AA_C_4++++++++++++++++++++++

@ Maximum containing rectangle of MDA is 125*125
MDA WITH WIDTH > 125
}
AA_C_5++++++++++++++++++++++

@ Minimum space between gate and minimum 50*50um LDA is 20
@ Waive if the gate channel length >= 0.06um
X = LDA WITH WIDTH >= 50
Y = SIZE X BY 20
Z =LENGTH ( AA COIN EDGE GATE)<0.06
((GATE WITH EDGE Z)  NOT X) AND Y
}
DIFRES_1++++++++++++++++++++++

@AA Silicide resistor minimum width is 0.2
INT AAD <0.2  ABUT<90  REGION
}
DIFRES_2++++++++++++++++++++++

@DIFRES can not overlap with RESAA
DIFRES AND RESAA
}
DIFRES_4++++++++++++++++++++++

@AA Silicide resistor must be orthogonal
ANGLE AAD >0 <90
}
DIFRES_5++++++++++++++++++++++

@CT to DIFRES space fix is 0.01
X1 = EXT CT DIFRES <= 0.07 ABUT<90 REGION OPPOSITE
X2 = EXT CT DIFRES == 0.01 ABUT<90 REGION OPPOSITE
(X1 NOT (X2 NOT (X2 ENCLOSE CT))) OR (CT INTERACT DIFRES)
}
DIFRES_6++++++++++++++++++++++

@Extension of DIFRES outside of AA minimum distance is 0
X =AAD TOUCH (DIFRES NOT AAD) >1
Y = DIFRES COIN EDGE AA
Z =EXPAND EDGE Y INSIDE BY 0.001
DIFRES NOT INTERACT (X OR (DIFRES INTERACT Z))
}
DIFRES_7++++++++++++++++++++++

@The minimum separation between AA resistors and un-related implant region is 0.16
EXT AAD SN < 0.16 ABUT<90 SINGULAR REGION
EXT AAD SP < 0.16 ABUT<90 SINGULAR REGION
EXT AAD ESD1 < 0.16 ABUT<90 SINGULAR REGION
}
DIFRES_8++++++++++++++++++++++

@For AA Silicide resistor, make sure the AA be implanted by either SN or SP. Minimum enclosure by SN or SP is 0.18
((AA ENCLOSE AAD) NOT IN SP) NOT IN SN
ENC (AA ENCLOSE AAD) SN <0.18 ABUT<90 SINGULAR REGION
ENC (AA ENCLOSE AAD) SP <0.18 ABUT<90 SINGULAR REGION
}
DIFRES_9++++++++++++++++++++++

@AA Silicide resistor with SP must lay on NW
(AAD AND SP) NOT NW
}
DIFRES_10++++++++++++++++++++++

@AA Silicide resistor with SN must lay on PW
(AAD AND SN) NOT PW
}
DIFRES_11++++++++++++++++++++++

@Minimum Space between DIFRES and non-related AA is 0.08
EXT DIFRES AA < 0.08 ABUT<90 SINGULAR REGION
}
DIFRES_12++++++++++++++++++++++

@Minimum Space between DIFRES and non-related Poly is 0.08
EXT DIFRES GT < 0.08 ABUT<90 SINGULAR REGION
}
DNW_1++++++++++++++++++++++

@ DNW minimum width is 0.52
INT DNW < 0.52 ABUT<90 REGION
}
DNW_2++++++++++++++++++++++

@ Minimum space between two DNW regions is 0.80
EXT DNW < 0.80 ABUT<90 REGION
}
DNW_3++++++++++++++++++++++

@ Minimum overlap of NW and DNW region is 0
DNW OUT EDGE NW
}
DNW_4++++++++++++++++++++++

@ Minimum space between a DNW and a NW is 0.565
X = NW NOT COIN EDGE DNW
EXT X DNW < 0.565 ABUT<90 REGION
}
DNW_7++++++++++++++++++++++

@ Space between DNW and (N+AA outside of (DNW or NW)) 	>= 	1.6
EXT (NACT OUTSIDE (DNW OR NW)) DNW<1.6 ABUT<90 SINGULAR REGION
}
NW_1++++++++++++++++++++++

@ NW minimum width(parallel side to side width, The INST connected area apply SRAM design rule) is 0.33
X= INT NW  < 0.33 ABUT<90 REGION PARA ONLY
X OUT INST
}
SRNW_1++++++++++++++++++++++

@ NW minimum width is 0.27
X =INT NW  < 0.27 ABUT<90 REGION
X NOT OUTSIDE INST
}
NW_3++++++++++++++++++++++

@ Minimum space between two NW regions at the same net (with run length > 0) is 0.33.
X = EXT NW < 0.33 OPPOSITE ABUT<90 REGION CONNECTED
X OUTSIDE INST
}
NW_4++++++++++++++++++++++

@ Minimum space between two NW regions at different net is 0.60
EXT NW < 0.60 ABUT<90 SINGULAR REGION NOT CONNECTED
}
NW_7++++++++++++++++++++++

@ NW minimum area is 0.70
AREA NW < 0.70
}
NW_8++++++++++++++++++++++

@ NW minimum enclosed area is 0.70
NWHOLE = HOLES NW INNER
AREA (NWHOLE NOT NW) < 0.70
}
NW_9++++++++++++++++++++++

@ NW minimum space to N+AA (enclosure by TG or DG) is 0.22
EXT NW (NACT INSIDE (TG OR DG)) < 0.22 ABUT<90 SINGULAR REGION
}
NW_10++++++++++++++++++++++

@ NW enclosure of P+AA (enclosed by TG or DG)is 0.22
ENC (PACT INSIDE (TG OR DG)) NW < 0.22 ABUT<90 SINGULAR REGION
}
NW_11++++++++++++++++++++++

@ N+AA adjacent both two edges space opposite to NW is >=0.16. Both of two adjacent edges space to NW smaller than rule value is not permitted.
@ In schematic rule check method, E = 0.08, D=0.16
NACT_EDGE = LENGTH NACT >0
Eregion = EXPAND EDGE NACT_EDGE INSIDE BY 0.08  EXTEND BY 0.001
Eregion_EDGE = NACT INSIDE EDGE  Eregion
Eregion_=EXT [Eregion_EDGE] NW <0.16  OPPOSITE  PERP ALSO OBTUSE ALSO
Eregion_EDGE_1 = Eregion_EDGE TOUCH EDGE Eregion_
INT Eregion_EDGE_1 <0.002 ABUT REGION
}
NW_12++++++++++++++++++++++

@ NW enclosure opposite of P+AA adjacent both two edges is >= 0.16. Both of two adjacent edges enclosed by NW smaller than rule value is not permitted.
@In schematic rule check method, E = 0.08, D=0.16
PACT_EDGE = LENGTH PACT >0
Eregion = EXPAND EDGE PACT_EDGE INSIDE BY 0.08  EXTEND BY 0.001
Eregion_EDGE = PACT INSIDE EDGE  Eregion
Eregion_=ENC [Eregion_EDGE] NW <0.16  OPPOSITE  PERP ALSO OBTUSE ALSO
Eregion_EDGE_1 = Eregion_EDGE TOUCH EDGE Eregion_
ERROR = INT Eregion_EDGE_1 <0.002 ABUT REGION
ERROR OUTSIDE SRAM
}
SRNW_13++++++++++++++++++++++

@ N+AA enclosure by NW is 0.027
X = ENC NTAP NW < 0.027 ABUT<90 SINGULAR REGION
X NOT OUTSIDE INST
}
SRNW_14++++++++++++++++++++++

@ Space between NW and N+AA inside PW is 0.04
@ Minimum space between NW outter vertex and N+AA inside PW outter vertex is 0.037
(EXT NACT NW < 0.04 ABUT<90 OPPOSITE REGION) NOT OUTSIDE INST
( EXT NACT NW < 0.037 ABUT<90 CORNER TO CORNER REGION) NOT OUTSIDE INST
}
SRNW_15++++++++++++++++++++++

@ P+AA enclosure by NW is 0.037
X= ENC PACT NW < 0.037 ABUT<90 SINGULAR REGION INSIDE ALSO
X NOT OUTSIDE INST
}
NW_13++++++++++++++++++++++

@ N+AA Minimum enclosure by NW is 0.08, excluding LDMOS area.Waive ((AA interact RESNW) and SN)
ENC ((NACT  OUTSIDE (INST OR LDBK)) NOT ((AA INTERACT RESNW) AND SN)) NW < 0.08 ABUT<90 SINGULAR REGION
}
NW_14++++++++++++++++++++++

@ Minimum Space between NW and N+AA inside PW is 0.08
EXT (NACT  OUTSIDE (INST OR PSUB)) (NW OUTSIDE INST) < 0.08 ABUT<90 SINGULAR REGION
}
NW_15++++++++++++++++++++++

@ P+AA minimum enclosure by NW is 0.08, excluding LDMOS area.
ENC (PACT  OUTSIDE (INST OR LDBK)) NW < 0.08 ABUT<90 SINGULAR REGION
}
NW_16++++++++++++++++++++++

@ Minimum Space between NW and P+AA inside PW is 0.08, excluding LDMOS area.
EXT (PTAP NOT (LDBK OR PSUB)) NW < 0.08 ABUT<90 SINGULAR REGION
}
RESNWST_1_2++++++++++++++++++++++

@ NW-Resistor width is >=1.2
@ NW-Resistor minimum length is >=10
INT (NWRSTI TOUCH EDGE AA) <10 ABUT<90 OPPOSITE REGION
NOT ENCLOSE RECTANGLE NWRSTI 1.2 10
}
RESNWST_3++++++++++++++++++++++

@ NW-Resistor and NW space S1 >=1
EXT NWRSTI NW <1 ABUT<90 SINGULAR REGION
}
RESNWST_4++++++++++++++++++++++

@ The nearest CT space to (AA edge touch RESNW)	S2=0.3
X0 = RESNW INTERACT NWRSTI
X01 = (RESNW COIN EDGE NWRSTI) TOUCH EDGE AA
X1 = EXT X01 CT  <= 0.36 ABUT<90 REGION OPPOSITE
X2 = EXT X01 CT == 0.3 ABUT<90 REGION OPPOSITE
(X1 NOT (X2 NOT (X2 ENCLOSE CT))) OR (CT INTERACT X0)
}
RESNWST_5++++++++++++++++++++++

@ Minimum space between NWSTI resistor and adjacent AA is 0.44um.
EXT NWRSTI (AA NOT INTERACT NWRSTI) < 0.44 ABUT<90 SINGULAR REGION
}
RESNWST_6++++++++++++++++++++++

@ Space between RESNW to silicided AA area.	S4	=	0.00
@ DRC check by (RESNW AND NW) touch AA edge with count 2.
(RESNW AND NW) TOUCH AA < 2
}
RESNWST_7++++++++++++++++++++++

@ SN enclosure of AA	EN1	 	0.4
ENC (AA TOUCH NWRSTI) SN <0.4  ABUT<90 REGION
}
RESNWST_8++++++++++++++++++++++

@ AA enclosure of NW(the NW interacted with RESNW)	EN2	>=	0.3
ENC (NW INTERACT RESNW) AA <0.3 ABUT<90 REGION
}
RESNWST_9++++++++++++++++++++++

@ CT should be in (NW AND ( pick up AA))	R1
((AA TOUCH NWRSTI) NOT NTAP) AND CT
}
RESNWST_10++++++++++++++++++++++

@ NW resistor under STI must not overlap with AADUM	R2
NWRSTI AND AADUM
}
RESNWST_11++++++++++++++++++++++

@ (RESNW AND NW) must be an orthogonal rectangle shape to have good simulation accuracy	R3
NOT RECTANGLE (RESNW AND NW) ORTHOGONAL ONLY
}
RESNWAA_1++++++++++++++++++++++

@ RESNW must be an orthogonal rectangle
NOT RECTANGLE (RESNW INTERACT RESNWAA) ORTHOGONAL ONLY
}
RESNWAA_2_3++++++++++++++++++++++

@ NW-Resistor minimum length (SMIC 2R)>=10
@ NW-Resistor width (SMIC 2R, 65nm rule 1.6um)>=1.2
INT (RESNWAA TOUCH EDGE SN) <10 ABUT<90 OPPOSITE REGION
NOT ENCLOSE RECTANGLE RESNWAA 1.2 10
}
RESNWAA_4++++++++++++++++++++++

@ AA enclosure of RESNWAA (SMIC 2R no rule, 65nm rule number)>=0.3
ENC RESNWAA AA < 0.3 ABUT<90 REGION
}
RESNWAA_5++++++++++++++++++++++

@ NW enclosure of CT (65nm rule, included in SMIC 2R)>=0.20
ENC CT (NW ENCLOSE RESNWAA)  <0.2 ABUT<90 REGION
}
RESNWAA_6++++++++++++++++++++++

@ Enclosure of SAB beyond related NW (65nm rule)>=0.20
X1 = HOLES SAB
X2 = SAB TOUCH X1
ENC (NW INTERACT RESNWAA)  X1 < 0.2 ABUT<90 SINGULAR REGION
ENC (NW INTERACT RESNWAA)  X2 < 0.2 ABUT<90 SINGULAR REGION
(((NW INTERACT RESNWAA) INTERACT X1) NOT X1) NOT SAB
}
RESNWAA_7++++++++++++++++++++++

@ RESNW must not overlap with other implant layers (except NW) in the NW-Resistor area.
RESNWAA AND SN
RESNWAA AND SP
RESNWAA AND ESD1
}
RESNWAA_8++++++++++++++++++++++

@ Space between RESNW and CT inside (AA interact RESNW) =0.70
X0 = RESNW INTERACT RESNWAA
X01 = (RESNW INTERACT RESNWAA) COIN EDGE SN
X = CT INSIDE (AA INTERACT RESNW)
X1 = EXT X01 X <= 0.76 ABUT<90 REGION OPPOSITE
X2 = EXT X01 X == 0.7 ABUT<90 REGION OPPOSITE
(X1 NOT (X2 NOT (X2 ENCLOSE CT))) OR (CT INTERACT X0)
}
RESNWAA_9++++++++++++++++++++++

@ Extension of RESNW outside of NW (65nm 0.2um, SMIC 2R RESNW within NW) >= 0.00
X =RESNWAA TOUCH (RESNW NOT RESNWAA) >1
Y = RESNW COIN EDGE NW
Z =EXPAND EDGE Y INSIDE BY 0.001
RESNW NOT INTERACT (X OR (RESNW INTERACT Z))
}
RESNWAA.10++++++++++++++++++++++

@ SAB must include NW resistor except CT area
X = RESNW ENCLOSE (RESNW AND AA)
Y = (SAB OR (HOLES SAB)) INTERACT X
Y NOT ENCLOSE RESNWAA
}
RESNWAA_11++++++++++++++++++++++

@ Space between RESNW to SN (SMIC 2R no rule, 65nm no rule)=0.00
(RESNW INTERACT RESNWAA) NOT TOUCH SN
}
RESNWAA_12++++++++++++++++++++++

@ SAB enclosure of AA (SMIC 2R no rule, 65nm rule 0.2um, 0.18um is SMIC SAB main rule)>=0.18
ENC (AA INTERACT RESNWAA) SAB < 0.18 ABUT<90 REGION
}
RESNWAA_13++++++++++++++++++++++

@ SAB overlap of SN =0.4. Use exact value on sides touch RESNW.(65nm rule 0.2, 40nm WAT TK 0.4um)
X = SN COIN EDGE RESNW
Y = EXPAND EDGE X INSIDE BY 0.4
Y NOT TOUCH (HOLES SAB)
}
PSUB_1++++++++++++++++++++++

@ PSUB width is 0.33
INT PSUB < 0.33 ABUT<90 REGION
}
PSUB_2++++++++++++++++++++++

@ Minimum width of an AA to define the width of native NMOS for 0.9/1.1/1.2/1.8/2.5v transistors is 0.4
INT ((PBAA IN EDGE GT) COIN EDGE GATE)< 0.40 ABUT<90 REGION
}
PSUB_3a++++++++++++++++++++++

@ 0.9/1.1/1.2V minimum gate length enclosed by PSUB is 0.30
X = (PBGT INSIDE EDGE PBAA) COIN EDGE GATE
INT X < 0.30 ABUT<90 REGION
}
PSUB_3b++++++++++++++++++++++

@ 1.8V minimum gate length enclosed  by PSUB(enclosed by DG) is 0.80
X = (PBGT INSIDE EDGE (PBAA INTERACT DG)) COIN EDGE GATE
INT X < 0.80 ABUT<90 REGION
}
PSUB_3cde++++++++++++++++++++++

@ 2.5V minimum gate length enclosed by PSUB(enclosed by TG) is 1.20
@ 2.5V overdrive 3.3V gate length enclosed by PSUB (enclosed by TG)is 1.20
@ 2.5V underdrive 1.8V gate length enclosure by PSUB( enclosed by TG)is 1.20
X =( PBGT INSIDE EDGE (PBAA INTERACT TG)) COIN EDGE GATE
INT X < 1.20 ABUT<90 REGION
}
PSUB_4++++++++++++++++++++++

@ Space between two PSUB regions is 0.33
EXT PSUB < 0.33 ABUT<90 REGION
}
PSUB_5++++++++++++++++++++++

@ AA enclosure by PSUB is min 0.20, max 0.26, inductor does not need to follow.
@ Note7:it is recommended that PSUB should be conformal to AA edge
X1 = SIZE PBAA BY 0.20
X2 = SIZE PBAA BY 0.26
X3 = X2 NOT X1
Y = (PSUB INTERACT PBAA) NOT INDMY
OUTSIDE EDGE Y X3
}
PSUB_6++++++++++++++++++++++

@ Space between PSUB and AA is 0.08, inductor does not need to follow.
(EXT PSUB AA < 0.08 ABUT<90 SINGULAR REGION) NOT INDMY
}
PSUB_7++++++++++++++++++++++

@ Space between PSUB and NW is 1.0, inductor does not need to follow.
(EXT PSUB NW < 1.0 ABUT<90 SINGULAR REGION) NOT INDMY
}
PSUB_9++++++++++++++++++++++

@ Minimum space between a PSUB outside INDMY and an unrelated Gate region is 0.37
EXT (PSUB NOT INSIDE INDMY) GATE < 0.37 ABUT<90 SINGULAR REGION
}
PSUB_10++++++++++++++++++++++

@ PSUB inside or cross over a NW area is not allowed
PSUB AND NW
}
PSUB_11++++++++++++++++++++++

@ PSUB inside or cross over a Deep N-Well is not allowed
PSUB AND DNW
}
PSUB_12++++++++++++++++++++++

@ Only one AA region is allowed to put in PSUB region outside INDMY
X= (PSUB NOT INTERACT INDMY) INTERACT AA
X NOT INTERACT (AA NOT INTERACT CAPBP) == 1
}
PSUB_13++++++++++++++++++++++

@ Bent Poly is not allowed to exist on AA in a PSUB region
X = GT INSIDE EDGE PBAA
INT X < 0.01 ABUT < 180 REGION
EXT X < 0.01 ABUT < 180 REGION
}
SRDOP_101++++++++++++++++++++++

@ Gate touching SDOP must be covered by SDOP
(GATE NOT OUTSIDE SDOP) NOT SDOP
}
SRDOP_102++++++++++++++++++++++

@ SDOP min. width is 0.18
INT SDOP < 0.18 ABUT<90 SINGULAR REGION
}
SRDOP_103++++++++++++++++++++++

@ SDOP min. area is 0.1
AREA SDOP < 0.1
}
SRDOP_104++++++++++++++++++++++

@ SDOP is must be in INST
SDOP NOT INST
}
SRDOP_105++++++++++++++++++++++

@ SDOP must enclose gate is 0.056
ENC GATE SDOP < 0.056 ABUT<90 SINGULAR REGION
}
TG_1++++++++++++++++++++++

@ TG minimum width is 0.33
INT TG < 0.33 ABUT<90 REGION
}
TG_2++++++++++++++++++++++

@ Minimum space between two TGs is 0.33
EXT TG < 0.33 ABUT<90 REGION
}
TG_3++++++++++++++++++++++

@ AA with transistor minimum enclosure by TG is 0.2(include AA area not under poly)
ENC MOS TG < 0.2 ABUT<90 SINGULAR REGION
}
TG_4++++++++++++++++++++++

@Gate enclosure by TG is 0.25
ENC GATE TG < 0.25 ABUT<90 SINGULAR REGION
}
TG_5++++++++++++++++++++++

@ Minimum space between TG and AA with device is 0.2
@ Prohibit overlap of TG and other voltage AA with transistor
X_MOS = AA INTERACT (GT INTERACT GATE)
X_RES = AA INTERACT (DIFRES OR RESAA)
X_DIO1 = AA INTERACT (SIZE (DSTR NOT INTERACT PSUB) BY 0.3)
X_DIO2 = AA INTERACT (SIZE (DSTR INTERACT PSUB) BY 0.4)
X_NPN_PNP = AA INTERACT DMPNP
X_ALL = (((X_MOS OR X_RES) OR (X_DIO1 OR X_DIO2)) OR X_NPN_PNP) NOT INST
X =(AA AND ((SN AND NW) OR (SP NOT NW)))  NOT VARMOS
EXT TG (X_ALL NOT X) < 0.2 ABUT<90 SINGULAR REGION
(X_MOS CUT TG) AND TG
}
TG_6++++++++++++++++++++++

@ Space between TG and gate is 0.25 (Don't be necessary for pick-up to follow these rules)
EXT TG GATE < 0.25 ABUT<90 SINGULAR REGION
}
TG_7++++++++++++++++++++++

@ Minimum area is 0.463
AREA TG < 0.463
}
TG_8++++++++++++++++++++++

@ Minimum enclosed area is 0.463
TGHOLE = HOLES TG INNER
AREA (TGHOLE NOT TG) < 0.463
}
TG_11++++++++++++++++++++++

@ Extension of AA in TG outside of gate is 0.17. Exclude gate within LDMOS region(within LDBK) and within inductor area(layer INDMY)
ENC (GATE NOT (LDBK OR INDMY))  (AA AND TG)  < 0.17 ABUT>0<90 SINGULAR REGION
}
TG_12++++++++++++++++++++++

@ Space between TG and DG is 0.33
EXT TG DG < 0.33 ABUT<90 SINGULAR REGION
}
TG_13++++++++++++++++++++++

@ TG minimum overlap past NW with abutting permitted is 0.33
ENC NW (TG NOT COIN EDGE NW) < 0.33 ABUT<90 REGION
}
TG_14++++++++++++++++++++++

@ TG minimum overlap of NW with abutting permitted is 0.33
INT NW (TG NOT COIN EDGE NW) < 0.33 ABUT<90 REGION
}
TG_15++++++++++++++++++++++

@ NW minimum overlap past TG with abutting permitted is 0.33
ENC (TG NOT COIN EDGE NW) NW < 0.33 ABUT<90 REGION
}
DG_1++++++++++++++++++++++

@ DG minimum width is 0.33
INT DG < 0.33 ABUT<90 REGION
}
DG_2++++++++++++++++++++++

@ Minmum space between two DGs is 0.33, merge if the space is less than rule
EXT DG < 0.33 ABUT<90 REGION
}
DG_3++++++++++++++++++++++

@ AA with transistor minimum enclosure by DG is 0.2 (include AA area not under poly)
ENC MOS DG < 0.2 ABUT<90 SINGULAR REGION
}
DG_4++++++++++++++++++++++

@ Gate minimum enclosure by DG is 0.25
ENC GATE DG < 0.25 ABUT<90 SINGULAR REGION
}
DG_5++++++++++++++++++++++

@ Minimum space between DG and AA with device is 0.2
@ Prohibit overlap of DG and other voltage AA with transistor
X_MOS = AA INTERACT GT
X_RES = AA INTERACT (DIFRES OR RESAA)
X_DIO1 = AA INTERACT (SIZE (DSTR NOT INTERACT PSUB) BY 0.3)
X_DIO2 = AA INTERACT (SIZE (DSTR INTERACT PSUB) BY 0.4)
X_NPN_PNP = AA INTERACT DMPNP
X_ALL = (((X_MOS OR X_RES) OR (X_DIO1 OR X_DIO2)) OR X_NPN_PNP) NOT INST
X =(AA AND ((SN AND NW) OR (SP NOT NW)))  NOT VARMOS
EXT DG (X_ALL NOT X )< 0.2 ABUT<90 SINGULAR REGION
(X_MOS CUT DG) AND DG
}
DG_6++++++++++++++++++++++

@ Minimum space between DG and gate is 0.25
EXT DG GATE < 0.25 ABUT<90 SINGULAR REGION
}
DG_7++++++++++++++++++++++

@ Minimum area is 0.463
AREA DG < 0.463
}
DG_8++++++++++++++++++++++

@ Minimum enclosed area is 0.463
DGHOLE = HOLES DG INNER
AREA (DGHOLE NOT DG) < 0.463
}
DG_11++++++++++++++++++++++

@ AA (enclosed by DG) minimum overlap past poly is 0.17
ENC GT MOS18 < 0.17 ABUT<90 SINGULAR REGION
}
DG_12++++++++++++++++++++++

@ DG minimum overlap past NW with abutting permitted is 0.33
ENC NW (DG NOT COIN EDGE NW) < 0.33 ABUT<90 REGION
}
DG_13++++++++++++++++++++++

@ DG minimum overlap of NW with abutting permitted is 0.33
INT NW (DG NOT COIN EDGE NW) < 0.33 ABUT<90 REGION
}
DG_14++++++++++++++++++++++

@ NW minimum overlap past DG with abutting permitted is 0.33
ENC (DG NOT COIN EDGE NW) NW < 0.33 ABUT<90 REGION
}
CORN_1++++++++++++++++++++++

@ Chamfer area size at the chip corner is 74. The chip edge is defined to be the maximum boundary of all chip layers.
@ All layers include BORDER(127;0) should not interact with area A in the figure.This rule is applicable for chips gds
@ Note 1. The DRC executes this section rule check on following layers: AA, GT, CT, SP, SAB, CT, Vn n=1-7, Mn n=1-8, MnDUM n=1-8, TV1, TV2, TM1, TM2, BORDER.
@ Note 2. This rule section only applies for those chips that need to have chip level. The chip corner rule check option is default turned on in DRC script.
@ Note.3. In case for the building block level design, or the IP gds, please turn off the chip corner rule check option.
CORN AND AAi
CORN AND GTi
CORN AND CTi
CORN AND SPi
CORN AND SABi
CORN AND V1i
CORN AND V2i
CORN AND V3i
CORN AND V4i
CORN AND V5i
CORN AND V6i
CORN AND V7i
CORN AND M1i
CORN AND M2i
CORN AND M3i
CORN AND M4i
CORN AND M5i
CORN AND M6i
CORN AND M7i
CORN AND M8i
CORN AND M1DUM
CORN AND M2DUM
CORN AND M3DUM
CORN AND M4DUM
CORN AND M5DUM
CORN AND M6DUM
CORN AND M7DUM
CORN AND M8DUM
CORN AND TV2i
CORN AND TM2i
CORN AND MTT2i
CORN AND BORDER
}
CORN_2++++++++++++++++++++++

@ For the chips needs SMIC mask shop insert dummy and seal ring, the corner area A(see this section figure) should be covered with (DUMBA, DUMBP, DUMBM).
CORN NOT (( DUMBA OR DUMBP) OR DUMBM)
}
BORDER_1++++++++++++++++++++++

@ Designer need to add BORDER (CHIPEDGE) to define chip boundary and have all chip layout patterns inside BORDER
(DRC:1 NOT BD_WITHHOLE) NOT CORN
}
BORDER_2_AA++++++++++++++++++++++

@ AA enclosure by BORDER min. is 0.36
ENC AAi BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_GT++++++++++++++++++++++

@ GT enclosure by BORDER min. is 0.36
ENC GTi BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_CT++++++++++++++++++++++

@ CT enclosure by BORDER min. is 0.36
ENC CTi BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M1++++++++++++++++++++++

@ M1 enclosure by BORDER min. is 0.36
ENC M1i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M2++++++++++++++++++++++

@ M2 enclosure by BORDER min. is 0.36
ENC M2i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M3++++++++++++++++++++++

@ M3 enclosure by BORDER min. is 0.36
ENC M3i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M4++++++++++++++++++++++

@ M4 enclosure by BORDER min. is 0.36
ENC M4i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M5++++++++++++++++++++++

@ M5 enclosure by BORDER min. is 0.36
ENC M5i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M6++++++++++++++++++++++

@ M6 enclosure by BORDER min. is 0.36
ENC M6i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M7++++++++++++++++++++++

@ M7 enclosure by BORDER min. is 0.36
ENC M7i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_M8++++++++++++++++++++++

@ M8 enclosure by BORDER min. is 0.36
ENC M8i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V1++++++++++++++++++++++

@ V1 enclosure by BORDER min. is 0.36
ENC V1i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V2++++++++++++++++++++++

@ V2 enclosure by BORDER min. is 0.36
ENC V2i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V3++++++++++++++++++++++

@ V3 enclosure by BORDER min. is 0.36
ENC V3i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V4++++++++++++++++++++++

@ V4 enclosure by BORDER min. is 0.36
ENC V4i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V5++++++++++++++++++++++

@ V5 enclosure by BORDER min. is 0.36
ENC V5i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V6++++++++++++++++++++++

@ V6 enclosure by BORDER min. is 0.36
ENC V6i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_2_V7++++++++++++++++++++++

@ V7 enclosure by BORDER min. is 0.36
ENC V7i BD_WITHHOLE < 0.36 ABUT<90 SINGULAR REGION
}
BORDER_3++++++++++++++++++++++

@ DNW minimum enclosure by chip edge(BORDER layer) is 0.8
ENC DNW BD_WITHHOLE < 0.8 ABUT<90 SINGULAR REGION
}
BORDER_4++++++++++++++++++++++

@ All designs should place a BORDER at the most outermost edge with straight lines from chip corner area to corner area.
BD_WITHHOLE NOT ( RECTANGLE BD_WITHHOLE )
}
GT_1a++++++++++++++++++++++

@ Gate minimum channel length for 0.9/1.1/1.2V N/P MOS transistors (std, high, or low VT) is 0.04
@ SRGT_1, Gate minimum length is 0.04
X = (GT IN EDGE (AA NOT (DG OR TG))) COIN EDGE GATE
INT X < 0.04 ABUT<90 REGION OPPOSITE
}
GT_1b++++++++++++++++++++++

@ GATE minimum channel length for 1.8V N/P MOS transistors is 0.15
X = GT COIN EDGE ((GATE AND DG)  NOT DGV)
INT X < 0.15 ABUT<90 REGION OPPOSITE
}
GT_1c++++++++++++++++++++++

@ GATE minimum channel length for 2.5V N/P MOS transistors is 0.27
X = GT COIN EDGE ((GATE AND TG) NOT TGV)
INT X < 0.27 ABUT<90 REGION OPPOSITE
}
GT_1d++++++++++++++++++++++

@ Gate minimum channel length for 2.5V overdrive 3.3V NMOS transistors is 0.55
X = GT COIN EDGE ((NGATE AND TG) AND OVERDR)
INT X < 0.55 ABUT<90 REGION OPPOSITE
}
GT_1e++++++++++++++++++++++

@ Gate minimum channel length for 2.5V overdrive 3.3V PMOS transistors is 0.44
X = GT COIN EDGE ((PGATE AND TG) AND OVERDR)
INT X < 0.44 ABUT<90 REGION OPPOSITE
}
GT_1fg++++++++++++++++++++++

@ Gate minimum channel length for 2.5V underdrive 1.8V NMOS transistors is 0.24
@ Gate minimum length for 2.5V underdrive 1.8V PMOS transistors is 0.24
X = GT COIN EDGE ((GATE AND TG) AND TGV)
INT X < 0.24 ABUT<90 REGION OPPOSITE
}
GT_1h++++++++++++++++++++++

@ Gate channel length for 1.8V underdrive 1.5V N/P MOS transistors	0.125
X = GT COIN EDGE ((GATE AND DG) AND DGV)
INT X < 0.125 ABUT<90 REGION OPPOSITE
}
GT_2a++++++++++++++++++++++

@ Poly minimum width is 0.04
INT GT < 0.04 ABUT<90 SINGULAR REGION
}
GT_2b_R++++++++++++++++++++++

@ Non-floating poly outside of (extend AA W>= 2.5um) region minimum width is 0.06, This rule is not applicable for GT interacting with EFUSE(81;2).
AAregion = SIZE AA BY 2.5
GTout = (GT NOT FTGT) NOT AAregion
err = (INT (GTout NOT COIN EDGE AAregion) < 0.06 ABUT<90 REGION) NOT EFUSE
err NOT (GT WITH WIDTH >0.06)
}
GT_3++++++++++++++++++++++

@ Space between two poly is 0.1
EXT (GT OUTSIDE INST)< 0.10  SINGULAR REGION
}
GT_3c++++++++++++++++++++++

@ GT to GT space if one GT s width > 0.12um is >=0.15, parallel run length of the two GT > 0.14um
X =GT WITH WIDTH > 0.12
Y = EXT X GT<0.15   REGION OPPOSITE
Y1 = EXT X [GT]<0.15  OPPOSITE
Z = LENGTH Y1 >0.14
Y WITH EDGE Z
}
SRGT_3++++++++++++++++++++++

@ Space between two poly on field is 0.07
X =EXT (GT NOT INDMY)< 0.07 ABUT<90 SINGULAR REGION
X NOT OUTSIDE INST
}
GT_4++++++++++++++++++++++

@ Space between AA and poly on field oxide is 0.03
X =EXT AA  GT < 0.03 ABUT==0 SINGULAR REGION
X OUTSIDE INST
}
GT_5++++++++++++++++++++++

@ Extension of AA outside of GATE is 0.06, excluding LDMOS and within inductor area(layer INDMY)
ENC (GATE NOT (LDBK OR INDMY)) ( AA OUTSIDE INST)  < 0.06 ABUT>0<90 SINGULAR REGION
}
SRGT_5++++++++++++++++++++++

@ Extension of AA outside of GATE is 0.045
X =ENC (GATE NOT INDMY) AA < 0.045 ABUT>0<90 SINGULAR REGION
X NOT OUTSIDE INST
}
GT_6++++++++++++++++++++++

@ Extension of poly outside of AA to form poly end-cap is 0.09. Waive within LDBK area
err= ENC (AA  COIN EDGE GATE) GT_head< 0.09 ABUT<90  REGION OPPOSITE
((err INSIDE GT) NOT (LDBK OR INDMY)) OUTSIDE INST
}
GT_6a_R++++++++++++++++++++++

@ Extension E of GT outside of AA to form poly end-cap is 0.11.  The GT to L shape AA(in the same MOS) space S < 0.1um.  The L shape AA height h > 0.02um.
AA_L1  =CONVEX EDGE AA ANGLE1 == 270 ANGLE2 ==90 WITH LENGTH >0.02
AA_L =  AA_L1 NOT COIN EDGE (AA TOUCH EDGE GATE)
S1 = CONVEX EDGE (AA OR GT) ANGLE1 == 270 ANGLE2 == 270 WITH LENGTH <0.1
S = S1 COIN EDGE AA
SL_CORNER=EXT S AA_L< 0.002  ABUT==90 INTERSECTING ONLY REGION
S_region =( EXPAND EDGE  S INSIDE BY 0.001 EXTEND BY 0.001 ) INTERACT SL_CORNER
err =ENC (GATE TOUCH EDGE S_region)  GT_head   < 0.11 ABUT<90 REGION OPPOSITE
(err INSIDE GT) OUTSIDE SRAM
}
SRGT_6++++++++++++++++++++++

@ Extension of non-floating poly outside of AA to form poly end-cap is 0.055
@ area interacted with rectangle contact need not follow this rule
X = ENC (AA COIN EDGE GATE) (GT NOT (FTGT OR INDMY))  < 0.055 ABUT<90 REGION
(X NOT INTERACT RECT) NOT OUTSIDE INST
}
GT_7++++++++++++++++++++++

@ (poly_end with length < 0.120) minimum space to (poly_end with length < 0.120)
@ (head to head space)  with run length > 0 must be is 0.1.
X = EXT GT_end_head < 0.1 ABUT<90 REGION OPPOSITE
X OUTSIDE INST
}
SRGT_7++++++++++++++++++++++

@ (poly_end with length < 0.120) minimum space to (poly_end with length < 0.120),excluding floating poly
@ (head to head space) must be > 0.07
X = EXT GT_end_head < 0.07 ABUT<90 REGION OPPOSITE
(X NOT OUTSIDE INST) NOT INTERACT FTGT
}
GT_8++++++++++++++++++++++

@ (poly_end with length < 0.120) minimum space to poly (head to side) must be > 0.1 ,This rule is not applicable for SRAM region check.
X = EXT GT_end_head GT_nonend < 0.1 ABUT<90 REGION
X  OUTSIDE INST
}
GT_8a++++++++++++++++++++++

@ Space between GT line end to line (Dh) or GT line to line (Ds) when the layout structures meet the conditions of below: (Waive the GT small extrusion F<0.04um)
@ 1. GT line end definition: GT width W<0.065um
@ 2. Runlength of GT line to line or GT line to end: E1>=-0.03um
@ 3. Any one edge distance from the corner of the two edges: K1 <0.065um
@ Any one of Dh or Ds meet this rule value is ok.
@ This rule is not applicable for SRAM region check.	 	0.11
LINE_END = CONVEX EDGE GT ANGLE1 ==90 LENGTH1 >=0.04 ANGLE2  ==90 LENGTH2  >=0.04 WITH LENGTH  < 0.065
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.034
LINE_SIDE = (GT COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] GT < 0.11 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] GT < 0.11  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
GT_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(LINE_END_SHAPE INTERACT GT_CORNER) OUTSIDE INST
}
GT_10++++++++++++++++++++++

@ For GT channel length >= 0.06, minimum gate space to (GT or GTDUM) is 0.13
@ PFET gate minimum space over AA is 0.13
X = LENGTH (ACT INSIDE EDGE (GT  OUTSIDE INST))>=0.06
Y = GATE WITH EDGE X
EXT Y (GT OR GTDUM ) < 0.13 ABUT<90 OPPOSITE  REGION
}
SRGT_10++++++++++++++++++++++

@ For GT channel length >= 0.06, minimum gate space to (GT or GTDUM) is 0.12
X = LENGTH (ACT INSIDE EDGE (GT NOT OUTSIDE INST))>=0.06
Y = GATE WITH EDGE X
EXT Y (GT OR GTDUM ) < 0.12 ABUT<90 OPPOSITE  REGION
}
GT_17++++++++++++++++++++++

@ minimum area is 0.012
@ SRGT_17, minimum area is 0.012
AREA GT < 0.012
}
GT_18++++++++++++++++++++++

@ poly minimum enclosed area is 0.040
AREA ((HOLES GT INNER) NOT GT) < 0.040
}
GT_19++++++++++++++++++++++

@ (GT AND AA) area GTAA.  GTAA enclose 200x200um area.  Maximum area for GTAA (um2) 50000
X = ENCLOSE RECTANGLE GATE 200 200
AREA X > 50000
}
GT_20l++++++++++++++++++++++

@ Poly min. density in whole chip is 15%
X = DENSITY (GTi OR GTDUM) <0.15 PRINT density_report_GT20l.log
X NOT MARKG
}
GT_20h++++++++++++++++++++++

@ Poly max. density in whole chip is 40%
X = DENSITY (GTi OR GTDUM) > 0.40 PRINT density_report_GT20h.log
X NOT MARKG
}
GT_20bl++++++++++++++++++++++

@ Poly min. density overlap by DUMBP is 15%
X = GTi OR GTDUM
Y = COPY DUMBP
Z = DENSITY X DUMBP [area(X)/area(DUMBP)] < 0.15 INSIDE OF LAYER Y PRINT density_report_GT20bl.log  RDB density_report_GT20bl.db
Z NOT MARKG
}
GT_20bh++++++++++++++++++++++

@ Poly max. density overlap by DUMBP is 40%
X = GTi OR GTDUM
Y = COPY DUMBP
Z = DENSITY X DUMBP [area(X)/area(DUMBP)] > 0.4 INSIDE OF LAYER Y PRINT density_report_GT20bh.log RDB density_report_GT20bh.db
Z NOT MARKG
}
GT_20c++++++++++++++++++++++

@Poly density (including dummy) excluding (DG or TG)is 10%, check window 100x100um with step 50um.
@DRC check with the said window size and rule number and highlight as X.  Y = X not (DG or TG) , Z= (Y area)/(100*100)
@If Z > 25%, highlight Y for GT density inside of Y smaller than rule value
X =DENSITY (GTi OR GTDUM) < 0.1 WINDOW 100 STEP 50 BACKUP RDB density_report_GT20c1.db
Y = X NOT (DG OR TG)
Z= COPY Y
M = DENSITY Y  [area(Y)/(100*100)]>0.25  INSIDE OF LAYER Z  RDB density_report_GT20c2.db
N = COPY M
W =DENSITY GT_ALL M [area(GT_ALL)/area(M)] < 0.1 INSIDE OF LAYER N BY POLYGON PRINT density_report_GT_20c.log RDB density_report_GT20c.db
W NOT MARKG
}
GT_20d++++++++++++++++++++++

@Poly density (including dummy) in (DG or TG)is 5%, check window 100x100um with step 50um.
@DRC check with the said window size and rule number and highlight as X.  Y = X and (DG or TG) , Z= (Y area)/(100*100)
@ If Z > 25%, highlight Y for GT density inside of Y smaller than rule value
X =DENSITY (GTi OR GTDUM) < 0.05 WINDOW 100 STEP 50 BACKUP PRINT density_report_GT.20d.log RDB density_report_GT20d1.db
Y = X AND (DG OR TG)
Z= COPY Y
M = DENSITY Y  [area(Y)/(100*100)]>0.25  INSIDE OF LAYER Z RDB density_report_GT20d2.db
N = COPY M
W =DENSITY GT_ALL M [area(GT_ALL)/area(M)] < 0.05 INSIDE OF LAYER N BY POLYGON PRINT density_report_GT_20d.log RDB density_report_GT20d.db
W NOT MARKG
}
GT_21++++++++++++++++++++++

@ No bent GATE (45 or 135 degree) on AA are allowed
@ All gate patterns on AA have to be orthogonal to AA edge
@ and SRGT_21
GTEIAA1 = GTEIAA COIN EDGE GATE
(INT GTEIAA1 < 0.01 ABUT == 90 REGION) NOT OCOVL
(EXT GTEIAA1 < 0.01 ABUT == 90 REGION) NOT OCOVL
(INT GTEIAA1 < 0.01 ABUT == 45 REGION) NOT OCOVL
(EXT GTEIAA1 < 0.01 ABUT == 45 REGION) NOT OCOVL
(INT GTEIAA1 < 0.01 ABUT == 135 REGION) NOT OCOVL
( EXT GTEIAA1 < 0.01 ABUT == 135 REGION) NOT OCOVL
}
GT_22++++++++++++++++++++++

@ GT must be enclosed by (SN or SP) except the MOM, GTFUSE and  (HRP AND GT). Exclude floating GT
X = (((GT NOT FTGT) NOT INTERACT (HRP AND GT)) NOT INTERACT (MOMDMY OR GTFUSE)) NOT (SN OR SP)
X NOT OCOVL
}
GT_24++++++++++++++++++++++

@  L-shaped GT minimum space to AA is 0.04
LGT_ = U_edge_ TOUCH GTconer == 1
LGT = U_edge COIN EDGE LGT_
LENGTH LGT < 0.04
}
GT_25++++++++++++++++++++++

@ L-shape AA minimum space to poly(in same transistor) is 0.03
LAA_ = U_edge_ TOUCH AAconer == 1
LAA = U_edge COIN EDGE LAA_
X = LENGTH LAA  <  0.03
X COIN EDGE (AA TOUCH EDGE GATE)
}
GT_26++++++++++++++++++++++

@ All memory cell transistor(transistors within INST layer),
@ gate GT direction should be unidirectional in one chip.
X = (((GT INTERACT CT) NOT OUTSIDE INST) INSIDE EDGE AA) COIN EDGE GATE
Y = ANGLE X != 0
EXPAND EDGE Y INSIDE BY 0.01
}
GT_27++++++++++++++++++++++

@ Bent 45 deg GT min width is 0.16
X = ANGLE GT ==45
INT X <0.16 ABUT<90 REGION
}
GT_28++++++++++++++++++++++

@ The space between two bent 45 degree GTs is 0.16
X = ANGLE GT ==45
EXT X <0.16  ABUT<90 REGION
}
RESP1_2++++++++++++++++++++++

@ POLY resistor minimum width is 0.4
INT (GTR IN EDGE SAB) < 0.4 ABUT<90 REGION
}
RESP1_3++++++++++++++++++++++

@ POLY resistor minimum length is 0.40
INT (SAB COIN EDGE GTR) < 0.40 ABUT<90 REGION
}
RESP1_4++++++++++++++++++++++

@ POLY resistor must be orthogonal
ANGLE GTR >0<90
}
RESP1_5++++++++++++++++++++++

@ CT to SAB minimum space is 0.20
EXT (CT AND (GT INTERACT GTR)) SAB < 0.20 ABUT<90 SINGULAR REGION
}
RESP1_6++++++++++++++++++++++

@ Extension of RESP1 outside of POLY minimum distance is 0.20
ENC (GT INTERACT GTR) RESP1 < 0.20 ABUT<90 SINGULAR REGION
}
RESP1_7++++++++++++++++++++++

@ The separation minimum between resistors with un-related implant region is 0.16
EXT GTR SN < 0.16 ABUT<90 SINGULAR REGION
EXT GTR SP < 0.16 ABUT<90 SINGULAR REGION
EXT GTR ESD1 < 0.16 ABUT<90 SINGULAR REGION
}
RESP1_9++++++++++++++++++++++

@ For POLY resistor, make sure the POLY be covered by SAB and implanted by either SN or SP
GTR NOT SAB
(GTR NOT IN SP) NOT IN SN
}
RESP1_11++++++++++++++++++++++

@ Extension Poly to SAB is 0.4
ENC SAB (GT INTERACT GTR)< 0.4 ABUT<90 SINGULAR REGION
}
RESP1_12++++++++++++++++++++++

@ Minimum Space RESPl to non-related AA is 0.16
EXT RESP1 (AA NOT INTERACT RESP1) < 0.16 ABUT<90 SINGULAR REGION
}
RESP1_13++++++++++++++++++++++

@ Minimum Space RESPl to non-related Poly is 0.24
EXT RESP1 (GT NOT INTERACT RESP1)  < 0.24 ABUT<90 SINGULAR REGION
}
RESP1_15++++++++++++++++++++++

@ RESP1 and SAB on GT should have coincident edge
X = RESP1 INSIDE EDGE GT
Y = SAB INSIDE EDGE GT
X NOT COIN  EDGE Y
RESP1 ENCLOSE GT
}
PLRES_1++++++++++++++++++++++

@POLY Silicide resistor minimum width is 0.15
INT GTP < 0.15 ABUT<90 REGION
}
PLRES_2++++++++++++++++++++++

@PLRES can not overlap with RESP1
PLRES AND RESP1
}
PLRES_4++++++++++++++++++++++

@POLY Silicide resistor must be orthogonal
ANGLE GTP >0< 90
}
PLRES_5++++++++++++++++++++++

@CT to PLRES space: Fixed value is 0.01
X1 = EXT CT GTP <= 0.07 ABUT<90 REGION OPPOSITE
X2 = EXT CT GTP == 0.01 ABUT<90 REGION OPPOSITE
(X1 NOT (X2 NOT (X2 ENCLOSE CT))) OR (CT INTERACT PLRES)
}
PLRES_6++++++++++++++++++++++

@min Extension of PLRES outside of POLY minimum distance is 0.0
X =GTP TOUCH (PLRES NOT GTP) >1
Y = PLRES COIN EDGE GT
Z =EXPAND EDGE Y INSIDE BY 0.001
PLRES NOT INTERACT (X OR (PLRES INTERACT Z))
}
PLRES_7++++++++++++++++++++++

@The minimum separation between resistors with un-related implant region is 0.16
EXT GTP SN < 0.16 ABUT<90 SINGULAR REGION
EXT GTP SP < 0.16 ABUT<90 SINGULAR REGION
EXT GTP ESD1 < 0.16 ABUT<90 SINGULAR REGION
}
PLRES_8++++++++++++++++++++++

@For POLY Silicide resistor, make sure the POLY be implanted by either SN or SP. Minimum enclosure by SN or SP is 0.18
(GTP NOT IN SP) NOT IN SN
ENC GTP SN <0.18 ABUT<90 SINGULAR REGION
ENC GTP SP <0.18 ABUT<90 SINGULAR REGION
}
PLRES_9++++++++++++++++++++++

@Minimum Space PLRES to non-related AA is 0.16
EXT PLRES AA< 0.16 ABUT<90 SINGULAR REGION
}
PLRES_10++++++++++++++++++++++

@Minimum Space PLRES to non-related Poly is 0.24
EXT PLRES GT< 0.24 ABUT<90 SINGULAR REGION
}
LVT_1++++++++++++++++++++++

@ LVT minimum width(parallel side to side width) is 0.18
INT LVT < 0.18 ABUT>0<90 OPPOSITE REGION
}
LVT_2++++++++++++++++++++++

@ Minimum Space between two LVT. (with run length > 0 ) is 0.18
EXT LVT < 0.18 ABUT < 90 REGION OPPOSITE
}
LVT_4++++++++++++++++++++++

@ LVT minimum extension outside of poly gate for MOS along source drain direction is 0.14
Z = GATE INTERACT LVT
X = Z INSIDE EDGE ACT
ENC X LVT < 0.14 ABUT<90 REGION OPPOSITE
}
LVT_4a++++++++++++++++++++++

@ LVT minimum extension outside of poly gate for MOS along poly direction is 0.08
Z = GATE INTERACT LVT
X = ACT TOUCH EDGE Z
ENC X LVT < 0.08 ABUT<90 REGION OPPOSITE
}
LVT_5++++++++++++++++++++++

@ Minimum space between LVT and gate for MOS along source drain direction is 0.14
X = GATE INSIDE EDGE ACT
EXT LVT X < 0.14 ABUT<90 REGION OPPOSITE
}
LVT_5a++++++++++++++++++++++

@ Minimum Space between LVT and gate along poly direction is 0.08
X = GATE TOUCH EDGE ACT
EXT X LVT < 0.08 ABUT<90 REGION
}
LVT_6++++++++++++++++++++++

@ Minimum space between LVT to (poly SAB resistor or AA SAB resistor) is 0.18
EXT LVT GTSABR < 0.18 ABUT<90 SINGULAR REGION
EXT LVT AASABR < 0.18 ABUT<90 SINGULAR REGION
}
LVT_9++++++++++++++++++++++

@ LVT minimum area is 0.19
AREA LVT < 0.19
}
LVT_10++++++++++++++++++++++

@ LVT minimum enclosed area is 0.19
AREA ((HOLES LVT INNER) NOT LVT) < 0.19
}
LVT_13++++++++++++++++++++++

@ (LVT over AA) over ( NLL, PLL, HVT) is prohibited
(LVT AND AA) AND ((NLL OR PLL) OR HVT)
}
HVT_1++++++++++++++++++++++

@ HVT minimum width(parallel side to side width) is 0.18
INT HVT < 0.18 ABUT>0<90 OPPOSITE REGION
}
HVT_2++++++++++++++++++++++

@ Minimum Space between two HVT. (with run length > 0 ) is 0.18
EXT HVT < 0.18 ABUT < 90 REGION   OPPOSITE
}
HVT_4++++++++++++++++++++++

@ HVT minimum extension outside of poly gate for MOS along source drain direction is 0.14
Z = GATE INTERACT HVT
X = Z INSIDE EDGE ACT
ENC X HVT < 0.14 ABUT<90 REGION OPPOSITE
}
HVT_4a++++++++++++++++++++++

@ HVT minimum extension outside of poly gate for MOS along poly direction is 0.08
Z = GATE INTERACT HVT
X = ACT TOUCH EDGE Z
ENC X HVT < 0.08 ABUT<90 REGION OPPOSITE
}
HVT_5++++++++++++++++++++++

@ Minimum space between HVT and gate for MOS along source drain direction is 0.14
X = GATE INSIDE EDGE ACT
EXT HVT X < 0.14 ABUT<90 REGION OPPOSITE
}
HVT_5a++++++++++++++++++++++

@ Minimum Space between HVT and gate along poly direction is 0.08
X = GATE TOUCH EDGE ACT
EXT X HVT < 0.08 ABUT<90 REGION
}
HVT_6++++++++++++++++++++++

@ Minimum space between HVT to (poly SAB resistor or AA SAB resistor) is 0.18
EXT HVT GTSABR < 0.18 ABUT<90 SINGULAR REGION
EXT HVT AASABR < 0.18 ABUT<90 SINGULAR REGION
}
HVT_9++++++++++++++++++++++

@ HVT minimum area is 0.19
AREA HVT < 0.19
}
HVT_10++++++++++++++++++++++

@ HVT minimum enclosed area is 0.19
AREA ((HOLES HVT INNER) NOT HVT) < 0.19
}
HVT_13++++++++++++++++++++++

@ (HVT over AA) over ( TG, DG, NLL, PLL, LVT) is prohibited
(HVT AND AA) AND (TG OR DG)
(HVT AND AA) AND ((NLL OR PLL) OR LVT)
}
SP_1++++++++++++++++++++++

@ SP minimum width(with run length > 0) is 0.18
INT SP < 0.18 ABUT<90 REGION OPPOSITE
}
SP_2++++++++++++++++++++++

@ Minimum space between two SP(with run length > 0) is 0.18
@ Merge if the space is less than 0.18
EXT SP < 0.18 OPPOSITE ABUT<90 REGION
}
SP_3a++++++++++++++++++++++

@ Minimum space between SP and N+AA in PW (run length > 0.1um) is 0.08, excpet AA resistor
X = ((NACT OUTSIDE INST) NOT (NTAP OR AAR)) NOT COIN EDGE SP
X1 = EXT SP X < 0.08 ABUT>0<90 REGION OPPOSITE
X1 WITH EDGE (LENGTH X1 > 0.1)
}
SP_3b++++++++++++++++++++++

@ Minimum space between SP and N+AA in PW (run length <= 0.1um) is 0.05, excpet AA resistor
X = ((NACT OUTSIDE INST) NOT (NTAP OR AAR)) NOT COIN EDGE SP
EXT SP X < 0.05 ABUT>0<90 REGION
}
SRSP_3a++++++++++++++++++++++

@ Minimum space between SP and N+ AA inside PW is 0.041, except AA resistor. (run length > 0.1um)
X = (NACT NOT OUTSIDE INST) AND PW
Y = EXT SP X < 0.041 ABUT>0<90 REGION OPPOSITE
(Y WITH EDGE (LENGTH Y > 0.1)) NOT OUTSIDE INST
}
SRSP_3b++++++++++++++++++++++

@ Minimum space between SP and N+ AA inside PW is 0.037, except AA resistor. (run length <= 0.1um)
X = (NACT NOT OUTSIDE INST) AND PW
Y = EXT SP X < 0.037 ABUT>0<90 REGION OPPOSITE
Z = Y COIN EDGE SP
(Y WITH EDGE (LENGTH Z <=0.1 )) NOT OUTSIDE INST
}
SP_4++++++++++++++++++++++

@ Minimum space between SP and N+ pick-up AA is 0.02
X = NTAP NOT COIN EDGE (SP INTERACT PACT)
EXT SP X < 0.02 ABUT<90 REGION
}
SP_6++++++++++++++++++++++

@ SP minimum extension outside of poly gate for PMOS is 0.16
ENC (GT COIN EDGE GATE) SP < 0.16 ABUT<90 REGION OPPOSITE
}
SP_7a++++++++++++++++++++++

@ Minimum space between SP and S/D direction N-channel poly gate is 0.16
EXT SP (GT COIN EDGE NGATE) < 0.16 ABUT<90 REGION OPPOSITE
}
SP_7b++++++++++++++++++++++

@ Minimum space between SP and non-S/D direction N-channel poly gate is 0.08
X=  EXT SP  NGATE  < 0.08 ABUT<90 SINGULAR REGION
X  OUTSIDE SRAM
}
SP_7c++++++++++++++++++++++

@ A butted N+ pick-up AA space to PMOS gate in the same AA is >= 0.23
EXT (NACT TOUCH PSD) PGATE <0.23 ABUT<90 SINGULAR REGION
}
SP_8c++++++++++++++++++++++

@ A butted N+ pick-up AA (in L shape AA) space to PMOS gate in the same AA is >=0.23, when this butted N+ pick-up AA extrusion:  0 < h < 0.1um
PAAL = PACT TOUCH INSIDE EDGE PGATE
PAAL_EP = EXPAND EDGE PAAL OUTSIDE BY 0.1 EXTEND BY 0.01
BUTNA_ED = NACT COIN EDGE (PACT NOT PTAP)
BUTNA_ED_1 = BUTNA_ED INSIDE EDGE PAAL_EP
BUTSN_1 = (NACT INTERACT NW) WITH EDGE BUTNA_ED_1
GTSP_1 = GT INSIDE EDGE (PACT  TOUCH NACT)
GTSP   = (GT WITH EDGE GTSP_1) TOUCH EDGE PGATE
EXT BUTSN_1 GTSP < 0.23 ABUT<90 REGION
}
SP_9++++++++++++++++++++++

@ Space between a SP and a N+AA or N+POLY resistor (SN AND ((RESAA AND AA) OR (RESP1 AND GT))is 0.16
EXT SP (AAR AND SN) < 0.16 ABUT<90 SINGULAR REGION
EXT SP (GTR AND SN) < 0.16 ABUT<90 SINGULAR REGION
}
SP_10++++++++++++++++++++++

@ P+AA minimum enclosure by SP((not include pick up AA) is 0.08
X = (PTAP INTERACT GATE) AND VARMOS
Y = PACT NOT (PTAP NOT X)
Z = ENC Y SP < 0.08 ABUT >0< 90 SINGULAR REGION
Z OUTSIDE INST
}
SRSP_10++++++++++++++++++++++

@ P+AA minimum enclosure by SP is 0.038 (not include pick up AA)
X =ENC (PACT NOT PTAP) (SP NOT COIN EDGE NTAP) < 0.038 ABUT<90 REGION OPPOSITE
X NOT OUTSIDE INST
}
SP_12++++++++++++++++++++++

@ SP enclosure of P+ pickup AA is 0.02
X0 = (PTAP INTERACT GATE) AND VARMOS
X = ((PTAP OUTSIDE INST) NOT X0) NOT COIN EDGE NACT
ENC X SP < 0.02 ABUT<90 REGION
}
SP_14++++++++++++++++++++++

@ P+ AA resistor or P+Poly resistor minimum enclosure by SP is 0.18
@ The resistor here: (SP AND ((RESAA AND AA) OR (RESP1 AND GT))
ENC (AAR AND  SP) SP < 0.18 ABUT<90 SINGULAR REGION
ENC (GTR AND SP) SP < 0.18 ABUT<90 SINGULAR REGION
}
SP_15++++++++++++++++++++++

@ SP and AA minimum overlap is 0.10
INT SP  (AA  NOT COIN EDGE SP) < 0.10 ABUT<90 REGION OPPOSITE
}
SP_16++++++++++++++++++++++

@ SP minimum area include the connected area within INST is 0.11
AREA (SP OUT INST) < 0.11
}
SRSP_16++++++++++++++++++++++

@ SP minimum area is 0.072
X = AREA SP < 0.072
X NOT OUTSIDE INST
}
SP_SN_17++++++++++++++++++++++

@ SN and SP overlap is forbidden
SN AND SP
}
SP_18++++++++++++++++++++++

@ Minimum enclosed area of SP is 0.11
AREA ((HOLES SP INNER) NOT SP) < 0.11
}
SP_20a++++++++++++++++++++++

@ P+ butted AA in P-well area(the area interact with CT)is 0.03
AREA (((((SP CUT AA ) NOT (SP ENCLOSE AA)) AND AA) NOT NW) INTERACT CT) < 0.03
}
SP_21++++++++++++++++++++++

@ N+ butted AA in NW contact extension of SP is 0.08
INT (NTAP COIN EDGE PACT) NTAP  < 0.08 ABUT<90 REGION
}
SP_21a++++++++++++++++++++++

@ N+ butted AA in NW area(the area interact with CT)
AREA (((((SN CUT AA ) NOT (SN ENCLOSE AA)) AND AA) AND NW) INTERACT CT)<0.03
}
SN_1++++++++++++++++++++++

@ SN minimum width(run length > 0) is 0.18
INT SN  < 0.18 ABUT<90 OPPOSITE REGION
}
SN_2++++++++++++++++++++++

@ Minimum space between two SN (with run length > 0) is 0.18
EXT SN  < 0.18 OPPOSITE ABUT<90 REGION
}
SN_3a++++++++++++++++++++++

@ Minimum space between SN and P+AA in NW (run length > 0.1um) is 0.08,except AA resistor(RESAA AND AA)
X = ((PACT AND NW) NOT AAR) NOT COIN EDGE SN
X1 = EXT SN X < 0.08 ABUT>0<90 REGION OPPOSITE
X2 =X1 WITH EDGE (LENGTH X1 > 0.1)
X2 OUTSIDE INST
}
SN_3b++++++++++++++++++++++

@ Minimum space between SN and P+AA in NW (run length <= 0.10um) is 0.05, except AA resistor(RESAA AND AA)
X =((PACT  AND NW) NOT AAR) NOT COIN EDGE SN
X1 = EXT SN X < 0.05 ABUT>0<90 REGION
X1 OUTSIDE INST
}
SRSN_3a++++++++++++++++++++++

@ Minimum space between SN and P+ AA inside NW is 0.043, except AA resistor. (run length > 0.1um)
X = ((PACT NOT OUTSIDE INST) AND NW) NOT COIN EDGE SN
Y = EXT SN X < 0.043 ABUT>0<90 REGION OPPOSITE
(Y WITH EDGE (LENGTH Y > 0.1)) NOT OUTSIDE INST
}
SRSN_3b++++++++++++++++++++++

@ Minimum space between SN and P+ AA inside NW is 0.038, except AA resistor. (run length <= 0.1um)
X = ((PACT NOT OUTSIDE INST) AND NW) NOT COIN EDGE SN
Y = EXT SN X < 0.038 ABUT>0<90 REGION OPPOSITE
Z = Y COIN EDGE SN
(Y WITH EDGE (LENGTH Z <=0.1 )) NOT OUTSIDE INST
}
SN_4++++++++++++++++++++++

@ Minimum space between SN and P+ pick-up AA is 0.02
X = (PTAP OUTSIDE INST) NOT COIN EDGE (SN INTERACT NACT)
EXT SN X < 0.02 ABUT<90 REGION
}
SN_6++++++++++++++++++++++

@ SN minimum extension outside of poly gate for NMOS along source drain direction is 0.16
ENC (GATE COIN EDGE GT) SN < 0.16 ABUT<90 REGION OPPOSITE
}
SN_7a++++++++++++++++++++++

@ Minimum space between SN and S/D driection P-channel poly gate is 0.16
EXT SN (GT COIN EDGE PGATE) < 0.16 ABUT<90 REGION OPPOSITE
}
SN_7b++++++++++++++++++++++

@ Minimum space between SN and Non-S/D driection P-channel poly gate is 0.08 (outside of SRAM(INST area))
X = EXT SN PGATE < 0.08 ABUT<90 SINGULAR REGION
X OUTSIDE INST
}
SN_7c++++++++++++++++++++++

@ A butted P+ pick-up AA space to NMOS gate in the same AA is >=0.23
EXT (PACT TOUCH NSD) NGATE <0.23 ABUT<90 SINGULAR REGION
}
SN_8c++++++++++++++++++++++

@ A butted P+ pick-up AA (in L shape AA) space to NMOS gate in the same AA is >=0.23, when this butted P+ pick-up AA extrusion:  0 < h < 0.1um
NAAL = NACT TOUCH INSIDE EDGE NGATE
NAAL_EP = EXPAND EDGE NAAL OUTSIDE BY 0.1 EXTEND BY 0.01
BUTNA_ED = PACT COIN EDGE (NACT NOT NTAP)
BUTNA_ED_1 = BUTNA_ED INSIDE EDGE NAAL_EP
BUTSN_1 = (PACT INTERACT PW) WITH EDGE BUTNA_ED_1
GTSN_1 = GT INSIDE EDGE ((NACT NOT NTAP) TOUCH PACT)
GTSN   = (GT WITH EDGE GTSN_1) TOUCH EDGE NGATE
N = CONVEX EDGE (NACT OR (GT ENCLOSE NGATE)) ANGLE1==270 ANGLE2==270
N_REGION = EXPAND EDGE N OUTSIDE BY 0.1
EXT BUTSN_1 GTSN < 0.23 ABUT<90 REGION
}
SN_9++++++++++++++++++++++

@ Minimum space between a SN and a P-type resistor is 0.16 (SP AND ((RESAA AND AA) OR (RESP1 AND GT))
EXT SN (AAR AND SP) < 0.16 ABUT<90 SINGULAR REGION
EXT SN (GTR AND SP) < 0.16 ABUT<90 SINGULAR REGION
}
SN_10++++++++++++++++++++++

@ N+AA minimum enclosure by SN(not include pick up AA) is 0.08 Waive for (AA interact RESNW)
X = (NTAP INTERACT GATE) AND VARMOS
Y = ((AA NOT INTERACT RESNW) AND SN) NOT (NTAP NOT X)
Z = ENC Y SN < 0.08 ABUT >0< 90 SINGULAR REGION
Z OUTSIDE INST
}
SRSN_10++++++++++++++++++++++

@ N+AA minimum enclosure by SN is 0.041 (not include pick up AA)
@ N+AA outter vertex to SN inner vertex is 0.037(Not apply to AA along S/D direction)
ENC ((NACT NOT OUTSIDE INST) NOT NTAP)  (SN NOT COIN EDGE PTAP) < 0.041 ABUT<90 REGION OPPOSITE
ENC ((NACT NOT OUTSIDE INST) TOUCH EDGE GATE) (SN NOT COIN EDGE PTAP) < 0.037 ABUT<90 REGION
}
SN_12++++++++++++++++++++++

@ N+ pickup AA minimum enclosure by SN is 0.02 Waive for (AA interact RESNW)
X0 = (NTAP INTERACT GATE) AND VARMOS
X = ((NTAP NOT X0) NOT (AA INTERACT RESNW)) NOT COIN EDGE PACT
ENC X SN < 0.02 ABUT<90 REGION
}
SN_14++++++++++++++++++++++

@ N+AA resistor or N+POLY resistor minimum enclosure by SN is 0.18. The resistor here: (SN AND ((RESAA AND AA) OR (RESP1 AND GT))
ENC (AAR AND SN) SN < 0.18 ABUT<90 SINGULAR REGION
ENC (GTR AND SN) SN < 0.18 ABUT<90 SINGULAR REGION
}
SN_15++++++++++++++++++++++

@ SN and AA minimum overlap is 0.10
INT SN (AA NOT COIN EDGE SN) < 0.10 ABUT<90 OPPOSITE REGION
}
SN_16++++++++++++++++++++++

@ SN minimum area include the connected area within INST is 0.11
AREA (SN OUT INST) < 0.11
}
SRSN_16++++++++++++++++++++++

@ SN minimum area is 0.0823
X =AREA SN < 0.0823
X NOT OUTSIDE INST
}
SN_18++++++++++++++++++++++

@ Minimum enclosed area of SN is 0.11
AREA (((HOLES SN INNER) NOT SN) OUTSIDE INST) < 0.11
}
SRSN_18++++++++++++++++++++++

@ Minimum enclosed area of SN is 0.0728
X = AREA ((HOLES SN INNER) NOT SN) < 0.0728
X NOT OUTSIDE INST
}
SN_21++++++++++++++++++++++

@ AA butted p-well contact minimum extension of SN is 0.08
INT (PTAP COIN EDGE NACT) PTAP < 0.08 ABUT<90 REGION
}
SN_22++++++++++++++++++++++

@ SN minimum width and length if the area touch with gate
error = INT SN < 0.28 ABUT<90 OPPOSITE REGION
error INTERACT GATE
}
SAB_1++++++++++++++++++++++

@ SAB minimum width is 0.20um
INT SAB < 0.20 ABUT<90 SINGULAR REGION
}
SAB_2++++++++++++++++++++++

@ Minimum space between two SABs is 0.20um
EXT SAB < 0.20 ABUT<90 SINGULAR REGION
}
SAB_3++++++++++++++++++++++

@ Minimum extension of related AA outside of SAB is 0.2um
X =ENC SAB AA < 0.20 ABUT<90 SINGULAR REGION
X NOT OCOVL
}
SAB_4++++++++++++++++++++++

@ Minimum space between SAB and AA is 0.16um
EXT SAB AA < 0.16 ABUT<90 SINGULAR REGION
}
SAB_5++++++++++++++++++++++

@ Minimum space between SAB and poly on AA is 0.24
EXT SAB GATE < 0.24 ABUT<90 SINGULAR REGION
}
SAB_6++++++++++++++++++++++

@ Minimum extension of SAB outside of poly on field oxide is 0.2
ENC INTERGT SAB < 0.2 ABUT<90 REGION
}
SAB_7++++++++++++++++++++++

@ Minimum space between SAB and CT is 0.2
X= EXT SAB CT < 0.2 ABUT<90 SINGULAR REGION
X NOT OCOVL
(CT AND SAB) NOT OCOVL
}
SAB_8++++++++++++++++++++++

@ Minimum extension of sAB outside of AA is 0.18
X =ENC AA SAB < 0.18 ABUT<90 SINGULAR REGION
X NOT OCOVL
}
SAB_10++++++++++++++++++++++

@ SAB minimum area is 0.20
AREA SAB < 0.20
}
SAB_10a++++++++++++++++++++++

@ SAB minimum enclosed area is 0.37
AREA ((HOLES SAB INNER) NOT SAB) < 0.37
}
SAB_11++++++++++++++++++++++

@ Minimum space between a SAB to ((GT not interact with SAB) on STI) is 0.24
EXT SAB ((GT NOT INTERACT SAB) NOT (AA OR AADUM)) < 0.24 ABUT<90 SINGULAR REGION
}
SAB_15++++++++++++++++++++++

@ Minimum resistor poly extension to SAB is 0.4. The resistor: GT interact RESP1
ENC SAB (GT INTERACT RESP1) < 0.4 ABUT<90 SINGULAR REGION
}
CT_1++++++++++++++++++++++

@CT.1	Fixed CT size (square shape)is 0.06.
X = RECTANGLE CTi ASPECT ==1
NOT RECTANGLE X == 0.060 BY == 0.060
}
CT.1a++++++++++++++++++++++

@ Non-square CT only allowed inside of [EFUSE, seal ring(MARKS), SRAM(INST)]
X = RECTANGLE CTi ASPECT ==1
Y = CT NOT X
(Y NOT INSIDE (EFUSE OR INST)) NOT OCOVL
}
CT_2++++++++++++++++++++++

@ Minimum space between two contacts is 0.080
@ SRCT_2, Minimum space between two contacts is 0.080
EXT SQCT < 0.080 ABUT<90 SINGULAR REGION
}
CT_2a++++++++++++++++++++++

@ Minimum space between two contacts on different net is 0.11
X = EXT SQCT < 0.11 ABUT<90 REGION NOT CONNECTED
X OUTSIDE INST
}
SRCT_2a++++++++++++++++++++++

@ Minimum space between two contacts on different net is 0.088
X = EXT SQCT < 0.088 ABUT<90 REGION NOT CONNECTED
X NOT OUTSIDE INST
}
SRCT.102++++++++++++++++++++++

@ CT min space to V1 on different net is 0.075
X = EXT SQCT V1 <0.075 ABUT<90 REGION NOT CONNECTED
X NOT OUTSIDE INST
}
CT_3++++++++++++++++++++++

@ CT array minimum space to CT array for run length > 0.34 um is 0.11
X = EXT (CT_array OUTSIDE SRAM) < 0.11 ABUT<90 OPPOSITE REGION
X WITH EDGE (LENGTH X > 0.34)
}
CT_3a++++++++++++++++++++++

@ Minimum space between two contacts in CT array is 0.08: contact array is larger or equal to 4x4 CT.
@ Two contact regions whose space is within 0.12um at same M1 are considered to be in the same array.
X = (SIZE (CT OUTSIDE SRAM) BY 0.060 OVERUNDER) AND M1
Y = SIZE X BY 0.235 UNDEROVER
Z = CT INTERACT Y
(EXT Z < 0.08 ABUT<90 SINGULAR REGION) INSIDE M1
}
CT_4++++++++++++++++++++++

@ Minimum space between AA region and contact overlap poly is 0.040
EXT (INTERCT OUTSIDE INST) AA < 0.040 ABUT<90 SINGULAR REGION
}
SRCT_4++++++++++++++++++++++

@ Minimum space between AA region and contact overlap poly is 0.032
EXT ((SQCT NOT OUTSIDE INST) AND GT) AA < 0.032 ABUT<90 SINGULAR REGION
}
CT_5++++++++++++++++++++++

@ 0.9/1.1/1.2V device minimum space between gate region and contact overlap AA is 0.040
EXT (GATE OUTSIDE INST) (ACT_CT OUTSIDE INST) < 0.040 ABUT<90 SINGULAR REGION
}
SRCT_5++++++++++++++++++++++

@ Minimum space between gate region and contact overlap AA is 0.028
X = EXT GATE (SQCT AND AA) < 0.028 ABUT<90 SINGULAR REGION
X NOT OUTSIDE INST
}
CT_5a++++++++++++++++++++++

@ 1.8/2.5V device minimum space between gate(enclosure by TG or DG) to contact overlap AA is 0.080
EXT (GATE AND (DG OR TG)) ACT_CT < 0.080 ABUT<90 SINGULAR REGION
}
CT_6abd++++++++++++++++++++++

@CT must be within AA (if CT touchs AA), and must meet rule (CT.6a or (CT.6b, CT.6c)) and CT.6d.
@ CT.6 CT.6a, CT.6b, CT.6c and CT.6d are not applicable for CT interacts with EFUSE(81;2)
@The CT here is interacted with M1 and AA intersection.
@ CT enclosure by AA (four sides) >=0.01
@ CT enclosure by AA (exclude pick-up AA) for two opposite sides when either opposite sides<0.01um, >=0.005um >=0.03
@ CT enclosure by AA >=0.005
(((CT OUTSIDE SRAM) INTERACT AA) NOT AA ) NOT EFUSE
AAandM1 = ((AA NOT GT) AND M1) INTERACT (CT OUTSIDE SRAM)
BadCT = RECTANGLE ENCLOSURE ((CT OUTSIDE SRAM) NOT TAP) AA   OUTSIDE ALSO
GOOD 0.01 OPPOSITE  0.01 OPPOSITE 0.01 OPPOSITE 0.01 OPPOSITE
GOOD 0.03 OPPOSITE 0.005 OPPOSITE  0.03 OPPOSITE 0.005 OPPOSITE
(BadCT INTERACT AAandM1)  NOT EFUSE
}
CT_6acd++++++++++++++++++++++

@ CT enclosure by AA (four sides) >=0.01
@ CT enclosure by pick-up AA for two opposite sides when either opposite sides<0.01um, >=0.005um.>=0.02
@ CT enclosure by AA  >=0.005
AAandM1 = ((AA NOT GT) AND M1) INTERACT (CT OUTSIDE SRAM)
BadCT = RECTANGLE ENCLOSURE ((CT OUTSIDE SRAM) AND TAP) AA   OUTSIDE ALSO
GOOD 0.01 OPPOSITE 0.01 OPPOSITE 0.01 OPPOSITE 0.01 OPPOSITE
GOOD 0.02 OPPOSITE 0.005 OPPOSITE  0.02  OPPOSITE 0.005 OPPOSITE
(BadCT INTERACT AAandM1)  NOT EFUSE
}
CT_7ab++++++++++++++++++++++

@ CT must be within poly
@  per M1 and poly intersection containing a CT, must meet rule CT.7a or CT.7b
@ Minimum CT enclosure by poly is 0.01
@ Minimum CT enclosure by poly for two opposite sides is 0.02 when the either two opposite sides<=0.01um, >=0um, except EFUSE.
(((CT OUTSIDE SRAM) INTERACT GT) NOT GT)  NOT EFUSE
GTandM1 = (GT AND M1) INTERACT (CT OUTSIDE SRAM)
BadCT = RECTANGLE ENCLOSURE (CT OUTSIDE SRAM) GT  OUTSIDE ALSO
GOOD 0.01 OPPOSITE  0.01 OPPOSITE 0.01 OPPOSITE 0.01 OPPOSITE
GOOD 0.02  0.00   0.02  0.00
(BadCT INTERACT GTandM1) NOT EFUSE
}
CT_8++++++++++++++++++++++

@ Minimum CT(on AA) enclosure by SP is 0.03
ENC ACT_CT SP < 0.030 ABUT<90 SINGULAR REGION
}
CT_9++++++++++++++++++++++

@ Minimum CT(on AA) enclosure by SN is 0.03
ENC ACT_CT SN < 0.030 ABUT<90 SINGULAR REGION
}
CT_10++++++++++++++++++++++

@ CT overlap (gate or (STI not GT)) region is forbidden.  Waive the CT overlap gate in (LOGO, INDMY, MOMDMY).
@ Waive the CT overlap STI for (CT straddles STI in INST). Waive rectangle CT in ( INST or EFUSE) violation of this rule.
X1 = (CT AND GATE) OR (CT NOT ((AA OR AADUM) OR GT) )
X2 =  (CT AND GATE) AND ((LOGO OR INDMY) OR MOMDMY)
X3 =  (CT NOT (AA OR AADUM) ) AND INST
((X1 NOT  X2) NOT X3) NOT (RECT OR EFUSE)
}
CT_11++++++++++++++++++++++

@ It is not allowed that (CT not outside AA) touches or straddles on (SN or SP) edge
X =CT NOT OUTSIDE AA
(X INTERACT SN) NOT (CT INSIDE SN)
(X INTERACT SP) NOT (CT INSIDE SP)
}
CT_12++++++++++++++++++++++

@ Non-salicided contacts are not allowed
(CT AND SAB) NOT OCOVL
}
CT_19_R++++++++++++++++++++++

@ Recommend to have redundant CT to prevent high contact resistance:
@ On the resistor connection.
@ Gate  Source/Drain, and poly
@ For large transistor, spread the CT necessary for current all over the S/D area.
@ DRC highlight single CT connection
X = ((HRP AND HRPDMY) AND SAB) AND GT
X1 =((GT ENCLOSE X ) NOT X) ENCLOSE CT ==1
Z = (RESP1 AND SAB) AND GT
X2 =((GT ENCLOSE Z ) NOT Z ) ENCLOSE CT ==1
Y = (SAB AND RESAA) AND AA
X3 =((AA ENCLOSE Y) NOT Y)  ENCLOSE CT ==1
X4 =((AA ENCLOSE AAD) NOT AAD)  ENCLOSE CT ==1
X5 =(AA TOUCH NWRSTI) ENCLOSE CT ==1
X6 =(HOLES (SAB ENCLOSE RESNWAA))  ENCLOSE CT ==1
X7= ((GT ENCLOSE GTP) NOT GTP)  ENCLOSE CT ==1
X8=(NSD OR PSD) ENCLOSE CT==1
X9= ((GT ENCLOSE GATE) NOT GATE) ENCLOSE CT==1
((((((((X1 OR X2) OR X3) OR X4) OR X5) OR X6) OR X7) OR X8) OR X9 ) OUTSIDE SRAM
}
SRRCT_101_102++++++++++++++++++++++

@ Rectangle CT width is 0.06
@ Rectangle CT length is 0.16
((CT NOT OUTSIDE INST) NOT SQCT) NOT RECT
}
SRRCT_103++++++++++++++++++++++

@ Rectangle CT min space to Rectangle CT is 0.074
EXT RECT < 0.074 ABUT<90 SINGULAR REGION
}
SRRCT_104c++++++++++++++++++++++

@ Rectangle CT min space to  CT INSIDE INST with touching prohibited is 0.07
EXT RECT (CT INSIDE INST) < 0.07 ABUT>0<90 SINGULAR REGION
}
SRRCT_106++++++++++++++++++++++

@ Rectangle CT end min space to AA is 0.133(with run length>0)
EXT SCT_end AA < 0.133 ABUT<90 REGION OPPOSITE
}
SRRCT_106a++++++++++++++++++++++

@ Rectangle CT side min space to AA is 0.069
EXT SCT_side AA < 0.069 ABUT<90 REGION
}
SRRCT_107++++++++++++++++++++++

@ Rectangle CT end min space to Poly is 0.037
EXT SCT_end GT < 0.037 ABUT<90 REGION
}
SRRCT_107a++++++++++++++++++++++

@ Rectangle CT side min space to Poly is 0.082
EXT SCT_side GT < 0.082 ABUT<90 REGION
}
SRRCT_108++++++++++++++++++++++

@ Rectangle CT min space to M1 is 0.057
EXT RECT M1 < 0.057 ABUT<90 SINGULAR REGION
}
MTSPA++++++++++++++++++++++

X0_a = MTLAY WITH WIDTH > MTLEN
X0_1 = ENCLOSE RECTANGLE X0_a (MTLEN + 0.001) (MTW1 + 0.001)
X0_2 = ENCLOSE RECTANGLE X0_a (MTW2 + 0.001) (MTLEN + 0.001)
X1 = EXT X0_1 X0_2 < MTSPA OPPOSITE SPACE REGION PARA ONLY
X2 = LENGTH X1 > MTLEN
X3_1 = X2 TOUCH EDGE X0_1
X3_2 = X2 TOUCH EDGE X0_2
X4_1_near0 = EXPAND EDGE X3_1 OUTSIDE BY (MTW1 + 0.001)
X4_1_near = SIZE (X4_1_near0 AND X0_1) BY ((MTLEN-0.1)/2.0) UNDEROVER
X4_1_far  = (EXPAND EDGE X3_1 OUTSIDE BY (MTW1 + 0.01)) NOT X4_1_near0
X4_1_real = X4_1_near WITH EDGE (LENGTH X4_1_far > MTLEN)
X4_2_near0 = EXPAND EDGE X3_2 OUTSIDE BY (MTW2 + 0.001)
X4_2_near = SIZE (X4_2_near0 AND X0_2) BY ((MTLEN-0.1)/2.0) UNDEROVER
X4_2_far  = (EXPAND EDGE X3_2 OUTSIDE BY (MTW2 + 0.01)) NOT X4_2_near0
X4_2_real = X4_2_near WITH EDGE (LENGTH X4_2_far > MTLEN)
EXT X4_1_real X4_2_real < MTSPA OPPOSITE REGION PARA ONLY
}
M1_1++++++++++++++++++++++

@ M1 minimum width is 0.07
INT M1 < 0.07 ABUT<90 SINGULAR REGION
}
M1_2++++++++++++++++++++++

@ M1 maximum width is 4.5
Y1 = M1 NOT INDMY
Y2 = M1 AND INDMY
Y1 WITH WIDTH >4.5
X0= INT Y2 < 4.501 REGION
X1= Y2 NOT X0
X2= Y2 WITH WIDTH >4.5
(X1 INTERACT X2) WITH WIDTH >4.5
}
M1_3++++++++++++++++++++++

@ M1 minimum space is 0.07
X = EXT M1 < 0.07 ABUT<89.99 SINGULAR REGION
X OUTSIDE SRAM
}
SRM1_3sa++++++++++++++++++++++

@ M1 outter vertex to outter vertex distance is 0.064
X = EXT (M1 NOT INDMY) < 0.064 ABUT<90 REGION CORNER TO CORNER
X NOT OUTSIDE INST
}
M1_4++++++++++++++++++++++

@ M1 minimum area (The INST connected area apply SRAM design rule) is 0.0196
AREA (M1 OUT INST) < 0.0196
}
SRM1_4++++++++++++++++++++++

@ M1 minimum area is 0.0168
X = AREA M1 < 0.0168
X NOT OUTSIDE INST
}
M1_5++++++++++++++++++++++

@ M1 minimum enclosed area is 0.2
AREA ((HOLES M1 INNER) NOT M1) < 0.2
}
M1_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with both metal line width is > 0.22 is 0.08
CMACRO Mn_6 M1i 0.3 0.22 0.08
}
M1_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M1i 0.6 0.7 0.12
}
M1_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M1i 0.6 0.22 0.7 0.14
}
M1_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines with
@ one or both metal line width is >1.5um is 0.3
CMACRO Mn_6c M1i 1.5 1.5 0.3
}
M1_7++++++++++++++++++++++

@ CT must be within M1
(SQCT NOT M1) OUTSIDE INST
}
M1_7bc_AA++++++++++++++++++++++

@  per (AA NOT GT) and M1 intersection containing a CT must meet rule M1.7b or M1.7c
@ M1 minimum overlap past CT for two opposite sides with the other two sides >=0um is 0.025
@ Or all 4 sides with enlcosure of 0.015 is also correct.
AAandM1 = ((AA NOT GT) AND M1) INTERACT (CT OUTSIDE INST)
BadCT = RECTANGLE ENCLOSURE (CT OUTSIDE INST)  M1 SINGULAR
GOOD 0 0.025 0 0.025
GOOD 0.015 OPPOSITE 0.015 OPPOSITE 0.015 OPPOSITE 0.015 OPPOSITE
BadCT INTERACT AAandM1
}
M1_7bc_GT++++++++++++++++++++++

@  per Poly and M1 intersection containing a CT must meet rule M1.7b or M1.7c
@ M1 minimum overlap past CT for two opposite sides with the other two sides >=0um is 0.025
@ Or all 4 sides with enlcosure of 0.015 is also correct.
GTandM1 = (GT AND M1) INTERACT (CT OUTSIDE INST)
BadCT = RECTANGLE ENCLOSURE (CT OUTSIDE INST)  M1 SINGULAR
GOOD 0 0.025 0 0.025
GOOD 0.015 OPPOSITE 0.015 OPPOSITE 0.015 OPPOSITE 0.015 OPPOSITE
BadCT INTERACT GTandM1
}
M1_7e++++++++++++++++++++++

@ CT minimum enclosure by M1 (M1 width > 0.7um) is 0.03um.
WM1 = M1 WITH WIDTH > 0.7
X = ENC SQCT WM1 < 0.03 OPPOSITE REGION
Y =  CT INTERACT X
ENC Y M1 <0.03 OPPOSITE REGION
}
SRM1_7ab++++++++++++++++++++++

@ CT minimum within M1 is 0
@ M1 minimum overlap past CT for two opposite sides with either side >=0um and <0.015um is 0.012, not applicable to share contact
((CT NOT OUTSIDE INST) NOT RECT) NOT INSIDE M1
RECTANGLE ENCLOSURE ((CT NOT OUTSIDE INST) NOT RECT) M1 ABUT <90 SINGULAR
GOOD  0.0  0.012   0.0  0.012
}
M1_8++++++++++++++++++++++

@ M1 density (%) in 110um * 110um window with step size 55um is 10%
X = DENSITY (M1i OR M1DUM) < 0.10 WINDOW 110 STEP 55 BACKUP PRINT density_report_M1_8.log RDB density_report_M1_8.db
X NOT MARKG
}
M1_8a++++++++++++++++++++++

@ M1maximum density (%) in 110um *110um window with step size 55um is 85%
X = DENSITY (M1i OR M1DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M1_8a.log RDB density_report_M1_8a.db
X NOT MARKG
}
M1_8b++++++++++++++++++++++

@ M1 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M1i OR M1DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M1_8b.log  RDB density_report_M1_8b.db
X NOT MARKG
}
M1_8c++++++++++++++++++++++

@ M1 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M1i OR M1DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M1_8c.log RDB density_report_M1_8c.db
X NOT MARKG
}
M1_8d++++++++++++++++++++++

@ M1 density over the whole chip is >=20%
X = DENSITY (M1i OR M1DUM) <0.2  PRINT density_report_M1_8d.log  RDB density_report_M1_8d.db
X NOT MARKG
}
M1_9++++++++++++++++++++++

@ (M1 at 45degree ) minimum width (run length>0um) is 0.17
M145 = ANGLE M1 == 45
INT M145 < 0.17 OPPOSITE REGION
}
M1_10++++++++++++++++++++++

@ (M1 at 45degree) minimum space to parallel M1 (run length>0um) is 0.17
M145 = ANGLE M1 == 45
EXT M145 M1 < 0.17 OPPOSITE REGION PARALLEL ONLY
}
M1.11a++++++++++++++++++++++

@Minimum space between an M1 line end to an M1 line (the parallel run length >0um) is 0.07
EXT M1END M1<0.07 OPPOSITE REGION
}
M1.11b++++++++++++++++++++++

@Minimum space between an M1 line end (with (CT or V1)) to an M1 (the parallel run length >0um) is 0.07, when this M1 line end extend Q from (CT or V1),0.03 <= Q <0.05um
X1 = EXT M1END  M1 <0.07 OPPOSITE REGION
X2 = M1END COIN EDGE X1
X3 = ENC (CT OR V1) X2 <0.05 OPPOSITE REGION
X4 = ENC (CT OR V1) X2 <0.03 OPPOSITE REGION
X5 = (CT OR V1) INTERACT X3
X6 = (CT OR V1) INTERACT X4
X7 = X5 NOT X6
X1 TOUCH (X3 INTERACT X7)
}
M1_13++++++++++++++++++++++

@ Minimum space CT to M1 is 0.085, when the M1 and adjacent M1 meet the following conditions:
@ 1.	M1(enclosed CT) width >0.12um
@ 2.	M1(enclosed CT) to adjacent M1 space <=0.08um
@ 3.	The projected parallel run length R of M1[A] to M1[B]. R >= 0.27um
@ Waive if there is redundant CT in the same {(M1[A] and AA intersection) or (M1[A] and GT intersection) }
X = EXT  M1 [X1] <= 0.08  ABUT <90 OPPOSITE
X0 = EXT M1 X1 <= 0.08 ABUT <90 OPPOSITE REGION
X01= M1 ENCLOSE CT ==1
X1 = X01 WITH WIDTH >0.12
gap =  X0 with edge (length X >0.27 )
X2 = (gap INTERACT X1) INTERACT X0
X3 = CT INSIDE ((M1 AND AA) OR (M1 AND GT))
X4 = EXT (X3 INSIDE X1) (M1 INTERACT X2) < 0.085 ABUT <90 OPPOSITE REGION measure all
Y = EXPAND EDGE (length X >0.27 ) OUTSIDE BY 0.001
X5 =((((X4 INTERACT M1) INTERACT (X2 AND X4) ) INTERACT X1) INTERACT (X0 AND X4) ) INTERACT (Y AND X4)
X5 OUTSIDE INST
}
M1_14++++++++++++++++++++++

@ Minimum M1 to M1 space S at M1 line-end. Width W < W0. The minimum space can be line end head to other M1 or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.02, K1=0.065, W0=0.09um, Dh=Ds=0.08 in the illustration.
@Schematic s Extension 1, Extension 2, and Extension 3:
@1 Three extensions overlaps with other M1=> NG
@2. When Extension 1 and one of the (extension 2 or extension 3) overlap with other M1.
@The remaining side extension's Ds need to size up from 0.08 to 0.11um. If this remaining extension interact with other M1(include touch edge), NG.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@Only Highlight either one of the situations:
@1) There is only one CT in the same {(M1[A] and AA intersection) or (M1[A] and GT intersection) } and CT space to M1[B] Sh <0.10um.
@2) there is only one V1 in the M1[A] and M2 intersection, and V1 space to M1[B] Sh<0.10um
INTER_MA= ((M1 AND GT) OR (M1 AND AA )) ENCLOSE CT==1
CT_INTER = CT INSIDE INTER_MA
CT_EDGE = ENC  [CT_INTER] LINE_END <0.1 ABUT<90 OPPOSITE
CT_EDGE1 =EXT [CT_EDGE] M1 <0.1 ABUT<90  OPPOSITE  measure all
CT_SING =CT_INTER  WITH EDGE CT_EDGE1
INTER_MT= (M1 AND M2)  ENCLOSE V1==1
V1_INTER = V1 INSIDE INTER_MT
V1_EDGE = ENC  [V1_INTER] LINE_END <0.1 ABUT<90 OPPOSITE
V1_EDGE1 =EXT [V1_EDGE] M1 <0.1 ABUT<90  OPPOSITE  measure all
V1_SING =V1_INTER  WITH EDGE V1_EDGE1
LINE_END = CONVEX EDGE (M1 INTERACT (INTER_MA OR INTER_MT)) ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.09
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.044
LINE_SIDE = (M1 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.021
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.021
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M1 < 0.08 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M1 < 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
E3 = EXT [LINE_SIDE_1] M1 <= 0.11  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
LINE_SIDE_E3 = LINE_SIDE_1 TOUCH EDGE E3
M1_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
M2_CORNER = INT LINE_END_E1 LINE_SIDE_E3 <= 0.002 ABUT==90 REGION
M_CORNER2 = (EXPAND EDGE LINE_END OUTSIDE BY 0.001) INTERACT  M1_CORNER ==2
M_CORNER3 = ((EXPAND EDGE LINE_END OUTSIDE BY 0.001) INTERACT (M2_CORNER NOT M1_CORNER)) INTERACT M1_CORNER
((LINE_END_SHAPE INTERACT (M_CORNER2 OR M_CORNER3)) INTERACT (CT_SING OR V1_SING) ) OUTSIDE INST
}
M_OTHER++++++++++++++++++++++

X0_M_W = M_WIDE WITH WIDTH > 0.14
X0_M_AND = ENCLOSE RECTANGLE (M_WIDE AND M_OTHER) 0.07 0.27
X0_M_AND_W = X0_M_AND INTERACT X0_M_W
X0_M_AND_W INTERACT VLAY  == 1
}
V1_1++++++++++++++++++++++

@ Fixed V1 size is 0.07
NOT RECTANGLE V1 == 0.07 BY == 0.07
}
V1_2++++++++++++++++++++++

@ Space between two V1 is 0.07
EXT V1 < 0.07 ABUT<90 SINGULAR REGION
}
V1_3++++++++++++++++++++++

@ Min Space between two V1 regions is 0.09 (with run length>=0) at least in two sides, in case V1 array is larger than or equal to 3x3.
@ Two via areas whose space is within 0.1 um are considered to be in the same array.
X = EXT (V1 INTERACT V1_array) V1< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V1 BY 0.001
(Y INTERACT  V1_array)  INTERACT (X NOT Y) >2
}
V1_5++++++++++++++++++++++

@ V1 (different net)(outside of SRAM)  minimum space for run length > 0um is 0.1
X =EXT V1 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V1_5a++++++++++++++++++++++

@ V1 (different net) minimum space is 0.09
EXT V1 < 0.09  NOT CONNECTED REGION
}
V1_6abc++++++++++++++++++++++

@ V1 must be within M1
@ per M1 and M2 intersection containing a V1, must meet rule V1.6a, V1.6b or V1.6c
@ V1.6a, V1 minimum within M1 is 0.015
@ V1.6b, M1 minimum overlap past V1 for two opposite sides with the other two sides >= 0.01um is 0.02
@ V1.6c, M1 minimum overlap past V1 for two opposite sides with the other two sides >= 0um is 0.03
V1  NOT INSIDE M1
M1andM2 = (M1 AND M2) INTERACT (V1 OUTSIDE INST)
BadV1 = RECTANGLE ENCLOSURE (V1 OUTSIDE INST) M1  OUTSIDE ALSO
GOOD 0.015 OPPOSITE 0.015  OPPOSITE 0.015 OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02 OPPOSITE 0.01 OPPOSITE
GOOD 0.03  0  0.03  0
BadV1 INTERACT M1andM2
}
SRV1_6ac++++++++++++++++++++++

@ M1 minimum overlap past V1 for two opposite sides with the other two sides >= 0um is 0.015
RECTANGLE ENCLOSURE (V1 NOT OUTSIDE INST) M1 ABUT <90 SINGULAR
GOOD 0.015 OPPOSITE 0.0 0.015 OPPOSITE 0.0
}
V1_7abc++++++++++++++++++++++

@ V1 must be within M2
@ M1 and M2 intersection containing a V1, must meet rule V1.7a, V1.7b or V1.7c
@ V1.7a, V1 minimum within M2 is 0.015
@ V1.7b, M2 minimum overlap past V1 for two opposite sides with the other two sides >= 0.01um is 0.02
@ V1.7c, M2 minimum overlap past V1 for two opposite sides with the other two sides >= 0um is 0.03
V1 NOT M2
M1andM2 = (M1 AND M2) INTERACT V1
BadV1 = RECTANGLE ENCLOSURE V1  M2  OUTSIDE ALSO
GOOD 0.015 OPPOSITE  0.015  OPPOSITE  0.015 OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02 OPPOSITE 0.01 OPPOSITE
GOOD 0.03 0  0.03 0
BadV1 INTERACT M1andM2
}
V1_8++++++++++++++++++++++

@ At least two V1 vias must connect M1 to M2 when the M1 or M2 width is > 0.26um
mx_wide =  WITH WIDTH M1 > 0.260
my_wide =  WITH WIDTH M2 > 0.260
mx_my_wide = mx_wide OR my_wide
vx_612 = (V1 OUTSIDE SRAM) INTERACT mx_my_wide
mx_my_612 = ((M1 AND M2) OUTSIDE SRAM) ENCLOSE vx_612
mx_my_612 ENCLOSE V1 < 2
}
V1_9++++++++++++++++++++++

@ At least three V1 vias must connect M1 to M2 when the M1 or M2 width is > 0.52um
WM1 = WITH WIDTH M1 > 0.520
WM2 = WITH WIDTH M2 > 0.520
encVia = V1 INTERACT (WM1 OR WM2)
((M1 AND M2) ENCLOSE encVia) ENCLOSE V1 < 3
}
V1_10++++++++++++++++++++++

@ At least four V1 vias must connect M1 to M2 when the M1 or M2 width is > 0.645um
WM1 = WITH WIDTH M1 > 0.645
WM2 = WITH WIDTH M2 > 0.645
encVia = V1 INTERACT (WM1 OR WM2)
((M1 AND M2) ENCLOSE encVia) ENCLOSE V1 < 4
}
V1_16++++++++++++++++++++++

@ At least two V1s with space <=0.16um or three V1s with space <= 0.65um when one of  M1 or M2 with both length and width>0.24um. (exclude SRAM area to check)
X1a = WITH WIDTH M1  >0.24
X1b = WITH WIDTH M2  >0.24
WIDE = X1a OR X1b
X2 = (M1 AND M2) ENCLOSE V1
X3 =  V1 INSIDE X2
X5c = EXT (V1_EMPTY INSIDE WIDE) V1_EMPTY <=0.16 ABUT<90 REGION CONNECTED
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V1 >2
X7c= X2 ENCLOSE X7
X = ((X2 NOT X6c) NOT X7c) ENCLOSE (V1 INSIDE WIDE)
X  OUTSIDE INST
}
V1_17++++++++++++++++++++++

@ At least two V1s  when either wide metal of M1 or M2 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.Exclude non-square Vn and SRAM area.
WM1_L1 = ( M1 NOT WM1 ) TOUCH WM1
M1_ENCWM = (M1 INTERACT WM1) INTERACT V1_A
WM1_VEDGE = EXT [M1_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM1_EXT1 = EXT (WM1 COIN EDGE WM1_VEDGE) [V1_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM1_EXT2 = (EXT WM1 V1_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M1
V1_B = V1_square WITH EDGE WM1_EXT1
X1 =(M1 AND M2) ENCLOSE V1_square >1
X2 = ((M1 AND M2)  AND ( WM1_L1 AND WM1_EXP )) NOT X1
Y0=(M1 AND M2) ENCLOSE V1_square ==1
Y1 = SIZE (V1_square INTERACT Y0) BY 1.1 INSIDE OF M1 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM1)
VSING1= ((X2 INTERACT V1_B ==1) INTERACT Y2) OR ((X2 INTERACT WM1_EXT2) INTERACT V1_A)
VSING1 OUTSIDE INST
M2_ENCWM = (M2 INTERACT WM2) INTERACT V1_A2
WM2_VEDGE = EXT [M2_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM2_EXT1 = EXT (WM2_EMPTY COIN EDGE WM2_VEDGE) [V1_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM2_EXT2 = (EXT WM2_EMPTY V1_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M2
V1_B2 = V1_square WITH EDGE WM2_EXT1
X3 = ((M1 AND M2)  AND ( WM2_L1 AND WM2_EXP )) NOT X1
Y3 = SIZE (V1_square INTERACT Y0) BY 1.1 INSIDE OF M2 STEP 0.005
Y4= Y3 INTERACT (Y3 AND WM2)
VSING2= ((X3 INTERACT V1_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM2_EXT2) INTERACT V1_A2)
VSING2 OUTSIDE INST
}
M2_1++++++++++++++++++++++

@ M2 minimum width is 0.07
INT M2 < 0.07 ABUT<90 SINGULAR REGION
}
M2_2++++++++++++++++++++++

@ M2 maximum width is 4.5
M2 WITH WIDTH > 4.50
}
M2_3++++++++++++++++++++++

@ M2 minimum space is 0.07
X = EXT M2  < 0.07 ABUT<90 SINGULAR REGION
X OUTSIDE INST
}
SRM2_3++++++++++++++++++++++

@ M2 minimum space is 0.065
X =EXT M2 < 0.065 ABUT<90 SINGULAR REGION
X NOT OUTSIDE INST
}
M2_4++++++++++++++++++++++

@ M2 minimum area(The INST connected area apply SRAM design rule) is 0.0196
AREA (M2 OUT INST) < 0.0196
}
SRM2_4++++++++++++++++++++++

@ M2 minimum area is 0.0192
X =AREA M2 < 0.0192
X  NOT OUTSIDE INST
}
M2_5++++++++++++++++++++++

@ M2 minimum enclosed area is 0.2
AREA ((HOLES M2 INNER) NOT M2) < 0.2
}
M2_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with  both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M2i 0.3 0.22 0.1
}
M2_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M2i 0.6 0.7 0.12
}
M2_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M2i 0.6 0.22 0.7 0.14
}
M2_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with one or both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M2i 1.5 1.5 0.3
}
M2_7++++++++++++++++++++++

@ Mn density (%) in 110um x 110um window with step size 55um is 10%
X = DENSITY (M2i OR M2DUM) < 0.10 WINDOW 110 STEP 55 BACKUP PRINT density_report_M2_7.log RDB density_report_M2_7.db
X NOT MARKG
}
M2_7a++++++++++++++++++++++

@ Mn density (%) in 110um x 110um window with step size 55um is	85%
X = DENSITY (M2i OR M2DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M2_7a.log RDB density_report_M2_7a.db
X NOT MARKG
}
M2_7b++++++++++++++++++++++

@ M2 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M2i OR M2DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M2_7b.log RDB density_report_M2_7b.db
X NOT MARKG
}
M2_7c++++++++++++++++++++++

@ M2 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M2i OR M2DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M2_7c.log RDB density_report_M2_7c.db
X NOT MARKG
}
M2_7d++++++++++++++++++++++

@ [(M2 with width > 2.8um) over M1] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M2i WITH WIDTH > 2.800) OR (M2DUM WITH WIDTH > 2.800)) AND (M1i OR M1DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M2_7d.log RDB density_report_M2_7d.db
X NOT MARKG
}
M2_7e++++++++++++++++++++++

@ [(M1 with width > 2.8um) over M2] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M2i OR M2DUM) AND ((M1i WITH WIDTH > 2.80) OR (M1DUM WITH WIDTH > 2.80)) ) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M2_7e.log RDB density_report_M2_7e.db
X NOT MARKG
}
M2_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M2i OR M2DUM)< 0.2 PRINT density_report_M2_7f.log
X NOT MARKG
}
M2_8++++++++++++++++++++++

@ (M2 at 45degree ) minimum width (run length>0um) is 0.17
M245 = ANGLE M2 == 45
INT M245 < 0.17 OPPOSITE REGION
}
M2_9++++++++++++++++++++++

@ (M2 at 45degree) minimum space to parallel M2 (run length>0um) is 0.17
M245 = ANGLE M2 == 45
EXT M245  < 0.17 OPPOSITE REGION
}
M2.10a++++++++++++++++++++++

@ Space between a Mn line end to a Mn (the parallel run length >0um)
@ Excluding checking SRAM area
X =EXT M2END M2<0.07 OPPOSITE REGION
X  OUTSIDE INST
}
M2.10b++++++++++++++++++++++

@ Minimum space between an Mn line end (with Vn) to an Mn (the parallel run length >0um) is 0.07. The Mn line end extend Q from Vn, 0.03 <= Q <0.05um
X1 = EXT M2END  M2 <0.07 OPPOSITE REGION
X2 = M2END COIN EDGE X1
X3 = ENC  V2 X2 <0.05 OPPOSITE REGION
X4 = ENC V2 X2 <0.03 OPPOSITE REGION
X5 = V2 INTERACT X3
X6 = V2 INTERACT X4
X7 = X5 NOT X6
X =X1 TOUCH (X3 INTERACT X7)
X OUTSIDE INST
}
M2_11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M2 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V1  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V1 INTERACT X1
X3 = X2 INSIDE (M1 AND M2)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M2 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V1_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V1_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V1_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M2 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M2 < 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V1 INTERACT V42
X6 = V1 NOT X5
X7 = ((M1 AND M2) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M2_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M2 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M2 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M2 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M2 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M2_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =((M1 OR M2) OR M3) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M2_CORNER) OUTSIDE INST) NOT (MOM OR MOMDMY)
}
M3_1++++++++++++++++++++++

@ M3 minimum width is 0.07
INT M3 < 0.07 ABUT<90 SINGULAR REGION
}
M3_2++++++++++++++++++++++

@ M3 maximum width is 4.5
M3 WITH WIDTH > 4.50
}
M3_3++++++++++++++++++++++

@ M3 minimum space is 0.07
EXT M3 < 0.07 ABUT<90 SINGULAR REGION
}
M3_4++++++++++++++++++++++

@ M3 minimum area is 0.0196
AREA M3 < 0.0196
}
M3_5++++++++++++++++++++++

@ M3 minimum enclosed area is 0.2
AREA ((HOLES M3 INNER) NOT M3) < 0.2
}
M3_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with  both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M3i 0.3 0.22 0.1
}
M3_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M3i 0.6 0.7 0.12
}
M3_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M3i 0.6 0.22 0.7 0.14
}
M3_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with one or both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M3i 1.5 1.5 0.3
}
M3_7++++++++++++++++++++++

@ M3 minimum density(%) in 110um*110um window with step size 55um is 12%
X = DENSITY (M3i OR M3DUM) < 0.1 WINDOW 110 STEP 55 BACKUP PRINT density_report_M3_7.log RDB density_report_M3_7.db
X NOT MARKG
}
M3_7a++++++++++++++++++++++

@ M3 maximum density(%) in 110um*110um window with step size 55um is 85%
X = DENSITY (M3i OR M3DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M3_7a.log RDB density_report_M3_7a.db
X NOT MARKG
}
M3_7b++++++++++++++++++++++

@ M3 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M3i OR M3DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M3_7b.log RDB density_report_M3_7b.db
X NOT MARKG
}
M3_7c++++++++++++++++++++++

@ M3 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M3i OR M3DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M3_7c.log RDB density_report_M3_7c.db
X NOT MARKG
}
M3_7d++++++++++++++++++++++

@ [(M3 with width > 2.8um) over M2] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M3i WITH WIDTH > 2.800) OR (M3DUM WITH WIDTH > 2.800)) AND (M2i OR M2DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M3_7d.log RDB density_report_M3_7d.db
X NOT MARKG
}
M3_7e++++++++++++++++++++++

@ [(M2 with width > 2.8um) over M3] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M3i OR M3DUM) AND ((M2i WITH WIDTH > 2.80) OR (M2DUM WITH WIDTH > 2.80)) ) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M3_7e.log RDB density_report_M3_7e.db
X NOT MARKG
}
M3_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M3i OR M3DUM)< 0.2 PRINT density_report_M3_7f.log
X NOT MARKG
}
M3_8++++++++++++++++++++++

@ (M3 at 45degree ) minimum width (run length>0um) is 0.17
M345 = ANGLE M3 == 45
INT M345 < 0.17 OPPOSITE REGION
}
M3_9++++++++++++++++++++++

@ (M3 at 45degree) minimum space to M3 (run length>0um) is 0.17
M345 = ANGLE M3 == 45
EXT M345 < 0.17 OPPOSITE REGION
}
M3.10a++++++++++++++++++++++

@Minimum space between an Mn line end to an Mn (the parallel run length >0um) is 0.07.Excluding checking SRAM area
X =EXT M3END M3<0.07 OPPOSITE REGION
X OUTSIDE INST
}
M3.10b++++++++++++++++++++++

@ Minimum space between an Mn line end (with Vn) to an Mn (the parallel run length >0um) is 0.07. The Mn line end extend Q from Vn, 0.03 <= Q <0.05um Excluding checking SRAM area
X1 = EXT M3END  M3 <0.07 OPPOSITE REGION
X2 = M3END COIN EDGE X1
X3 = ENC  V3 X2 <0.05 OPPOSITE REGION
X4 = ENC V3 X2 <0.03 OPPOSITE REGION
X5 = V3 INTERACT X3
X6 = V3 INTERACT X4
X7 = X5 NOT X6
X= X1 TOUCH (X3 INTERACT X7)
X OUTSIDE INST
}
M3_11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M3 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V2  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V2 INTERACT X1
X3 = X2 INSIDE (M3 AND M2)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M3 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V2_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V2_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V2_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M3 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M3 < 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V2 INTERACT V42
X6 = V2 NOT X5
X7 = ((M3 AND M2) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M3_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M3 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M3 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M3 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M3 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M3_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =((M2 OR M3) OR M4) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M3_CORNER) OUTSIDE INST) NOT (MOM OR MOMDMY)
}
M4_1++++++++++++++++++++++

@ M4 minimum width is 0.07
INT M4 < 0.07 ABUT<90 SINGULAR REGION
}
M4_2++++++++++++++++++++++

@ M4 maximum width is 4.5
M4 WITH WIDTH > 4.50
}
M4_3++++++++++++++++++++++

@ M4 minimum space is 0.07
EXT M4 < 0.07 ABUT<90 SINGULAR REGION
}
M4_4++++++++++++++++++++++

@ M4 minimum area is 0.0196
AREA M4 < 0.0196
}
M4_5++++++++++++++++++++++

@ M4 minimum enclosed area is 0.2
AREA ((HOLES M4 INNER) NOT M4) < 0.2
}
M4_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M4i 0.3 0.22 0.1
}
M4_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M4i 0.6 0.7 0.12
}
M4_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M4i 0.6 0.22 0.7 0.14
}
M4_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with one or both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M4i 1.5 1.5 0.3
}
M4_7++++++++++++++++++++++

@ M4 minimum density(%) in 110um*110um window with step size 55um is 10%
X = DENSITY (M4i OR M4DUM) < 0.1 WINDOW 110 STEP 55 BACKUP PRINT density_report_M4_7.log RDB density_report_M4_7.db
X NOT MARKG
}
M4_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M4i OR M4DUM)< 0.2 PRINT density_report_M4_7f.log
X NOT MARKG
}
M4_7a++++++++++++++++++++++

@ M4 maximum density(%) in 110um*110um window with step size 55um is 85%
X = DENSITY (M4i OR M4DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M4_7a.log RDB density_report_M4_7a.db
X NOT MARKG
}
M4_7b++++++++++++++++++++++

@ M4 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M4i OR M4DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M4_7b.log RDB density_report_M4_7b.db
X NOT MARKG
}
M4_7c++++++++++++++++++++++

@ M4 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M4i OR M4DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M4_7c.log RDB density_report_M4_7c.db
X NOT MARKG
}
M4_7d++++++++++++++++++++++

@ [(M4 with width > 2.8um) over M3] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M4i WITH WIDTH > 2.800) OR (M4DUM WITH WIDTH > 2.800)) AND (M3i OR M3DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M4_7d.log RDB density_report_M4_7d.db
X NOT MARKG
}
M4_7e++++++++++++++++++++++

@ [(M3 with width > 2.8um) over M4] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M4i OR M4DUM) AND ((M3i WITH WIDTH > 2.80) OR (M3DUM WITH WIDTH > 2.80)) ) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M4_7e.log RDB density_report_M4_7e.db
X NOT MARKG
}
M4_8++++++++++++++++++++++

@ (M4 at 45degree ) minimum width (run length>0um) is 0.17
M445 = ANGLE M4 == 45
INT M445 < 0.17 OPPOSITE REGION
}
M4_9++++++++++++++++++++++

@ (M4 at 45degree) minimum space to M4 (run length>0um) is 0.17
M445 = ANGLE M4 == 45
EXT M445 < 0.17 OPPOSITE REGION
}
M4.10a++++++++++++++++++++++

@Minimum space between an Mn line end to an Mn (the parallel run length >0um) is 0.07.Excluding checking SRAM area
X =EXT M4END M4<0.07 OPPOSITE REGION
X OUTSIDE INST
}
M4.10b++++++++++++++++++++++

@ Minimum space between an Mn line end (with Vn) to an Mn (the parallel run length >0um) is 0.07. The Mn line end extend Q from Vn, 0.03 <= Q <0.05um Excluding checking SRAM area
X1 = EXT M4END  M4 <0.07 OPPOSITE REGION
X2 = M4END COIN EDGE X1
X3 = ENC  V4 X2 <0.05 OPPOSITE REGION
X4 = ENC V4 X2 <0.03 OPPOSITE REGION
X5 = V4 INTERACT X3
X6 = V4 INTERACT X4
X7 = X5 NOT X6
X=X1 TOUCH (X3 INTERACT X7)
X OUTSIDE INST
}
M4.11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M4 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V3  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V3 INTERACT X1
X3 = X2 INSIDE (M3 AND M4)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M4 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V3_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V3_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V3_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M4 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M4< 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V3 INTERACT V42
X6 = V3 NOT X5
X7 = ((M3 AND M4) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M4_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M4 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M4 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M4 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M4 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M4_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =((M3 OR M4) OR M5) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M4_CORNER) OUTSIDE INST) NOT (MOM OR MOMDMY)
}
M5_1++++++++++++++++++++++

@ M5 minimum width is 0.07
INT M5 < 0.07 ABUT<90 SINGULAR REGION
}
M5_2++++++++++++++++++++++

@ M5 maximum width is 4.5
M5 WITH WIDTH > 4.50
}
M5_3++++++++++++++++++++++

@ M5 minimum space is 0.07
EXT M5 < 0.07 ABUT<90 SINGULAR REGION
}
M5_4++++++++++++++++++++++

@ M5 minimum area is 0.0196
AREA M5 < 0.0196
}
M5_5++++++++++++++++++++++

@ M5 minimum enclosed area is 0.2
AREA ((HOLES M5 INNER) NOT M5) < 0.2
}
M5_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with  both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M5i 0.3 0.22 0.1
}
M5_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M5i 0.6 0.7 0.12
}
M5_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M5i 0.6 0.22 0.7 0.14
}
M5_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with one or both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M5i 1.5 1.5 0.3
}
M5_7++++++++++++++++++++++

@ M5 minimum density(%) in 110um*110um window with step size 55um is 10%
X = DENSITY (M5i OR M5DUM) < 0.1 WINDOW 110 STEP 55 BACKUP PRINT density_report_M5_7.log RDB density_report_M5_7.db
X NOT MARKG
}
M5_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M5i OR M5DUM)< 0.2 PRINT density_report_M5_7f.log
X NOT MARKG
}
M5_7a++++++++++++++++++++++

@ M5 maximum density(%) in 110um*110um window with step size 55um is 85%
X = DENSITY (M5i OR M5DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M5_7a.log RDB density_report_M5_7a.db
X NOT MARKG
}
M5_7b++++++++++++++++++++++

@ M5 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M5i OR M5DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M5_7b.log RDB density_report_M5_7b.db
X NOT MARKG
}
M5_7c++++++++++++++++++++++

@ M5 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M5i OR M5DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M5_7c.log RDB density_report_M5_7c.db
X NOT MARKG
}
M5_7d++++++++++++++++++++++

@ [(M5 with width > 2.8um) over M4] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M5i WITH WIDTH > 2.800) OR (M5DUM WITH WIDTH > 2.800)) AND (M4i OR M4DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M5_7d.log RDB density_report_M5_7d.db
X NOT MARKG
}
M5_7e++++++++++++++++++++++

@ [(M4 with width > 2.8um) over M5] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M5i OR M5DUM) AND ((M4i WITH WIDTH > 2.80) OR (M4DUM WITH WIDTH > 2.80))) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M5_7e.log RDB density_report_M5_7e.db
X NOT MARKG
}
M5_8++++++++++++++++++++++

@ (M5 at 45degree ) minimum width (run length>0um) is 0.17
M545 = ANGLE M5 == 45
INT M545 < 0.17 OPPOSITE REGION
}
M5_9++++++++++++++++++++++

@ (M5 at 45degree) minimum space to M5 (run length>0um) is 0.17
M545 = ANGLE M5 == 45
EXT M545 < 0.17 OPPOSITE REGION
}
M5.10a++++++++++++++++++++++

@Minimum space between an Mn line end to an Mn (the parallel run length >0um) is 0.07 Excluding checking SRAM area
X=EXT M5END M5<0.07 OPPOSITE REGION
X OUTSIDE INST
}
M5.10b++++++++++++++++++++++

@ Minimum space between an Mn line end (with Vn) to an Mn (the parallel run length >0um) is 0.07. The Mn line end extend Q from Vn, 0.03 <= Q <0.05um Excluding checking SRAM area
X1 = EXT M5END  M5 <0.07 OPPOSITE REGION
X2 = M5END COIN EDGE X1
X3 = ENC  V5 X2 <0.05 OPPOSITE REGION
X4 = ENC V5 X2 <0.03 OPPOSITE REGION
X5 = V5 INTERACT X3
X6 = V5 INTERACT X4
X7 = X5 NOT X6
X =X1 TOUCH (X3 INTERACT X7)
X OUTSIDE INST
}
M5.11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M5 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V4  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V4 INTERACT X1
X3 = X2 INSIDE (M5 AND M4)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M5 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V4_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V4_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V4_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M5 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M5< 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V4 INTERACT V42
X6 = V4 NOT X5
X7 = ((M5 AND M4) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M5_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M5 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M5 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M5 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M5 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M5_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =((M4 OR M5) OR M6) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M5_CORNER) OUTSIDE INST) NOT (MOM OR MOMDMY)
}
M6_1++++++++++++++++++++++

@ M6 minimum width is 0.07
INT M6 < 0.07 ABUT<90 SINGULAR REGION
}
M6_2++++++++++++++++++++++

@ M6 maximum width is 4.5
M6 WITH WIDTH > 4.50
}
M6_3++++++++++++++++++++++

@ M6 minimum space is 0.07
EXT M6 < 0.07 ABUT<90 SINGULAR REGION
}
M6_4++++++++++++++++++++++

@ M6 minimum area is 0.0196
AREA M6 < 0.0196
}
M6_5++++++++++++++++++++++

@ M6 minimum enclosed area is 0.2
AREA ((HOLES M6 INNER) NOT M6) < 0.2
}
M6_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M6i 0.3 0.22 0.1
}
M6_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M6i 0.6 0.7 0.12
}
M6_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M6i 0.6 0.22 0.7 0.14
}
M6_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M6i 1.5 1.5 0.3
}
M6_7++++++++++++++++++++++

@ M6 minimum density(%) in 110um*110um window with step size 55um is 10%
X = DENSITY (M6i OR M6DUM) < 0.1 WINDOW 110 STEP 55 BACKUP PRINT density_report_M6_7.log RDB density_report_M6_7.db
X NOT MARKG
}
M6_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M6i OR M6DUM)< 0.2 PRINT density_report_M6_7f.log
X NOT MARKG
}
M6_7a++++++++++++++++++++++

@ M6 maximum density(%) in 110um*110um window with step size 55um is 85%
X = DENSITY (M6i OR M6DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M6_7a.log RDB density_report_M6_7a.db
X NOT MARKG
}
M6_7b++++++++++++++++++++++

@ M6 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M6i OR M6DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M6_7b.log RDB density_report_M6_7b.db
X NOT MARKG
}
M6_7c++++++++++++++++++++++

@ M6 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M6i OR M6DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M6_7c.log RDB density_report_M6_7c.db
X NOT MARKG
}
M6_7d++++++++++++++++++++++

@ [(M6 with width > 2.8um) over M5] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M6i WITH WIDTH > 2.800) OR (M6DUM WITH WIDTH > 2.800)) AND (M5i OR M5DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M6_7d.log RDB density_report_M6_7d.db
X NOT MARKG
}
M6_7e++++++++++++++++++++++

@ [(M5 with width > 2.8um) over M6] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M6i OR M6DUM) AND ((M5i WITH WIDTH > 2.80) OR (M5DUM WITH WIDTH > 2.80)) ) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M6_7e.log RDB density_report_M6_7e.db
X NOT MARKG
}
M6_8++++++++++++++++++++++

@ (M6 at 45degree ) minimum width (run length>0um) is 0.17
M645 = ANGLE M6 == 45
INT M645 < 0.17 OPPOSITE REGION
}
M6_9++++++++++++++++++++++

@ (M6 at 45degree) minimum space to M6 (run length>0um) is 0.17
M645 = ANGLE M6 == 45
EXT M645 < 0.17 OPPOSITE REGION
}
M6.10a++++++++++++++++++++++

@Minimum space between an Mn line end to an Mn (the parallel run length >0um) is 0.07.Excluding checking SRAM area
X =EXT M6END M6<0.07 OPPOSITE REGION
X OUTSIDE INST
}
M6.10b++++++++++++++++++++++

@ Minimum space between an Mn line end (with Vn) to an Mn (the parallel run length >0um) is 0.07. The Mn line end extend Q from Vn, 0.03 <= Q <0.05um.Excluding checking SRAM area
X1 = EXT M6END  M6 <0.07 OPPOSITE REGION
X2 = M6END COIN EDGE X1
X3 = ENC  V6 X2 <0.05 OPPOSITE REGION
X4 = ENC V6 X2 <0.03 OPPOSITE REGION
X5 = V6 INTERACT X3
X6 = V6 INTERACT X4
X7 = X5 NOT X6
X =X1 TOUCH (X3 INTERACT X7)
X OUT INST
}
M6.11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M6 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V5  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V5 INTERACT X1
X3 = X2 INSIDE (M5 AND M6)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M6 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V5_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V5_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V5_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M6 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M6< 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V5 INTERACT V42
X6 = V5 NOT X5
X7 = ((M5 AND M6) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M6_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M6 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M6 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M6 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M6 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M6_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =((M5 OR M6) OR M7) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M6_CORNER) OUTSIDE INST) NOT (MOM OR MOMDMY)
}
M7_1++++++++++++++++++++++

@ M7 minimum width is 0.07
INT M7 < 0.07 ABUT<90 SINGULAR REGION
}
M7_2++++++++++++++++++++++

@ M7 maximum width is 4.5
M7 WITH WIDTH > 4.50
}
M7_3++++++++++++++++++++++

@ M7 minimum space is 0.07
EXT M7 < 0.07 ABUT<90 SINGULAR REGION
}
M7_4++++++++++++++++++++++

@ M7 minimum area is 0.0196
AREA M7 < 0.0196
}
M7_5++++++++++++++++++++++

@ M7 minimum enclosed area is 0.2
AREA ((HOLES M7 INNER) NOT M7) < 0.2
}
M7_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with  both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M7i 0.3 0.22 0.1
}
M7_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M7i 0.6 0.7 0.12
}
M7_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M7i 0.6 0.22 0.7 0.14
}
M7_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with one or both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M7i 1.5 1.5 0.3
}
M7_7++++++++++++++++++++++

@ M7 minimum density(%) in 110um*110um window with step size 55um is 10%
X = DENSITY (M7i OR M7DUM) < 0.1 WINDOW 110 STEP 55 BACKUP PRINT density_report_M7_7.log RDB density_report_M7_7.db
X NOT MARKG
}
M7_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M7i OR M7DUM)< 0.2 PRINT density_report_M7_7f.log
X NOT MARKG
}
M7_7a++++++++++++++++++++++

@ M7 maximum density(%) in 110um*110um window with step size 55um is 85%
X = DENSITY (M7i OR M7DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M7_7a.log RDB density_report_M7_7a.db
X NOT MARKG
}
M7_7b++++++++++++++++++++++

@ M7 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M7i OR M7DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M7_7b.log RDB density_report_M7_7b.db
X NOT MARKG
}
M7_7c++++++++++++++++++++++

@ M7 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M7i OR M7DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M7_7c.log RDB density_report_M7_7c.db
X NOT MARKG
}
M7_7d++++++++++++++++++++++

@ [(M7 with width > 2.8um) over M6] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M7i WITH WIDTH > 2.800) OR (M7DUM WITH WIDTH > 2.800)) AND (M6i OR M6DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M7_7d.log RDB density_report_M7_7d.db
X NOT MARKG
}
M7_7e++++++++++++++++++++++

@ [(M6 with width > 2.8um) over M7] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M7i OR M7DUM) AND ((M6i WITH WIDTH > 2.80) OR (M6DUM WITH WIDTH > 2.80))) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M7_7e.log RDB density_report_M7_7e.db
X NOT MARKG
}
M7_8++++++++++++++++++++++

@ (M7 at 45degree ) minimum width (run length>0um) is 0.17
M745 = ANGLE M7 == 45
INT M745 < 0.17 OPPOSITE REGION
}
M7_9++++++++++++++++++++++

@ (M7 at 45degree) minimum space to M7 (run length>0um) is 0.17
M745 = ANGLE M7 == 45
EXT M745 < 0.17 OPPOSITE REGION
}
M7.10a++++++++++++++++++++++

@Minimum space between an Mn line end to an Mn (the parallel run length >0um) is 0.07.Excluding checking SRAM area
X= EXT M7END M7<0.07 OPPOSITE REGION
X OUT INST
}
M7.10b++++++++++++++++++++++

@ Minimum space between an Mn line end (with Vn) to an Mn (the parallel run length >0um) is 0.07 The Mn line end extend Q from Vn, 0.03 <= Q <0.05um.Excluding checking SRAM area
X1 = EXT M7END  M7 <0.07 OPPOSITE REGION
X2 = M7END COIN EDGE X1
X3 = ENC  V7 X2 <0.05 OPPOSITE REGION
X4 = ENC V7 X2 <0.03 OPPOSITE REGION
X5 = V7 INTERACT X3
X6 = V7 INTERACT X4
X7 = X5 NOT X6
X =X1 TOUCH (X3 INTERACT X7)
X OUTSIDE INST
}
M7.11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M7 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V6  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V6 INTERACT X1
X3 = X2 INSIDE (M7 AND M6)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M7 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V6_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V6_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V6_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M7 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M7< 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V6 INTERACT V42
X6 = V6 NOT X5
X7 = ((M7 AND M6) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M7_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M7 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M7 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M7 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M7 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M7_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =((M6 OR M7) OR M8) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M7_CORNER) OUTSIDE INST) NOT (MOM OR MOMDMY)
}
M8_1++++++++++++++++++++++

@ M8 minimum width is 0.07
INT M8 < 0.07 ABUT<90 SINGULAR REGION
}
M8_2++++++++++++++++++++++

@ M8 maximum width is 4.5
M8 WITH WIDTH > 4.50
}
M8_3++++++++++++++++++++++

@ M8 minimum space is 0.07
EXT M8 < 0.07 ABUT<90 SINGULAR REGION
}
M8_4++++++++++++++++++++++

@ M8 minimum area is 0.0196
AREA M8 < 0.0196
}
M8_5++++++++++++++++++++++

@ M8 minimum enclosed area is 0.2
AREA ((HOLES M8 INNER) NOT M8) < 0.2
}
M8_6++++++++++++++++++++++

@ Minimum space between two length > 0.3 parallel metal lines
@ with both metal line width is > 0.22 is 0.10
CMACRO Mn_6 M8i 0.3 0.22 0.1
}
M8_6a++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines
@ with one or both metal line width is > 0.7 is 0.12
CMACRO Mn_6a M8i 0.6 0.7 0.12
}
M8_6b++++++++++++++++++++++

@ Minimum space between two length > 0.6 parallel metal lines with one metal
@ line width is > 0.22 and other metal line width is >0.7um is 0.14
CMACRO Mn_6b M8i 0.6 0.22 0.7 0.14
}
M8_6c++++++++++++++++++++++

@ Minimum space between two length > 1.5 parallel metal lines
@ with one or both metal line width is > 1.5 is 0.30
CMACRO Mn_6c M8i 1.5 1.5 0.3
}
M8_7++++++++++++++++++++++

@ M8 minimum density(%) in 110um*110um window with step size 55um is 10%
X = DENSITY (M8i OR M8DUM) < 0.1 WINDOW 110 STEP 55 BACKUP PRINT density_report_M8_7.log RDB density_report_M8_7.db
X NOT MARKG
}
M8_7f++++++++++++++++++++++

@ Mn density over the whole chip is >=20%
X =DENSITY (M8i OR M8DUM)< 0.2 PRINT density_report_M8_7f.log
X NOT MARKG
}
M8_7a++++++++++++++++++++++

@ M8 maximum density(%) in 110um*110um window with step size 55um is 85%
X = DENSITY (M8i OR M8DUM) > 0.85 WINDOW 110 STEP 55 BACKUP PRINT density_report_M8_7a.log RDB density_report_M8_7a.db
X NOT MARKG
}
M8_7b++++++++++++++++++++++

@ M8 maximum density difference(%) between any two 200um adjacent window (stepped without overlapping) is 50%
X = DENSITY (M8i OR M8DUM) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_M8_7b.log RDB density_report_M8_7b.db
X NOT MARKG
}
M8_7c++++++++++++++++++++++

@ M8 maximum density(%) with 840um*840um window is 70%
X = DENSITY (M8i OR M8DUM) > 0.7 WINDOW 840 BACKUP PRINT density_report_M8_7c.log RDB density_report_M8_7c.db
X NOT MARKG
}
M8_7d++++++++++++++++++++++

@ [(M8 with width > 2.8um) over M7] maximum density(%) with 200um*200um is 70%
X = DENSITY (((M8i WITH WIDTH > 2.800) OR (M8DUM WITH WIDTH > 2.800))AND (M7i OR M7DUM)) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M8_7d.log RDB density_report_M8_7d.db
X NOT MARKG
}
M8_7e++++++++++++++++++++++

@ [(M7 with width > 2.8um) over M8] maximum density(%) with 200um*200um is 70%
X = DENSITY ((M8i OR M8DUM) AND ((M7i WITH WIDTH > 2.80) OR (M7DUM WITH WIDTH > 2.80))) > 0.7 WINDOW 200 STEP 100 BACKUP PRINT density_report_M8_7e.log RDB density_report_M8_7e.db
X NOT MARKG
}
M8_8++++++++++++++++++++++

@ (M8 at 45degree ) minimum width (run length>0um) is 0.17
M845 = ANGLE M8 == 45
INT M845 < 0.17 OPPOSITE REGION
}
M8_9++++++++++++++++++++++

@ (M8 at 45degree) minimum space to M8 (run length>0um) is 0.17
M845 = ANGLE M8 == 45
EXT M845 < 0.17 OPPOSITE REGION
}
M8.10a++++++++++++++++++++++

@Minimum space between an Mn line end to an Mn (the parallel run length >0um) is 0.07.Excluding checking SRAM area
X= EXT M8END M8<0.07 OPPOSITE REGION
X OUT INST
}
M8.11++++++++++++++++++++++

@ Space between Vn-1 (Vn-1 is enclosed by Mn[A]) to neighbouring metal line Mn[B], when the layout structures meet the following conditions:
@ 1.	Mn[A] line end definition: line width W <0.1um.
@ 2.	Vn-1 enclosure by Mn[A] line end: E < 0.05um
@ 3.	The parallel run length of Mn[A] and Mn[B]:E1 >=-0.03um
@ 4.	Space between Mn[A] to the neighbouring parallel metal line: Ds<0.08um;
@ 5.	Any one edge distance from the corner of the two edges of Mn[A]: K1 <0.095um
@ At least one Vn-1 in the Mn[A] and Mn-1 intersection meet this rule is ok.
@ This rule is not applicable for SRAM region DRC check.	 	0.12
LINE_END = CONVEX EDGE M8 ANGLE1 ==90 LENGTH1 >=0.08 ANGLE2  ==90 LENGTH2  >=0.08 WITH LENGTH  <0.1
X1 =ENC V7  LINE_END<0.05 ABUT<90 REGION OPPOSITE
X2 = V7 INTERACT X1
X3 = X2 INSIDE (M7 AND M8)
X8 =X3 TOUCH EDGE X1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.095
LINE_SIDE = (M8 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_SIDE1 = ENC X3 LINE_SIDE<0.03 REGION ABUT<90 OPPOSITE
V7_EDGE =(LINE_SIDE1 OR X3) TOUCH EDGE X8
LINE_END_EXP = EXPAND EDGE V7_EDGE INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001
LINE_END_1 = LINE_END_EXP TOUCH EDGE V7_EDGE
LINE_SIDE_1 = LINE_SIDE_EXP  TOUCH EDGE  LINE_SIDE
E1 = EXT [LINE_END_1] M8 < 0.12 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M8< 0.08  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
V42 =X3 WITH EDGE (X8 TOUCH EDGE LINE_END_E1)
X5 = V7 INTERACT V42
X6 = V7 NOT X5
X7 = ((M7 AND M8) ENCLOSE X5) ENCLOSE X6
M2_CORNER1 = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
(M2_CORNER1 NOT INTERACT X7) OUTSIDE INST
}
M8_12++++++++++++++++++++++

@ Minimum Mn to Mn space S at Mn line-end 0.1. Width W < 0.1um . The minimum space can be line end head to other Mn or line end side to other M1.  Rule check:
@ S >= (Dh or Ds ).  E1 =0.03, K1=0.095 , Dh=Ds=0.1 in the illustration.
@ Outside of SRAM(INST) area.
@ Waive extrusion F < 0.07.
@ Waive the violation for MOM (within MOMDMY).
LINE_END = CONVEX EDGE M8 ANGLE1 ==90 LENGTH1 >=0.07 ANGLE2  ==90 LENGTH2  >=0.07 WITH LENGTH  < 0.1
LINE_END_SHAPE = EXPAND EDGE LINE_END INSIDE BY 0.064
LINE_SIDE = (M8 COIN EDGE LINE_END_SHAPE ) NOT COIN EDGE LINE_END
LINE_END_EXP = EXPAND EDGE LINE_END INSIDE BY 0.001 EXTEND BY 0.031
LINE_SIDE_EXP = EXPAND EDGE LINE_SIDE INSIDE BY 0.001 EXTEND BY 0.031
LINE_END_1 = LINE_END_EXP TOUCH EDGE LINE_END
LINE_SIDE_1 = LINE_SIDE_EXP TOUCH EDGE LINE_SIDE
E1 = EXT [LINE_END_1] M8 < 0.1 OPPOSITE PERP ALSO OBTUSE ALSO
E2 = EXT [LINE_SIDE_1] M8 < 0.1  OPPOSITE PERP ALSO OBTUSE ALSO
LINE_END_E1 = LINE_END_1 TOUCH EDGE E1
LINE_SIDE_E2 = LINE_SIDE_1 TOUCH EDGE E2
M8_CORNER = INT LINE_END_E1 LINE_SIDE_E2 <= 0.002 ABUT==90 REGION
MOM =(M7 OR M8) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
((LINE_END_SHAPE INTERACT M8_CORNER) OUTSIDE INST ) NOT (MOM OR MOMDMY)
}
V2_1++++++++++++++++++++++

@ Fixed V2 size is 0.07
NOT RECTANGLE V2 == 0.07 BY == 0.07
}
V2_2++++++++++++++++++++++

@ Space between two V2 is 0.07
EXT V2 < 0.07 ABUT<90 SINGULAR REGION
}
V2_3++++++++++++++++++++++

@Space between Vns (with run length 0) at least two least two sides is 0.09, when array equal to or greater than 3x3.
@Two Via areas whose space is within 0.10um are considered to be in the same array. An array does
@ not have both row and column greater than or equal to 3 can apply smaller spacing Vn.2 instead of Vn.3
X = EXT (V2 INTERACT V2_array) V2< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V2 BY 0.001
(Y INTERACT  V2_array)  INTERACT (X NOT Y) >2
}
V2_5++++++++++++++++++++++

@ V2 (different net) minimum space for run length > 0um is 0.1 (outside of SRAM)
X = EXT V2 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V2_5a++++++++++++++++++++++

@ V2 (different net) minimum space is 0.09
EXT V2 < 0.09 NOT CONNECTED REGION
}
V2_6abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V2 NOT M2
M2andM3 = (M2 AND M3) INTERACT (V2 OUTSIDE INST)
BadV2 = RECTANGLE ENCLOSURE (V2 OUTSIDE INST) M2  OUTSIDE ALSO
GOOD 0.015 OPPOSITE  0.015  OPPOSITE 0.015  OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE 0.02 OPPOSITE 0.01 OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV2 INTERACT M2andM3
}
SRV2_6++++++++++++++++++++++

@ Vn minimum within Mn is 0.0
(V2 NOT OUTSIDE INST) NOT INSIDE M2
}
V2_7abc++++++++++++++++++++++

@ V2 must within M3
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.7a, Vn.7b or Vn.7c
@ V2.7a, V2 minimum within M3 is 0.015
@ V2.7b, M3 minimum overlap past V2 for two opposite sides with either side >=0.01um, and < 0.015um  is 0.02
@ V2.7c, M3 minimum overlap past V2 for two opposite sides with the either side >=0um, and < 0.01um is 0.03
V2 NOT M3
M2andM3 = (M2 AND M3) INTERACT V2
BadV2 = RECTANGLE ENCLOSURE V2 M3  OUTSIDE ALSO
GOOD 0.015 OPPOSITE 0.015  OPPOSITE 0.015 OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01  OPPOSITE 0.02 OPPOSITE  0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV2 INTERACT M2andM3
}
V2_8++++++++++++++++++++++

@ At least two Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.26um
WM2 = WITH WIDTH M2 > 0.260
WM3 = WITH WIDTH M3 > 0.260
encVia = V2 INTERACT (WM2 OR WM3)
((M2 AND M3) ENCLOSE encVia) ENCLOSE V2 < 2
}
V2_9++++++++++++++++++++++

@ At least three Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.52um
WM2 = WITH WIDTH M2 > 0.520
WM3 = WITH WIDTH M3 > 0.520
encVia = V2 INTERACT (WM2 OR WM3)
((M2 AND M3) ENCLOSE encVia) ENCLOSE V2 < 3
}
V2_10++++++++++++++++++++++

@ At least four Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.645um
WM2 = WITH WIDTH M2 > 0.645
WM3 = WITH WIDTH M3 > 0.645
encVia = V2 INTERACT (WM2 OR WM3)
((M2 AND M3) ENCLOSE encVia) ENCLOSE V2 < 4
}
V2_16++++++++++++++++++++++

@At least two Vns with space <=0.16um when one of Mn or Mn+1 with both length and width >0.24um.
@Exclude non-square Vn and SRAM area.
X1a = WITH WIDTH M2  >0.24
X1b = WITH WIDTH M3  >0.24
WIDE = X1a OR X1b
X2 = (M3 AND M2) ENCLOSE V2_square
X3 =  V2_square INSIDE X2
X5c = EXT (V2_EMPTY INSIDE WIDE ) V2_EMPTY <=0.16 ABUT<90 REGION CONNECTED
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V2 >2
X7c=X2 ENCLOSE X7
X =((X2 NOT X6c) NOT X7c) ENCLOSE ( V2_square INSIDE WIDE )
X OUTSIDE INST
}
V2_17++++++++++++++++++++++

@ At least two Vns  when either wide metal of Mn or Mn+1 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.
@ Exclude non-square Vn
WM2_L1 = ( M2 NOT WM2 ) TOUCH WM2
M2_ENCWM = (M2 INTERACT WM2) INTERACT V2_A
WM2_VEDGE = EXT [M2_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM2_EXT1 = EXT (WM2 COIN EDGE WM2_VEDGE) [V2_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM2_EXT2 = (EXT WM2 V2_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M2
V2_B = V2_square WITH EDGE WM2_EXT1
X1 =(M2 AND M3) ENCLOSE V2_square >1
X2 = ((M2 AND M3)  AND ( WM2_L1 AND WM2_EXP )) NOT X1
Y0=(M2 AND M3) ENCLOSE V2_square ==1
Y1 = SIZE (V2_square INTERACT Y0) BY 1.1 INSIDE OF M2 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM2)
VSING1= ((X2 INTERACT V2_B ==1) INTERACT Y2) OR ((X2 INTERACT WM2_EXT2) INTERACT V2_A)
VSING1 OUTSIDE INST
M3_ENCWM = (M3 INTERACT WM3) INTERACT V2_A2
WM3_VEDGE = EXT [M3_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM3_EXT1 = EXT (WM3_EMPTY COIN EDGE WM3_VEDGE) [V2_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM3_EXT2 = (EXT WM3_EMPTY V2_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M3
V2_B2 = V2_square WITH EDGE WM3_EXT1
X3 = ((M2 AND M3)  AND ( WM3_L1 AND WM3_EXP )) NOT X1
Y3 = SIZE (V2_square INTERACT Y0) BY 1.1 INSIDE OF M3 STEP 0.005
Y4 = Y3 INTERACT (Y3 AND WM3)
VSING2= ((X3 INTERACT V2_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM3_EXT2) INTERACT V2_A2)
VSING2 OUTSIDE INST
}
V3_1++++++++++++++++++++++

@ Fixed V3 size is 0.07
NOT RECTANGLE V3 == 0.07 BY == 0.07
}
V3_2++++++++++++++++++++++

@ Space between two V3 is 0.07
EXT V3 < 0.07 ABUT<90 SINGULAR REGION
}
V3_3++++++++++++++++++++++

@Space between Vns (with run length 0) at least two least two sides is 0.09, when array equal to or greater than 3x3.
@Two Via areas whose space is within 0.10um are considered to be in the same array. An array does
@ not have both row and column greater than or equal to 3 can apply smaller spacing Vn.2 instead of Vn.3
X = EXT (V3 INTERACT V3_array) V3< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V3 BY 0.001
(Y INTERACT  V3_array)  INTERACT (X NOT Y) >2
}
V3_5++++++++++++++++++++++

@ V3 (different net) minimum space for run length > 0um is 0.1(outside of SRAM)
X = EXT V3 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V3_5a++++++++++++++++++++++

@ V3 (different net) minimum space is 0.09
EXT V3 < 0.09 NOT CONNECTED REGION
}
V3_6abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V3 NOT M3
M3andM4 = (M3 AND M4) INTERACT V3
BadV3 = RECTANGLE ENCLOSURE V3 M3 OUTSIDE ALSO
GOOD 0.015 OPPOSITE 0.015 OPPOSITE  0.015  OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02 OPPOSITE 0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV3 INTERACT M3andM4
}
V3_7abc++++++++++++++++++++++

@ V2 must within M3
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.7a, Vn.7b or Vn.7c
@ V2.7a, V2 minimum within M3 is 0.015
@ V2.7b, M3 minimum overlap past V2 for two opposite sides with either side >=0.01um, and < 0.015um  is 0.02
@ V2.7c, M3 minimum overlap past V2 for two opposite sides with the either side >=0um, and < 0.01um is 0.03
V3 NOT M4
M3andM4 = (M3 AND M4) INTERACT V3
BadV3 = RECTANGLE ENCLOSURE V3 M4  OUTSIDE ALSO
GOOD 0.015 OPPOSITE  0.015 OPPOSITE  0.015 OPPOSITE  0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02  OPPOSITE 0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV3 INTERACT M3andM4
}
V3_8++++++++++++++++++++++

@ At least two Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.26um
WM3 = WITH WIDTH M3 > 0.260
WM4 = WITH WIDTH M4 > 0.260
encVia = V3 INTERACT (WM3 OR WM4)
((M3 AND M4) ENCLOSE encVia) ENCLOSE V3 < 2
}
V3_9++++++++++++++++++++++

@ At least three Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.52um
WM3 = WITH WIDTH M3 > 0.520
WM4 = WITH WIDTH M4 > 0.520
encVia = V3 INTERACT (WM3 OR WM4)
((M3 AND M4) ENCLOSE encVia) ENCLOSE V3 < 3
}
V3_10++++++++++++++++++++++

@ At least four Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.645um
WM3 = WITH WIDTH M3 > 0.645
WM4 = WITH WIDTH M4 > 0.645
encVia = V3 INTERACT (WM3 OR WM4)
((M3 AND M4) ENCLOSE encVia) ENCLOSE V3 < 4
}
V3_16++++++++++++++++++++++

@At least two Vns with space <=0.16um when one of Mn or Mn+1 with both length and width >0.24um.
@Exclude non-square Vn and SRAM area.
X1a = WITH WIDTH M3  >0.24
X1b = WITH WIDTH M4  >0.24
WIDE = X1a OR X1b
X2 = (M3 AND M4) ENCLOSE V3_square
X3 =  V3_square INSIDE X2
X5c = EXT (V3_EMPTY INSIDE WIDE ) V3_EMPTY<=0.16 ABUT<90 REGION CONNECTED
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V3 >2
X7c=X2 ENCLOSE X7
X=((X2 NOT X6c) NOT X7c) ENCLOSE (V3_square INSIDE WIDE)
X OUTSIDE INST
}
V3_17++++++++++++++++++++++

@ At least two Vns  when either wide metal of Mn or Mn+1 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.
@ Exclude non-square Vn
WM3_L1 = ( M3 NOT WM3 ) TOUCH WM3
M3_ENCWM = (M3 INTERACT WM3) INTERACT V3_A
WM3_VEDGE = EXT [M3_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM3_EXT1 = EXT (WM3 COIN EDGE WM3_VEDGE) [V3_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM3_EXT2 = (EXT WM3 V3_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M3
V3_B = V3_square WITH EDGE WM3_EXT1
X1 =(M3 AND M4) ENCLOSE V3_square >1
X2 = ((M3 AND M4)  AND ( WM3_L1 AND WM3_EXP )) NOT X1
Y0=(M3 AND M4) ENCLOSE V3_square ==1
Y1 = SIZE (V3_square INTERACT Y0) BY 1.1 INSIDE OF M3 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM3)
VSING1= ((X2 INTERACT V3_B ==1) INTERACT Y2) OR ((X2 INTERACT WM3_EXT2) INTERACT V3_A)
VSING1 OUTSIDE INST
M4_ENCWM = (M4 INTERACT WM4) INTERACT V3_A2
WM4_VEDGE = EXT [M4_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM4_EXT1 = EXT (WM4_EMPTY COIN EDGE WM4_VEDGE) [V3_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM4_EXT2 = (EXT WM4_EMPTY V3_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M4
V3_B2 = V3_square WITH EDGE WM4_EXT1
X3 = ((M3 AND M4)  AND ( WM4_L1 AND WM4_EXP )) NOT X1
Y3 = SIZE (V3_square INTERACT Y0) BY 1.1 INSIDE OF M4 STEP 0.005
Y4= Y3 INTERACT (Y3 AND WM4)
VSING2= ((X3 INTERACT V3_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM4_EXT2) INTERACT V3_A2)
VSING2 OUTSIDE INST
}
V4_1++++++++++++++++++++++

@ Fixed V4 size is 0.07
NOT RECTANGLE V4 == 0.07 BY == 0.07
}
V4_2++++++++++++++++++++++

@ Space between two V4 is 0.07
EXT V4 < 0.07 ABUT<90 SINGULAR REGION
}
V4_3++++++++++++++++++++++

@Space between Vns (with run length 0) at least two least two sides is 0.09, when array equal to or greater than 3x3.
@Two Via areas whose space is within 0.10um are considered to be in the same array. An array does
@ not have both row and column greater than or equal to 3 can apply smaller spacing  Vn.2  instead of  Vn.3
X = EXT (V4 INTERACT V4_array) V4< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V4 BY 0.001
(Y INTERACT  V4_array)  INTERACT (X NOT Y) >2
}
V4_5++++++++++++++++++++++

@ V4 (different net) minimum space for run length > 0um is 0.11 (outside of SRAM)
X =EXT V4 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V4_5a++++++++++++++++++++++

@ V4 (different net) minimum space is 0.09
EXT V4 < 0.09 NOT CONNECTED REGION
}
V4_6abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V4 NOT M4
M4andM5 = (M4 AND M5) INTERACT V4
BadV4 = RECTANGLE ENCLOSURE V4 M4 OUTSIDE ALSO
GOOD 0.015 OPPOSITE  0.015 OPPOSITE   0.015  OPPOSITE  0.015 OPPOSITE
GOOD 0.02 OPPOSITE  0.01  OPPOSITE  0.02  OPPOSITE 0.01 OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV4 INTERACT M4andM5
}
V4_7abc++++++++++++++++++++++

@ V2 must within M3
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.7a, Vn.7b or Vn.7c
@ V2.7a, V2 minimum within M3 is 0.015
@ V2.7b, M3 minimum overlap past V2 for two opposite sides with either side >=0.01um, and < 0.015um  is 0.02
@ V2.7c, M3 minimum overlap past V2 for two opposite sides with the either side >=0um, and < 0.01um is 0.03
V4 NOT M5
M4andM5 = (M4 AND M5) INTERACT V4
BadV4 = RECTANGLE ENCLOSURE V4 M5 OUTSIDE ALSO
GOOD 0.015  OPPOSITE 0.015 OPPOSITE  0.015 OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02 OPPOSITE 0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV4 INTERACT M4andM5
}
V4_8++++++++++++++++++++++

@ At least two Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.26um
WM4 = WITH WIDTH M4 > 0.260
WM5 = WITH WIDTH M5 > 0.260
encVia = V4 INTERACT (WM4 OR WM5)
((M4 AND M5) ENCLOSE encVia) ENCLOSE V4 < 2
}
V4_9++++++++++++++++++++++

@ At least three Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.52um
WM4 = WITH WIDTH M4 > 0.520
WM5 = WITH WIDTH M5 > 0.520
encVia = V4 INTERACT (WM4 OR WM5)
((M4 AND M5) ENCLOSE encVia) ENCLOSE V4 < 3
}
V4_10++++++++++++++++++++++

@ At least four Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.645um
WM4 = WITH WIDTH M4 > 0.645
WM5 = WITH WIDTH M5 > 0.645
encVia = V4 INTERACT (WM4 OR WM5)
((M4 AND M5) ENCLOSE encVia) ENCLOSE V4 < 4
}
V4_16++++++++++++++++++++++

@At least two Vns with space <=0.16um when one of Mn or Mn+1 with both length and width >0.24um.
@Exclude non-square Vn and SRAM area.
X1a = WITH WIDTH M4  >0.24
X1b = WITH WIDTH M5  >0.24
WIDE = X1a OR X1b
X2 = (M5 AND M4) ENCLOSE V4_square
X3 =  V4_square INSIDE X2
X5c = EXT (V4_EMPTY INSIDE WIDE ) V4_EMPTY<=0.16 ABUT<90 REGION CONNECTED
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V4 >2
X7c=X2 ENCLOSE X7
X =((X2 NOT X6c) NOT X7c) ENCLOSE ( V4_square INSIDE WIDE)
X OUTSIDE INST
}
V4_17++++++++++++++++++++++

@ At least two Vns when either wide metal of Mn or Mn+1 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.
@ Exclude non-square Vn
WM4_L1 = ( M4 NOT WM4 ) TOUCH WM4
M4_ENCWM = (M4 INTERACT WM4) INTERACT V4_A
WM4_VEDGE = EXT [M4_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM4_EXT1 = EXT (WM4 COIN EDGE WM4_VEDGE) [V4_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM4_EXT2 = (EXT WM4 V4_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M4
V4_B = V4_square WITH EDGE WM4_EXT1
X1 =(M4 AND M5) ENCLOSE V4_square >1
X2 = ((M4 AND M5)  AND ( WM4_L1 AND WM4_EXP )) NOT X1
Y0=(M4 AND M5) ENCLOSE V4_square ==1
Y1 = SIZE (V4_square INTERACT Y0) BY 1.1 INSIDE OF M4 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM4)
VSING1= ((X2 INTERACT V4_B ==1) INTERACT Y2) OR ((X2 INTERACT WM4_EXT2) INTERACT V4_A)
VSING1 OUTSIDE INST
M5_ENCWM = (M5 INTERACT WM5) INTERACT V4_A2
WM5_VEDGE = EXT [M5_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM5_EXT1 = EXT (WM5_EMPTY COIN EDGE WM5_VEDGE) [V4_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM5_EXT2 = (EXT WM5_EMPTY V4_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M5
V4_B2 = V4_square WITH EDGE WM5_EXT1
X3 = ((M4 AND M5)  AND ( WM5_L1 AND WM5_EXP )) NOT X1
Y3 = SIZE (V4_square INTERACT Y0) BY 1.1 INSIDE OF M5 STEP 0.005
Y4= Y3 INTERACT (Y3 AND WM5)
VSING2= ((X3 INTERACT V4_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM5_EXT2) INTERACT V4_A2)
VSING2 OUTSIDE INST
}
V5_1++++++++++++++++++++++

@ Fixed V5 size is 0.07
NOT RECTANGLE V5 == 0.07 BY == 0.07
}
V5_2++++++++++++++++++++++

@ Space between two V5 is 0.07
EXT V5 < 0.07 ABUT<90 SINGULAR REGION
}
V5_3++++++++++++++++++++++

@Space between Vns (with run length 0) at least two least two sides is 0.09, when array equal to or greater than 3x3.
@Two Via areas whose space is within 0.10um are considered to be in the same array. An array does
@ not have both row and column greater than or equal to 3 can apply smaller spacing  Vn.2  instead of  Vn.3
X = EXT (V5 INTERACT V5_array) V5< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V5 BY 0.001
(Y INTERACT  V5_array)  INTERACT (X NOT Y) >2
}
V5_5++++++++++++++++++++++

@ V5 (different net) minimum space for run length > 0um is 0.1(outside of SRAM)
X =EXT V5 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V5_5a++++++++++++++++++++++

@ V5 (different net) minimum space is 0.09
EXT V5 < 0.09 NOT CONNECTED REGION
}
V5_6abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V5 NOT M5
M5andM6 = (M5 AND M6) INTERACT V5
Badv5 = RECTANGLE ENCLOSURE V5 M5  OUTSIDE ALSO
GOOD 0.015  OPPOSITE 0.015  OPPOSITE  0.015 OPPOSITE  0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02 OPPOSITE 0.01 OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV5 INTERACT M5andM6
}
V5_7abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V5 NOT M6
M5andM6 = (M5 AND M6) INTERACT V5
BadV5 = RECTANGLE ENCLOSURE V5 M6 OUTSIDE ALSO
GOOD 0.015  OPPOSITE 0.015  OPPOSITE  0.015 OPPOSITE  0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02  OPPOSITE 0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV5 INTERACT M5andM6
}
V5_8++++++++++++++++++++++

@ At least two Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.26um
WM5 = WITH WIDTH M5 > 0.260
WM6 = WITH WIDTH M6 > 0.260
encVia = V5 INTERACT (WM5 OR WM6)
((M5 AND M6) ENCLOSE encVia) ENCLOSE V5 < 2
}
V5_9++++++++++++++++++++++

@ At least three Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.52um
WM5 = WITH WIDTH M5 > 0.520
WM6 = WITH WIDTH M6 > 0.520
encVia = V5 INTERACT (WM5 OR WM6)
((M5 AND M6) ENCLOSE encVia) ENCLOSE V5 < 3
}
V5_10++++++++++++++++++++++

@ At least four Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.645um
WM5 = WITH WIDTH M5 > 0.645
WM6 = WITH WIDTH M6 > 0.645
encVia = V5 INTERACT (WM5 OR WM6)
((M5 AND M6) ENCLOSE encVia) ENCLOSE V5 < 4
}
V5_16++++++++++++++++++++++

@At least two Vns with space <=0.16um when one of Mn or Mn+1 with both length and width >0.24um.
@Exclude non-square Vn and SRAM area.
X1a = WITH WIDTH M5  >0.24
X1b = WITH WIDTH M6  >0.24
WIDE = X1a OR X1b
X2 = (M5 AND M6) ENCLOSE V5_square
X3 =  V5_square INSIDE X2
X5c = EXT (V5_EMPTY INSIDE WIDE ) V5_EMPTY<=0.16 ABUT<90 REGION OPPOSITE
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V5 >2
X7c=X2 ENCLOSE X7
X =((X2 NOT X6c)NOT X7c) ENCLOSE (V5_square INSIDE WIDE )
X OUTSIDE INST
}
V5_17++++++++++++++++++++++

@ At least two Vns when either wide metal of Mn or Mn+1 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.
@ Exclude non-square Vn
WM5_L1 = ( M5 NOT WM5 ) TOUCH WM5
M5_ENCWM = (M5 INTERACT WM5) INTERACT V5_A
WM5_VEDGE = EXT [M5_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM5_EXT1 = EXT (WM5 COIN EDGE WM5_VEDGE) [V5_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM5_EXT2 = (EXT WM5 V5_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M5
V5_B = V5_square WITH EDGE WM5_EXT1
X1 =(M5 AND M6) ENCLOSE V5_square >1
X2 = ((M5 AND M6)  AND ( WM5_L1 AND WM5_EXP )) NOT X1
Y0=(M5 AND M6) ENCLOSE V5_square ==1
Y1 = SIZE (V5_square INTERACT Y0) BY 1.1 INSIDE OF M5 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM5)
VSING1= ((X2 INTERACT V5_B ==1) INTERACT Y2)  OR ((X2 INTERACT WM5_EXT2) INTERACT V5_A)
VSING1 OUTSIDE INST
M6_ENCWM = (M6 INTERACT WM6) INTERACT V5_A2
WM6_VEDGE = EXT [M6_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM6_EXT1 = EXT (WM6_EMPTY COIN EDGE WM6_VEDGE) [V5_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM6_EXT2 = (EXT WM6_EMPTY V5_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M6
V5_B2 = V5_square WITH EDGE WM6_EXT1
X3 = ((M5 AND M6)  AND ( WM6_L1 AND WM6_EXP )) NOT X1
Y3 = SIZE (V5_square INTERACT Y0) BY 1.1 INSIDE OF M6 STEP 0.005
Y4= Y3 INTERACT (Y3 AND WM6)
VSING2= ((X3 INTERACT V5_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM6_EXT2) INTERACT V5_A2)
VSING2 OUTSIDE INST
}
V6_1++++++++++++++++++++++

@ Fixed V6 size is 0.07
NOT RECTANGLE V6 == 0.07 BY == 0.07
}
V6_2++++++++++++++++++++++

@ Space between two V6 is 0.07
EXT V6 < 0.07 ABUT<90 SINGULAR REGION
}
V6_3++++++++++++++++++++++

@Space between Vns (with run length 0) at least two least two sides is 0.09, when array equal to or greater than 3x3.
@Two Via areas whose space is within 0.10um are considered to be in the same array. An array does
@ not have both row and column greater than or equal to 3 can apply smaller spacing  Vn.2  instead of  Vn.3
X = EXT (V6 INTERACT V6_array) V6< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V6 BY 0.001
(Y INTERACT  V6_array)  INTERACT (X NOT Y) >2
}
V6_5++++++++++++++++++++++

@ V6 (different net) minimum space for run length > 0um is 0.1(outside of SRAM)
X = EXT V6 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V6_5a++++++++++++++++++++++

@ V6 (different net) minimum space is 0.09
EXT V6 < 0.09 NOT CONNECTED REGION
}
V6_6abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V6 NOT M6
M6andM7 = (M6 AND M7) INTERACT V6
BadV6 = RECTANGLE ENCLOSURE V6 M6  OUTSIDE ALSO
GOOD 0.015 OPPOSITE 0.015 OPPOSITE  0.015 OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE  0.02 OPPOSITE 0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV6 INTERACT M6andM7
}
V6_7abc++++++++++++++++++++++

@ V2 must within M3
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.7a, Vn.7b or Vn.7c
@ V6.7a, V2 minimum within M3 is 0.015
@ V6.7b, M3 minimum overlap past V2 for two opposite sides with either side >=0.01um, and < 0.015um  is 0.02
@ V6.7c, M3 minimum overlap past V2 for two opposite sides with the either side >=0um, and < 0.01um is 0.03
V6 NOT M7
M6andM7 = (M6 AND M7) INTERACT V6
BadV6 = RECTANGLE ENCLOSURE V6 M7  OUTSIDE ALSO
GOOD 0.015 OPPOSITE 0.015 OPPOSITE  0.015  OPPOSITE 0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE 0.02 OPPOSITE 0.01 OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV6 INTERACT M6andM7
}
V6_8++++++++++++++++++++++

@ At least two Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.26um
WM6 = WITH WIDTH M6 > 0.260
WM7 = WITH WIDTH M7 > 0.260
encVia = V6 INTERACT (WM6 OR WM7)
((M6 AND M7) ENCLOSE encVia) ENCLOSE V6 < 2
}
V6_9++++++++++++++++++++++

@ At least three Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.52um
WM6 = WITH WIDTH M6 > 0.520
WM7 = WITH WIDTH M7 > 0.520
encVia = V6 INTERACT (WM6 OR WM7)
((M6 AND M7) ENCLOSE encVia) ENCLOSE V6 < 3
}
V6_10++++++++++++++++++++++

@ At least four Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.645um
WM6 = WITH WIDTH M6 > 0.645
WM7 = WITH WIDTH M7 > 0.645
encVia = V6 INTERACT (WM6 OR WM7)
((M6 AND M7) ENCLOSE encVia) ENCLOSE V6 < 4
}
V6_16++++++++++++++++++++++

@At least two Vns with space <=0.16um when one of Mn or Mn+1 with both length and width >0.24um.
@Exclude non-square Vn and SRAM area.
X1a = WITH WIDTH M6  >0.24
X1b = WITH WIDTH M7  >0.24
WIDE = X1a OR X1b
X2 = (M7 AND M6) ENCLOSE V6_square
X3 =  V6_square INSIDE X2
X5c = EXT (V6_EMPTY INSIDE WIDE ) V6_EMPTY<=0.16 ABUT<90 REGION CONNECTED
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V6 >2
X7c=X2 ENCLOSE X7
X =((X2 NOT X6c) NOT X7c) ENCLOSE (V6_square INSIDE  WIDE )
X OUTSIDE INST
}
V6_17++++++++++++++++++++++

@ At least two Vns when either wide metal of Mn or Mn+1 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.
@ Exclude non-square Vn
WM6_L1 = ( M6 NOT WM6 ) TOUCH WM6
M6_ENCWM = (M6 INTERACT WM6) INTERACT V6_A
WM6_VEDGE = EXT [M6_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM6_EXT1 = EXT (WM6 COIN EDGE WM6_VEDGE) [V6_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM6_EXT2 = (EXT WM6 V6_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M6
V6_B = V6_square WITH EDGE WM6_EXT1
X1 =(M6 AND M7) ENCLOSE V6_square >1
X2 = ((M6 AND M7)  AND ( WM6_L1 AND WM6_EXP )) NOT X1
Y0=(M6 AND M7) ENCLOSE V6_square ==1
Y1 = SIZE (V6_square INTERACT Y0) BY 1.1 INSIDE OF M6 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM6)
VSING1= ((X2 INTERACT V6_B ==1) INTERACT Y2) OR ((X2 INTERACT WM6_EXT2) INTERACT V6_A)
VSING1 OUTSIDE INST
M7_ENCWM = (M7 INTERACT WM7) INTERACT V6_A2
WM7_VEDGE = EXT [M7_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM7_EXT1 = EXT (WM7_EMPTY COIN EDGE WM7_VEDGE) [V6_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM7_EXT2 = (EXT WM7_EMPTY V6_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M7
V6_B2 = V6_square WITH EDGE WM7_EXT1
X3 = ((M6 AND M7)  AND ( WM7_L1 AND WM7_EXP )) NOT X1
Y3 = SIZE (V6_square INTERACT Y0) BY 1.1 INSIDE OF M7 STEP 0.005
Y4= Y3 INTERACT (Y3 AND WM7)
VSING2=((X3 INTERACT V6_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM7_EXT2) INTERACT V6_A2)
VSING2 OUTSIDE INST
}
V7_1++++++++++++++++++++++

@ Fixed V7 size is 0.07
NOT RECTANGLE V7 == 0.07 BY == 0.07
}
V7_2++++++++++++++++++++++

@ Space between two V7 is 0.07
EXT V7 < 0.07 ABUT<90 SINGULAR REGION
}
V7_3++++++++++++++++++++++

@Space between Vns (with run length 0) at least two least two sides is 0.09, when array equal to or greater than 3x3.
@Two Via areas whose space is within 0.10um are considered to be in the same array. An array does
@ not have both row and column greater than or equal to 3 can apply smaller spacing  Vn.2  instead of  Vn.3
X = EXT (V7 INTERACT V7_array) V7< 0.090 OPPOSITE EXTENDED  0.001  REGION
Y =SIZE V7 BY 0.001
(Y INTERACT  V7_array)  INTERACT (X NOT Y) >2
}
V7_5++++++++++++++++++++++

@ V7 (different net) minimum space for run length > 0um is 0.1 (outside of SRAM)
X = EXT V7 < 0.1 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
V7_5a++++++++++++++++++++++

@ V7 (different net) minimum space is 0.09
EXT V7 < 0.09 NOT CONNECTED REGION
}
V7_6abc++++++++++++++++++++++

@ V2 must within M2
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.6a, Vn.6b or Vn.6c
@ V2.6a, V2 minimum within M2 is 0.015
@ Vn.6b	Mn overlap past Vn for two opposite sides with either side  >=0.01um, and < 0.015um  0.02
@ Vn.6c	Mn overlap past Vn for two opposite sides with either side >= 0um, and < 0.01um 0.03
V7 NOT M7
M7andM8 = (M7 AND M8) INTERACT V7
BadV7 = RECTANGLE ENCLOSURE V7 M7  OUTSIDE ALSO
GOOD 0.015  OPPOSITE 0.015 OPPOSITE   0.015 OPPOSITE  0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE 0.02  OPPOSITE 0.01  OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV7 INTERACT M7andM8
}
V7_7abc++++++++++++++++++++++

@ V2 must within M3
@  per Mn and Mn+1 intersection containing a Vn, must meet rule Vn.7a, Vn.7b or Vn.7c
@ V6.7a, V2 minimum within M3 is 0.015
@ V6.7b, M3 minimum overlap past V2 for two opposite sides with either side >=0.01um, and < 0.015um  is 0.02
@ V6.7c, M3 minimum overlap past V2 for two opposite sides with the either side >=0um, and < 0.01um is 0.03
V7 NOT M8
M7andM8 = (M7 AND M8) INTERACT V7
BadV7 = RECTANGLE ENCLOSURE V7 M8  OUTSIDE ALSO
GOOD 0.015 OPPOSITE 0.015 OPPOSITE  0.015 OPPOSITE  0.015 OPPOSITE
GOOD 0.02 OPPOSITE 0.01 OPPOSITE 0.02  OPPOSITE 0.01 OPPOSITE
GOOD 0.03 0.0  0.03 0.0
BadV7 INTERACT M7andM8
}
V7_8++++++++++++++++++++++

@ At least two Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.26um
WM7 = WITH WIDTH M7 > 0.260
WM8 = WITH WIDTH M8 > 0.260
encVia = V7 INTERACT (WM7 OR WM8)
((M7 AND M8) ENCLOSE encVia) ENCLOSE V7 < 2
}
V7_9++++++++++++++++++++++

@ At least three Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.52um
WM7 = WITH WIDTH M7 > 0.520
WM8 = WITH WIDTH M8 > 0.520
encVia = V7 INTERACT (WM7 OR WM8)
((M7 AND M8) ENCLOSE encVia) ENCLOSE V7 < 3
}
V7_10++++++++++++++++++++++

@ At least four Vn vias must connect Mn to Mn+1 when the Mn or Mn+1 width is > 0.645um
WM7 = WITH WIDTH M7 > 0.645
WM8 = WITH WIDTH M8 > 0.645
encVia = V7 INTERACT (WM7 OR WM8)
((M7 AND M8) ENCLOSE encVia) ENCLOSE V7 < 4
}
V7_16++++++++++++++++++++++

@ At least two Vns with space <=0.16um when one of Mn or Mn+1 with both length and width >0.24um.
@ Exclude non-square Vn and SRAM area.
X1a = WITH WIDTH M7  >0.24
X1b = WITH WIDTH M8  >0.24
WIDE = X1a OR X1b
X2 = (M7 AND M8) ENCLOSE V7_square
X3 =  V7_square INSIDE X2
X5c = EXT (V7_EMPTY INSIDE WIDE ) V7_EMPTY <=0.16 ABUT<90 REGION CONNECTED
X6c = X2 ENCLOSE X5c
X7= ((SIZE X3 BY 0.325) AND X2) ENCLOSE V7 >2
X7c=X2 ENCLOSE X7
X =((X2 NOT X6c) NOT X7c) ENCLOSE (V7_square INSIDE WIDE )
X OUTSIDE INST
}
V7_17++++++++++++++++++++++

@ At least two Vns  when either wide metal of Mn or Mn+1 with both length L>0.24um and width W>0.24um, and the distance D<=1.1um away from this wide metal.
@ Exclude non-square Vn
WM7_L1 = ( M7 NOT WM7 ) TOUCH WM7
M7_ENCWM = (M7 INTERACT WM7) INTERACT V7_A
WM7_VEDGE = EXT [M7_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM7_EXT1 = EXT (WM7 COIN EDGE WM7_VEDGE) [V7_A] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM7_EXT2 = (EXT WM7 V7_A < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M7
V7_B = V7_square WITH EDGE WM7_EXT1
X1 =(M7 AND M8) ENCLOSE V7_square >1
X2 = ((M7 AND M8)  AND ( WM7_L1 AND WM7_EXP )) NOT X1
Y0=(M7 AND M8) ENCLOSE V7_square ==1
Y1 = SIZE (V7_square INTERACT Y0) BY 1.1 INSIDE OF M7 STEP 0.005
Y2= Y1 INTERACT (Y1 AND WM7)
VSING1= ((X2 INTERACT V7_B ==1) INTERACT Y2) OR ((X2 INTERACT WM7_EXT2) INTERACT V7_A)
VSING1 OUTSIDE INST
M8_ENCWM = (M8 INTERACT WM8) INTERACT V7_A2
WM8_VEDGE = EXT [M8_ENCWM]  <1.1 ABUT<90 OPPOSITE NOTCH
WM8_EXT1 = EXT (WM8_EMPTY COIN EDGE WM8_VEDGE) [V7_A2_EMPTY] < 1.1 ABUT>=0 <90  OPPOSITE CONNECTED
WM8_EXT2 = (EXT WM8_EMPTY V7_A2_EMPTY < 1.1 ABUT>=0 <90  OPPOSITE REGION CONNECTED ) INSIDE M8
V7_B2 = V7_square WITH EDGE WM8_EXT1
X3 = ((M7 AND M8)  AND ( WM8_L1 AND WM8_EXP )) NOT X1
Y3 = SIZE (V7_square INTERACT Y0) BY 1.1 INSIDE OF M8 STEP 0.005
Y4= Y3 INTERACT (Y3 AND WM8)
VSING2= ((X3 INTERACT V7_B2 ==1) INTERACT Y4) OR (( X3 INTERACT WM8_EXT2) INTERACT V7_A2)
VSING2 OUTSIDE INST
}
TV2_1++++++++++++++++++++++

@ Fixed TV2 size is 0.36
NOT RECTANGLE TV2 == 0.36 BY == 0.36
}
TV2_2++++++++++++++++++++++

@ Space between two TV2 is 0.34
EXT TV2 < 0.34 ABUT<90 SINGULAR REGION
}
TV2_3++++++++++++++++++++++

@ Space between two TV2s is 0.50, in case TV2 array is larger than or equal to 3x3.
@ Two Via areas whose space is within 0.56um are considered to be in the same array.
TV2array = SIZE (SIZE TV2 BY 0.28 OVERUNDER) BY 0.85 UNDEROVER
EXT (TV2 IN TV2array) < 0.50 ABUT<90 SINGULAR REGION
}
TV2_4_5_6++++++++++++++++++++++

@ TV2 enclosure by Mn is 0.02
@ Extension of Mn line end outside of TV is 0.05
@ For TV2 located at the 90 degree corner, one side of metal extension
@ must be treated as end-of-line and the other side follows 0.01
RECTANGLE ENC TV2 M3 ABUT<90 OUTSIDE ALSO
GOOD 0.01 OPPOSITE 0.05 OPPOSITE 0.01 OPPOSITE 0.05 OPPOSITE
}
TV2_14++++++++++++++++++++++

@ At least 2 TV2 within M3 and TM2 intersection area.  One of the M3 and TM2 width > 1.8 um.
X1 = M3 WITH WIDTH >1.8
X2 = TM2 WITH WIDTH >1.8
Y1 =( M3 AND TM2) INTERACT X1
Y2 = ( M3 AND TM2) INTERACT X2
(Y1 OR Y2) INTERACT TV2 < 2
}
TM2_1++++++++++++++++++++++

@ TM2 width is 0.40
INT TM2 < 0.40 ABUT<90 SINGULAR REGION
}
TM2_2++++++++++++++++++++++

@ Space between two TM2s is 0.40
EXT TM2 < 0.40 ABUT<90 SINGULAR REGION
}
TM2_3_4_TV2_7++++++++++++++++++++++

@ TV2 enclosure by TM2 is 0.020
@ Extension of TM2 line end outside of TV2 is 0.03
@ For TV2 located at the 90 degree corner, one side of TM2
@ enclosure must be > 0.20 and the other side > 0.03
RECTANGLE ENC TV2 TM2 ABUT<90 OUTSIDE ALSO
GOOD 0.02 OPPOSITE 0.03 OPPOSITE 0.02 OPPOSITE 0.03 OPPOSITE
}
TM2_5++++++++++++++++++++++

@ Minimum space between two length > 1.5um parallel metal
@ lines with one or both metal line width is > 2um is 0.50
CMACRO TM56 TM2i 1.501 2.001 0.5
}
TM2_7++++++++++++++++++++++

@ Space between two length > 4.5um parallel metal lines with one or both metal line width is > 4.5um is 1.2.
CMACRO TM56 TM2i 4.501 4.501 1.2
}
TM2_8++++++++++++++++++++++

@ TM2 area is 0.56
AREA TM2 < 0.56
}
TM2_9++++++++++++++++++++++

@ Dielectric area(um2) enclosed by TM2 is 0.80
AREA ((HOLES TM2 INNER) NOT TM2) < 0.80
}
TM2_10_a++++++++++++++++++++++

@ Dummy pattern is required in case TM2 density is less than 20%.(INDMY or MARKG or MARKS) are excluded for this rule check
X = DENSITY (TM2i OR TM2DUMi) < 0.20 WINDOW 200 STEP 100 BACKUP PRINT density_report_TM2_10_a.log RDB density_report_TM2_10_a.db
X NOT (MARKG OR INDMY)
}
TM2_10_b++++++++++++++++++++++

@ Max. density is 85%
X = DENSITY (TM2i OR TM2DUMi) > 0.85 WINDOW 200 STEP 100 BACKUP PRINT density_report_TM2_10_b.log RDB density_report_TM2_10_b.db
X NOT (MARKG OR INDMY)
}
TM2_10a++++++++++++++++++++++

@ TM2 density  over the whole chip is >=20%
X=DENSITY (TM2i OR TM2DUMi)< 0.2 PRINT density_report_TM2_10a.log
X NOT MARKG
}
TM2_11++++++++++++++++++++++

@ MAX difference(%) between 2 adjacent 200um*200um area is 50%
X = DENSITY (TM2i OR TM2DUMi) >= 0 WINDOW 200 GRADIENT > 0.5 ABSOLUTE BACKUP PRINT density_report_TM2_11.log RDB density_report_TM2_11.db
X NOT MARKG
}
TM2_12++++++++++++++++++++++

@ Maximum line width is 12um
X = TM2 WITH WIDTH > 12
X NOT INTERACT MD
}
ALPA_1++++++++++++++++++++++

@ Minimum ALPA width is 2
INT ALPA_ALL < 2 ABUT<90 SINGULAR REGION
}
ALPA_2++++++++++++++++++++++

@ Minimum ALPA space is 2
EXT ALPA_ALL < 2 ABUT<89.9 SINGULAR REGION
}
ALPA_5++++++++++++++++++++++

@ Alpa minimum density with 100um*100um window is 10%, with exemption of touching inductor
checkregion = BORDER NOT INDMY
X = DENSITY (ALPAi OR ALDUM) < 0.10 WINDOW 100  BACKUP RDB density_report_ALPA_5.db
(X AND checkregion) NOT MARKG
}
ALPA_7++++++++++++++++++++++

@ Space between ALRDL and Lmark window is 10
(EXT ALRDL LOGO < 10 ABUT<90 SINGULAR REGION) NOT MARKG
}
ALPA_9++++++++++++++++++++++

@ ALPA min density is 10%
(DENSITY ( ALPAi OR ALDUM )  < 0.1) NOT MARKG
}
ALPA_10++++++++++++++++++++++

@ ALPA max density is 70%
(DENSITY ( ALPAi OR ALDUM )  > 0.7) NOT MARKG
}
ALPA_11++++++++++++++++++++++

@ Space between ALRDL and Alpa pad for bumping process is 10um
(EXT ALRDL ALPad < 10 ABUT>0<90 SINGULAR REGION) NOT MARKG
}
ALPA_12++++++++++++++++++++++

@ ALPA must be drawn layer.
DRC:1 NOT INTERACT ALPA_ALL
}
PA_1++++++++++++++++++++++

@ PA minimum size is 2um
(INT PA < 2.0 ABUT<90 SINGULAR REGION) NOT MARKG
}
PA_2++++++++++++++++++++++

@ Minimum space between two PAs is 2um
(EXT PA < 2.0 ABUT<90 SINGULAR REGION) NOT MARKG
}
PA_3++++++++++++++++++++++

@ PA enclosed by ALPA is 0.5um,outside is not allowed
X = ENC (PA INTERACT ALPAi ) ALPAi < 0.5 ABUT<90 SINGULAR REGION OUTSIDE ALSO
X NOT MARKG
}
PA_4++++++++++++++++++++++

@ PA enclosed by MTT2 is 0.5um,outside is not allowed
ENC PA MTT2 < 0.5 ABUT<90 SINGULAR REGION
(PA NOT MARKG) OUT EDGE MTT2
}
PA_10++++++++++++++++++++++

@ PA opening without ALPA above it is not allowed.
X = PA NOT ALPAi
X NOT MARKG
}
MD_1++++++++++++++++++++++

@ MD(PA2) enclosured by Alpa is 1um
ENC MD  ALPAi < 1.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
MD_2++++++++++++++++++++++

@ MD(PA2) minimum width is 14um
INT MD < 14.0 ABUT<90 SINGULAR REGION
}
MD_3++++++++++++++++++++++

@ MD (PA2) minimum space is 6um
EXT MD < 6.0 ABUT<90 SINGULAR REGION
}
MD_4_R++++++++++++++++++++++

@ MD (PA2) must be within BORDER(CHIPEDGE) is 8um
ENC MD BORDER < 8 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
MD_5++++++++++++++++++++++

@ MD (PA2) minimum space to PA is 1.7
EXT MD PA < 1.7 SINGULAR REGION
}
MD_6_R++++++++++++++++++++++

@ MD (PA2) wire-bond pad opening maximum to CHIPEDGE is 200um
X = SIZE BD_WITHHOLE BY -200
X AND MD
}
MD_8++++++++++++++++++++++

@ Inductor is prohibited under MD (PA2) wire-bond pad opening
INDMY AND MD
}
MD_10++++++++++++++++++++++

@ MD (passivation 2) must be a drawn layer.
DRC:1 NOT INTERACT (MD NOT MARKG)
}
MD_11++++++++++++++++++++++

@ MD(PA2) is prohibited to overlap or touch with PA(PA size <3um)
X = PA INTERACT MD
INT X < 3 ABUT<90 SINGULAR REGION
}
ESD_1++++++++++++++++++++++

@ ESD1 minimum width is 0.33um.
INT ESD1 < 0.33 ABUT<90 SINGULAR REGION
}
ESD_2++++++++++++++++++++++

@ ESD1 minimum space is 0.33um.
EXT ESD1 < 0.33 ABUT<90 SINGULAR REGION
}
ESD_3++++++++++++++++++++++

@ ESD1 minimum area is 0.7 square um.
AREA ESD1 < 0.7
}
ESD_4++++++++++++++++++++++

@ Minimum enclosed area of ESD1 is 0.7 square um.
ESD1HOLE = HOLES ESD1 INNER
AREA (ESD1HOLE NOT ESD1) < 0.7
}
ESD_5++++++++++++++++++++++

@ Minimum space between an ESD1 implant to an N-channel gate is 0.2um. Touching is not allowed.
X = EXT ESD1 NGATE < 0.2 ABUT<90 SINGULAR REGION
Y = NGATE INTERACT ESD1
X OR Y
}
ESD_6++++++++++++++++++++++

@ ESD1 must be enclosed by AA at least 0.2um.
ENC (ESD1 NOT MARKG) AA < 0.2 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
ESD_7++++++++++++++++++++++

@ ESD1 is not allowed to overlap with SP.
ESD1 AND SP
}
ESD_8++++++++++++++++++++++

@ ESD1 should be drawn directly at the location to have ESD implant. It should not interact with GT.
ESD1 INTERACT GT
}
ESD_9++++++++++++++++++++++

@ CT enclosure by ESD1 >=0.2
ENC CT  ESD1 <0.2  ABUT<90 REGION SINGULAR
}
ESD_9a_R++++++++++++++++++++++

@ Recommended CT enclosure by ESD1 >=0.4
ENC CT  ESD1 <0.4  ABUT<90 REGION SINGULAR
}
HRP_2++++++++++++++++++++++

@ Minimum extension from HRP region beyond a poly resistor region is 0.22
ENC HRPR HRP < 0.22 ABUT<90 SINGULAR REGION
}
HRP_3_4++++++++++++++++++++++

@ Minimum clearance from HRP region to Polygate of NMOS/PMOS is 0.20
GT_MOS = GT INTERACT GATE
EXT HRP GT_MOS < 0.20 ABUT SINGULAR REGION
}
HRP_5++++++++++++++++++++++

@ Minimum and maximum P+ implant for pickup overlap with SAB is 0.30
SP_HRP = SP INTERACT HRP
SAB_HRP = SAB INTERACT HRP
X = SP_HRP AND SAB_HRP
INT X < 0.30 ABUT<90 SINGULAR REGION
SIZE X BY 0.15 UNDEROVER
}
HRP_7++++++++++++++++++++++

@ Minimum width of Poly region for high resistance poly resistor is 2.00
X = HR_GT INSIDE EDGE SAB
INT X < 2.0 OPPOSITE REGION
}
HRP_9++++++++++++++++++++++

@ SN SP not allowed in HRPDMY. When check this rule, size down HRPDMY by 0.3um along current direction.
HRP_END = SIZE ((GT INTERACT HRPDMY) NOT HRPDMY) BY 0.3
HRP_MID = (GT INTERACT HRPDMY) NOT HRP_END
(SN OR SP) AND HRP_MID
}
HRP_11++++++++++++++++++++++

@ HRP minimum space is 0.18um
EXT HRP < 0.18 SINGULAR REGION
}
HRP_12++++++++++++++++++++++

@ Inside HRP resistor GT area, HRPDMY and SAB must be exactly coincident.
SAB_AND_HRP = (SAB INTERACT (HRP AND HRPDMY)) AND GT
DMY_AND_HRP = HRPDMY AND GT
SAB_AND_HRP XOR DMY_AND_HRP
}
HRP_13++++++++++++++++++++++

@ HRP minimum width is 0.18um
INT HRP < 0.18 SINGULAR REGION
}
MTT2_1++++++++++++++++++++++

@ Minimum width of MTT is 1.5.
INT MTT2 < 1.5 SINGULAR REGION
}
MTT2_2++++++++++++++++++++++

@ Minimum space of MTT is 1.5.
EXT MTT2 < 1.5 ABUT<89.9  SINGULAR REGION
}
MTT2_2a++++++++++++++++++++++

@ Minimum space between two MTTs having parallel segments >2um with one or both MTT width >=16um is 2um.
X = MTT2 WITH WIDTH >= 16
Y = EXT MTT2 X < 2 OPPOSITE REGION PARA ONLY
Z =COPY Y
Z WITH EDGE (LENGTH Z > 2)
}
MTT2_3_4++++++++++++++++++++++

@ Minimum extension of MTT beyond top via is 0.30.
ENC TV2 MTT2 < 0.30 REGION OUTSIDE ALSO
}
MTT2_5++++++++++++++++++++++

@ Minimum space from MTT used as inductor to other MTT region is 30um.
EXT MTT_IN (MTT2 NOT INTERACT MTT_IN) < 30 ABUT<90 SINGULAR REGION
}
MTT2_6++++++++++++++++++++++

@ Minimum area of MTT region is 2.25 square um.
AREA MTT2 < 2.25
}
MTT2_7++++++++++++++++++++++

@ Minimum density of MTT is 30%, with check window 200um*200um, and step 100um.
X = DENSITY (MTT2i OR MTT2DMi) < 0.30 WINDOW 200 STEP 100 BACKUP PRINT density_report_MTT2.log RDB density_report_MTT2_7.db
X NOT MARKG
}
MTT2_7a++++++++++++++++++++++

@ MTT2 density  over the whole chip	is >=20%
X= DENSITY (MTT2i OR MTT2DMi)<0.2 PRINT density_report_MTT2_7a.log
X  NOT MARKG
}
MTT2_7b++++++++++++++++++++++

@ INDMY area density in window size 840um*840um with step 420um is <=20%
X= DENSITY INDMY>0.20 WINDOW 840 STEP 420 BACKUP PRINT density_report_MTT2_7b.log RDB density_report_MTT2_7b.db
X  NOT MARKG
}
MTT2_8++++++++++++++++++++++

@ All devices listed in device table inside inductor region are prohibited.
X = GATE INTERACT CT
(GATE NOT X) AND INDMY
RESAA AND INDMY
RESNW AND INDMY
RESP1 AND INDMY
PLRES AND INDMY
DIFRES AND INDMY
DSTR AND INDMY
BIPOLA AND INDMY
HRPDMY AND INDMY
MOMDMY AND INDMY
M1R AND INDMY
M2R AND INDMY
M3R AND INDMY
M4R AND INDMY
M5R AND INDMY
M6R AND INDMY
M7R AND INDMY
M8R AND INDMY
}
MTT2_9++++++++++++++++++++++

@ Minimum extension of dummy layer INDMY beyond MTT region used as inductor is 15um.
X = MTT2 INTERACT INDMY
ENC X INDMY < 15 ABUT<90 SINGULAR REGION
}
MTT2_11++++++++++++++++++++++

@ Maximum MTT width is 50um.
X = MTT2 WITH WIDTH > 50
X NOT INTERACT MD
}
MTT2_12++++++++++++++++++++++

@ Maximum MTT density on the whole chip including dummy is 55%.
X =DENSITY (MTT2i OR MTT2DMi) > 0.55 PRINT density_report_MTT2_fullchip.log
X NOT MARKG
}
EFU_1_2++++++++++++++++++++++

@ (GT AND GTFUSE) width (vertical to current flow)=0.045
@ (GT AND GTFUSE) length (parallel to current flow) is	=0.222
EXT ((GTFUSE NOT GT) TOUCH OUTSIDE EDGE GT)<0.222 ABUT<90 REGION
NOT RECTANGLE (GT AND GTFUSE) ==0.045 BY ==0.222
}
EFU_3++++++++++++++++++++++

@ Only SP implant is allowed in EFUSE area (NW is not allowed in EFUSE area)
@ Highlight part: (EFUSE AND GT) NOT (SP NOT NW)
(EFUSE AND GT) NOT (SP NOT NW)
}
EFU_4++++++++++++++++++++++

@ GTFUSE(81;1) should be within EFUSE area to identify EFUSE function area.
GTFUSE NOT INSIDE EFUSE
}
LD_1a_G++++++++++++++++++++++

@ Min Effective Channel length for NLDMOS transistors is 0.28
INT NGATE_LDE < 0.28 ABUT < 90 SINGULAR REGION
}
LD_1b_G++++++++++++++++++++++

@ Min Effective Channel length for PLDMOS transistors is 0.26
INT PGATE_LDE < 0.26 ABUT < 90 SINGULAR REGION
}
LD_2_G++++++++++++++++++++++

@ Min Drain AA width along source/drain direction for LDMOS transistors is 0.2
X = (AA NOT GATE_LD) COIN EDGE STI
INT X  < 0.2 OPPOSITE REGION
}
LD_3_G++++++++++++++++++++++

@ Fixed STI width along source/drain direction is 0.15
STI NOT TOUCH (AA NOT GATE_LD) == 1
}
LD_4_G++++++++++++++++++++++

@ Min Overlap of GT and STI along source/drain direction is 0.05
ENC STI_3 GT < 0.05 ABUT < 90 REGION OPPOSITE
}
LD_5_G++++++++++++++++++++++

@ Fixed N LDMOS gate overlaps with NW in source/drain direction length is 0.22.
@ Fixed P LDMOS gate not in NW in source/drain direction length is 0.22
X = NGATE_LD AND NW
SIZE X BY 0.11 UNDEROVER
INT X < 0.22 SINGULAR REGION
Y = PGATE_LD NOT NW
SIZE Y BY 0.11 UNDEROVER
INT Y < 0.22 SINGULAR REGION
}
LD_6_G++++++++++++++++++++++

@ Min LDMOS channel width is 2
X = GATE_LD COIN EDGE GT
LENGTH X < 2
}
LD_7a_G++++++++++++++++++++++

@ Min Space between LDMOS source side AA and pickup AA along source/drain direction is 0.6
X = AA ENCLOSE GATE_LD
Y = X INSIDE EDGE GT
Z = X NOT TOUCH EDGE Y
EXT Z TAP < 0.6 ABUT < 90 REGION
}
LD_7b_G++++++++++++++++++++++

@ Min Space between LDMOS source side AA and pickup AA along gate poly direction is 0.9
X = GATE_LD COIN EDGE GT
Y = INT X GATE_LD < 0.005 ABUT INTERSECTING ONLY REGION
Z = ((AA ENCLOSE GATE_LD) TOUCH EDGE Y) NOT TOUCH EDGE GT
EXT Z (TAP NOT COIN EDGE GATE) < 0.9 ABUT < 90 REGION
}
LD_8_G++++++++++++++++++++++

@ Min NW extension outside of N LDMOS AA along gate poly direction is 0.25.
@ Min NW space to P LDMOS AA along gate poly direction is 0.25
X = AA TOUCH EDGE STI
Y = INT X AA < 0.005 ABUT INTERSECTING ONLY REGION
Z = AA TOUCH EDGE Y
M = Z NOT TOUCH EDGE X
ENC M NW < 0.25 ABUT < 90 REGION
EXT M NW < 0.25 ABUT < 90 REGION
}
LD_9_G++++++++++++++++++++++

@ LDMOS block layer (LDBK) is used to identify LDMOS function area.
@ Min LDBK extension outside of (gate, source, drain)'s AA is 0.4
X = HOLES (NW INTERACT PGATE_LD)
Y = NW INTERACT NGATE_LD
Z = AA INTERACT (X OR Y)
ENC Z LDBK < 0.4 ABUT < 90 REGION
}
DFM_4_V1++++++++++++++++++++++

@ Insert one V1 if single V1 and (W1 >= 5W2, or W2 >= 5W1).
CMACRO DFM4 M1 M2 V1
}
DFM_4_V2++++++++++++++++++++++

@ Insert one V2 if single V2 and (W2 >= 5W3, or W3 >= 5W2).
CMACRO DFM4 M2 M3 V2
}
DFM_4_V3++++++++++++++++++++++

@ Insert one V3 if single V3 and (W3 >= 5W4, or W4 >= 5W3).
CMACRO DFM4 M3 M4 V3
}
DFM_4_V4++++++++++++++++++++++

@ Insert one V4 if single V4 and (W4 >= 5W5, or W5 >= 5W4).
CMACRO DFM4 M4 M5 V4
}
DFM_4_V5++++++++++++++++++++++

@ Insert one V5 if single V5 and (W5 >= 5W6, or W6 >= 5W5).
CMACRO DFM4 M5 M6 V5
}
DFM_4_V6++++++++++++++++++++++

@ Insert one V6 if single V6 and (W6 >= 5W7, or W7 >= 5W6).
CMACRO DFM4 M6 M7 V6
}
DFM_4_V7++++++++++++++++++++++

@ Insert one V7 if single V7 and (W7 >= 5W8, or W8 >= 5W7).
CMACRO DFM4 M7 M8 V7
}
DFM_5_M1++++++++++++++++++++++

@ Maximum length of parallel metal(M1) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM =(M1 OR M2) INTERACT ( MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM1_para = EXT (M1 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM1_para > 20
MINM1_para WITH EDGE X
}
DFM_5_M2++++++++++++++++++++++

@ Maximum length of parallel metal(M2) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM = ((M2 OR M1) OR M3) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM2_para = EXT (M2 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM2_para > 20
MINM2_para WITH EDGE X
}
DFM_5_M3++++++++++++++++++++++

@ Maximum length of parallel metal(M3) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM = ((M3 OR M2) OR M4) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM3_para = EXT (M3 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM3_para > 20
MINM3_para WITH EDGE X
}
DFM_5_M4++++++++++++++++++++++

@ Maximum length of parallel metal(M4) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM = ((M4 OR M3)  OR M5) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM4_para = EXT (M4 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM4_para > 20
MINM4_para WITH EDGE X
}
DFM_5_M5++++++++++++++++++++++

@ Maximum length of parallel metal(M5) lines with minimum spacing is 20(Exclude MOM and Inductor device)
MOM = ((M5 OR M4) OR M6) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM5_para = EXT (M5 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM5_para > 20
MINM5_para WITH EDGE X
}
DFM_5_M6++++++++++++++++++++++

@ Maximum length of parallel metal(M6) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM = ((M6 OR M5) OR M7) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM6_para = EXT (M6 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM6_para > 20
MINM6_para WITH EDGE X
}
DFM_5_M7++++++++++++++++++++++

@ Maximum length of parallel metal(M7) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM = ((M7 OR M6) OR M8) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM7_para = EXT (M7 NOT ((MOM OR INDMY) OR MOMDMY))== 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM7_para > 20
MINM7_para WITH EDGE X
}
DFM_5_M8++++++++++++++++++++++

@ Maximum length of parallel metal(M8) lines with minimum spacing is 20 (Exclude MOM and Inductor device)
MOM = (M8 OR M7) INTERACT (MnPIN INTERACT (SIZE MOMDMY BY 0.114))
MINM8_para = EXT (M8 NOT ((MOM OR INDMY) OR MOMDMY)) == 0.07 OPPOSITE REGION PARA ONLY
X = LENGTH MINM8_para > 20
MINM8_para WITH EDGE X
}
DFM_1++++++++++++++++++++++

@ If channel length < 0.2um, channel width<=0.45, space between L-shaped AA to GT in the same MOS is 0.05 (Waive the violations in SRAM area)
L1 = AA INSIDE EDGE GT
L2 = LENGTH L1 < 0.2
L3 = GATE WITH EDGE L2 >= 2
L4 = GT  COIN EDGE L3
L5 = LENGTH L4 <= 0.45
L6 = L3 WITH EDGE L5
LAA_ = (U_edge_dfm  INTERACT L6) TOUCH AAconerdfm == 1
LAA = U_edgedfm COIN EDGE LAA_
(LENGTH LAA < 0.05) NOT INSIDE EDGE INST
}
DFM_2++++++++++++++++++++++

@ If channel length < 0.2um, channel width<=0.45um, and L-shape GT length ( L >=0.055um), space between L-shaped GT to AA in the same MOS is 0.05. (Waive the violations in SRAM area)
L1 = AA INSIDE EDGE GT
L2 = LENGTH L1  < 0.2
L3 = GATE WITH EDGE L2 >= 2
L4 = GT COIN EDGE L3
L5 = LENGTH L4 <= 0.45
L6 = L3 WITH EDGE L5
LGT_ = (U_edge_dfm INTERACT L6) TOUCH GTconerdfm == 1
LGT = U_edgedfm COIN EDGE LGT_
X = LENGTH LGT <0.05
Y =EXPAND EDGE X OUTSIDE BY 0.001
Z =  LENGTH (UG_edge_dfm NOT INTERACT GATE) >=0.055
M =EXPAND EDGE Z INSIDE BY 0.001
(Y INTERACT M) NOT INST
}
DFM_1a++++++++++++++++++++++

@ If MOS poly channel length <0.02um and channel width > 0.45um, min space between L-shaped AA to GT in the same MOS is 0.05.
L1 = AA INSIDE EDGE GT
L2 = LENGTH L1< 0.2
L3 = GATE WITH EDGE L2 >= 2
L4 = GT COIN EDGE L3
L5 = LENGTH L4 > 0.45
L6 = L3 WITH EDGE L5
LAA_ = (U_edge_dfm INTERACT L6) TOUCH AAconerdfm == 1
LAA = U_edgedfm COIN EDGE LAA_
LENGTH LAA < 0.05
}
DFM_2a++++++++++++++++++++++

@ If channel length < 0.2um, channel width >0.45um, and L-shape GT length ( L >=0.055um), space between L-shaped GT to AA in the same MOS is 0.05
L1 = AA INSIDE EDGE GT
L2 = LENGTH L1 < 0.2
L3 = GATE WITH EDGE L2 >= 2
L4 = GT COIN EDGE L3
L5 = LENGTH L4 > 0.45
L6 = L3 WITH EDGE L5
LGT_ = (U_edge_dfm INTERACT L6) TOUCH GTconerdfm == 1
LGT = U_edgedfm COIN EDGE LGT_
X =LENGTH LGT < 0.05
Y =EXPAND EDGE X OUTSIDE BY 0.001
Z =  LENGTH (UG_edge_dfm NOT INTERACT GATE) >=0.055
M =EXPAND EDGE Z INSIDE BY 0.001
Y INTERACT M
}
DFM_3++++++++++++++++++++++

@ Minimum Extension of poly outside of AA to form poly end-cap is 0.10  Exclude inside inductor (layer: INDMY) and exclude inside LDMOS(layer: LDBK). .
ENC ((AA NOT (INDMY OR LDBK)) COIN EDGE GATE) (GT NOT (INDMY OR LDBK)) < 0.10 ABUT<90  REGION
}
DFM_6++++++++++++++++++++++

@ CT minimum within M1 is 0.025
RECTANGLE ENCLOSURE CTM1 M1 SINGULAR OUTSIDE ALSO
GOOD 0.025  0.025   0.025  0.025
}
DFM_7_AA++++++++++++++++++++++

@ For any geometry on AA,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE AA ANGLE1 > 0 LENGTH1 < 0.06 ANGLE2 > 0 WITH LENGTH < 0.06
}
DFM_7_GT++++++++++++++++++++++

@ For any geometry on GT,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE GT ANGLE1 > 0 LENGTH1 < 0.04 ANGLE2 > 0 WITH LENGTH < 0.04
}
DFM_7_NW++++++++++++++++++++++

@ For any geometry on NW,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE NW ANGLE1 > 0 LENGTH1 < 0.33 ANGLE2 > 0 WITH LENGTH < 0.33
}
DFM_7_M1++++++++++++++++++++++

@ For any geometry on M1,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M1 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M2++++++++++++++++++++++

@ For any geometry on M2,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M2 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M3++++++++++++++++++++++

@ For any geometry on M3,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M3 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M4++++++++++++++++++++++

@ For any geometry on M4,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M4 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M5++++++++++++++++++++++

@ For any geometry on M5,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M5 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M6++++++++++++++++++++++

@ For any geometry on M6,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M6 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M7++++++++++++++++++++++

@ For any geometry on M7,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M7 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_7_M8++++++++++++++++++++++

@ For any geometry on M8,an edge of length < 1.0xWmin can not have any adjacent edge with length < 1.0xWmin
CONVEX EDGE M8 ANGLE1 > 0 LENGTH1 < 0.07 ANGLE2 > 0 WITH LENGTH < 0.07
}
DFM_8++++++++++++++++++++++

@ GT Min length for 0.9/1.1/1.2V N/P MOS transistors (std, high, or low VT) is 0.044
X = GT IN EDGE (AA NOT (DG OR TG))
INT X < 0.044 ABUT<90 REGION
}
DFM_9++++++++++++++++++++++

@ Minimum Extension of AA outside of GT is 0.07 Exclude gate within LDMOS region (layer: LDBK) and within inductor area (layer: INDMY).
ENC ((GT OUT INST) NOT (LDBK OR INDMY)) (AA NOT (LDBK OR INDMY)) < 0.07 ABUT<90 SINGULAR REGION
}
DFM_10++++++++++++++++++++++

@ Distance from poly to a perpendicular AA "U" inside vertex is 0.09,
@ where the AA vertex distance is <= 0.210um.
AA_NOTCH = EXT AA <= 0.210 NOTCH OPPOSITE REGION
AA_EDGE  = CONVEX EDGE AA ANGLE1>269.9 <270.1  ANGLE2>269.9 <270.1 WITH LENGTH<= 0.210
AA_REGION = EXPAND EDGE AA_EDGE OUTSIDE BY 0.001
X = EXT (GT INTERACT AA ) AA_EDGE< 0.09 ABUT<90 OPPOSITE REGION
(X ENCLOSE AA_REGION) INSIDE AA_NOTCH
}
DFM_12++++++++++++++++++++++

@ poly minimum overlap past AA when poly to AA inner vertex distance < 0.040um is 0.13
gtextaa = ENC AA GT < 0.13 OPPOSITE REGION
gatespcaa = EXT GATE AA < 0.04 ABUT==90 PERP ONLY REGION
gtextaa  WITH EDGE (gtextaa TOUCH EDGE gatespcaa)
}
DFM_13++++++++++++++++++++++

@ CT array minimum space to CT array for run length > 0.34um is 0.18. CT array is formed by logic operation (((all CTs su0.09) sd0.3) su0.21).
CT_array = SIZE ( SIZE (SIZE CT  BY 0.09) BY -0.3) BY 0.21
X = EXT CT_array < 0.18 ABUT<90 OPPOSITE REGION
Y = LENGTH X > 0.34
X COIN EDGE Y
}
DFM_14++++++++++++++++++++++

@ Minimum space between AA region and contact overlap poly is 0.05
EXT (INTERCT OUT INST) AA < 0.050 ABUT<90 SINGULAR REGION
}
DFM_15++++++++++++++++++++++

@ 0.9/1.1/1.2V device minimum space between gate region and contact overlap AA is 0.050
EXT GATE (ACT_CT OUT INST) < 0.050 ABUT<90 SINGULAR REGION
}
DFM_28++++++++++++++++++++++

@ M1 minimum overlap past CT for the sides with M1 size >= 0.12 is 0.015
Over12_edge = INT (M1)  < 0.12  OPPOSITE
ENC CT over12_edge < 0.015 REGION
}
DFM_29_V1++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V1_INTER= V1 INSIDE (M1 AND M2)
X = (M1 AND M2) INTERACT V1_INTER  <2
X OUTSIDE INST
}
DFM_29_V2++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V2_INTER= V2 INSIDE (M2 AND M3)
X = (M3 AND M2) INTERACT V2_INTER <2
X OUTSIDE INST
}
DFM_29_V3++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V3_INTER= V3 INSIDE (M3 AND M4)
X =(M3 AND M4)  INTERACT V3_INTER <2
X OUTSIDE INST
}
DFM_29_TV2++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
TV2_INTER= TV2 INSIDE (TM2 AND M8)
X = (TM2 AND M8) INTERACT TV2_INTER  <2
X OUTSIDE INST
}
DFM_29_V4++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V4_INTER= V4 INSIDE (M5 AND M4)
X = (M5 AND M4) INTERACT V4_INTER <2
X OUTSIDE INST
}
DFM_29_V5++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V5_INTER= V5 INSIDE (M5 AND M6)
X = (M5 AND M6) INTERACT V5_INTER <2
X OUTSIDE INST
}
DFM_29_V6++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V6_INTER= V6 INSIDE (M6 AND M7)
X =(M6 AND M7) INTERACT V6_INTER   <2
X OUTSIDE INST
}
DFM_29_V7++++++++++++++++++++++

@ At least two vias (Vn, TV1, TV2, n=1~7) in Mn and Mn+1 (M1, Mn, n=2~8, TM1, TM2) intersection area.
@ (This rule is not applicable for SRAM region, but SRAM region should follow main rule: V1.16, V1.17, Vn.16, Vn.17, TV1.13, TV2.13, TV2.14)
V7_INTER= V7 INSIDE (M7 AND M8)
X = (M7 AND M8) INTERACT V7_INTER <2
X OUTSIDE INST
}
DFM_18++++++++++++++++++++++

@ M1 minimum width is 0.08
INT M1  < 0.08 ABUT<90 SINGULAR REGION
}
DFM_19++++++++++++++++++++++

@ M1 minimum space is 0.08
EXT (M1 OUTSIDE SRAM) < 0.08 ABUT<90 SINGULAR REGION
}
DFM_20++++++++++++++++++++++

@ Space between two (run length > 0.3um) parallel M1 lines with both metal lines width > 0.22um is 0.12.
M1Si = EXT M1W < 0.12 OPPOSITE REGION PARA ONLY
M1S = M1Si NOT IN  INST
M1S WITH EDGE (LENGTH M1S > 0.3)
}
DFM_21++++++++++++++++++++++

@ V1 (different net) minimum space for run length > 0 is 0.11 (outside of SRAM)
X =EXT V1  < 0.11 NOT CONNECTED OPPOSITE REGION
X  OUTSIDE INST
}
DFM_22_M2++++++++++++++++++++++

@ M2 minimum width is 0.08
INT M2  < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M2++++++++++++++++++++++

@ M2 minimum space is 0.08
EXT (M2 OUTSIDE INST) < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M2++++++++++++++++++++++

@ Minimum space between two length > 0.3um parallel metal
@ lines with both metal line width is > 0.22um is 0.12
M2Si = EXT M2W < 0.12 OPPOSITE REGION PARA ONLY
M2S =COPY M2Si
M2S WITH EDGE (LENGTH M2S > 0.3)
}
DFM_25_V2++++++++++++++++++++++

@ V2 (different net) minimum space for run length > 0 is 0.11 (outside of SRAM)
X =EXT V2 < 0.11 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
DFM_22_M3++++++++++++++++++++++

@ M3 minimum width is 0.08
INT M3 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M3++++++++++++++++++++++

@ M3 minimum space is 0.08
EXT M3 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M3++++++++++++++++++++++

@ Minimum space between two length > 0.3um parallel metal
@ lines with  both metal line width is >0.22um is 0.12
M3Si = EXT  M3W < 0.12 OPPOSITE REGION PARA ONLY
M3S = COPY M3Si
M3S WITH EDGE (LENGTH M3S > 0.3)
}
DFM_25_V3++++++++++++++++++++++

@ V3 (different net) minimum space for run length > 0 is 0.11
X =EXT V3 < 0.11 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
DFM_22_M4++++++++++++++++++++++

@ M4 minimum width is 0.08
INT M4 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M4++++++++++++++++++++++

@ M4 minimum space is 0.08
EXT M4 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M4++++++++++++++++++++++

@ Minimum space between two length > 0.3um parallel metal
@ lines with both metal line width is > 0.22um is 0.12
M4Si = EXT  M4W < 0.12 OPPOSITE REGION PARA ONLY
M4S = COPY  M4Si
M4S WITH EDGE (LENGTH M4S > 0.3)
}
DFM_25_V4++++++++++++++++++++++

@ V4 (different net) minimum space for run length > 0 is 0.11
X=EXT V4 < 0.11 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
DFM_22_M5++++++++++++++++++++++

@ M5 minimum width is 0.08
INT M5 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M5++++++++++++++++++++++

@ M5 minimum space is 0.08
EXT M5 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M5++++++++++++++++++++++

@ Minimum space between two length > 0.3um parallel metal
@ lines with  both metal line width is > 0.22um is 0.12
M5Si = EXT M5W < 0.12 OPPOSITE REGION PARA ONLY
M5S = COPY M5Si
M5S WITH EDGE (LENGTH M5S > 0.3)
}
DFM_25_V5++++++++++++++++++++++

@ V5 (different net) minimum space for run length > 0 is 0.11
X= EXT V5 < 0.11 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
DFM_22_M6++++++++++++++++++++++

@ M6 minimum width is 0.08
INT M6 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M6++++++++++++++++++++++

@ M6 minimum space is 0.08
EXT M6 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M6++++++++++++++++++++++

@ Minimum space between two length >= 0.3um parallel metal
@ lines with both metal line width is >= 0.22um is 0.12
M6Si = EXT M6W < 0.12 OPPOSITE REGION PARA ONLY
M6S = COPY M6Si
M6S WITH EDGE (LENGTH M6S > 0.3)
}
DFM_25_V6++++++++++++++++++++++

@ V6 (different net) minimum space for run length > 0 is 0.11
X =EXT V6 < 0.11 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
DFM_22_M7++++++++++++++++++++++

@ M7 minimum width is 0.08
INT M7 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M7++++++++++++++++++++++

@ M7 minimum space is 0.08
EXT M7 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M7++++++++++++++++++++++

@ Minimum space between two length > 0.3um parallel metal
@ lines with one or both metal line width is > 0.22um is 0.12
M7Si = EXT M7W < 0.12 OPPOSITE REGION PARA ONLY
M7S = COPY M7Si
M7S WITH EDGE (LENGTH M7S > 0.3)
}
DFM_25_V7++++++++++++++++++++++

@ V7 (different net) minimum space for run length > 0 is 0.11
X =EXT V7 < 0.11 NOT CONNECTED OPPOSITE REGION
X OUTSIDE INST
}
DFM_22_M8++++++++++++++++++++++

@ M8 minimum width is 0.08
INT M8 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_23_M8++++++++++++++++++++++

@ M8 minimum space is 0.08
EXT M8 < 0.08 ABUT<90 SINGULAR REGION
}
DFM_24_M8++++++++++++++++++++++

@ Minimum space between two length > 0.3um parallel metal
@ lines with both metal line width is > 0.22um is 0.12
M8Si = EXT M8W < 0.12 OPPOSITE REGION PARA ONLY
M8S = COPY M8Si
M8S WITH EDGE (LENGTH M8S > 0.3)
}
DFM_26++++++++++++++++++++++

@ For parallel long NW (length >50um), must make NW width larger than 0.89um or NW to NW space larger than 0.89um
X1 = EXT NW < 0.89 OPPOSITE REGION PARA ONLY
X2 = LENGTH X1 > 50
X3 = EXPAND EDGE X2 OUTSIDE BY 0.89
X4 = X3 NOT INTERACT (X3 NOT NW)
X5 = INT X2 < 0.89 REGION
X5 NOT INTERACT X4
}
DUMC_1++++++++++++++++++++++

@ Dummy AA should comply with AA.1, AA.4a rules
@ Min Dummy AA width is 0.06 (AA.1)
@ Min Dummy AA space is 0.08 (AA.4a)
INT AADUM < 0.06 ABUT < 90 SINGULAR REGION
EXT AADUM < 0.08 ABUT < 90 SINGULAR REGION
}
DUMC_2++++++++++++++++++++++

@ Dummy AA must not touch (AA GT LOGO PTCT MARKG RESP1 RESNW PLRES HRPDMY).
X = (AA OR GT) OR ((LPM OR HRPDMY) OR ((RESP1 OR PLRES) OR RESNW))
AADUM INTERACT X
}
DUMC_3++++++++++++++++++++++

@ Dummy AA cannot straddle N-Well boundaries.
AADUM CUT NW
}
DUMC_5++++++++++++++++++++++

@ Dummy AA space to AA >=0.710
EXT AADUM AA < 0.71 ABUT < 90 SINGULAR REGION
}
DUMC_6++++++++++++++++++++++

@ Dummy AA space to (GT, LOGO, PTCT, MARKG, RESP1, RESNW,  PLRES, HRPDMY) >=0.220
EXT AADUM GT < 0.22 ABUT < 90 SINGULAR REGION
EXT AADUM LPM < 0.22 ABUT < 90 SINGULAR REGION
EXT AADUM RESP1 < 0.22 ABUT < 90 SINGULAR REGION
EXT AADUM RESNW < 0.22 ABUT < 90 SINGULAR REGION
EXT AADUM PLRES < 0.22 ABUT < 90 SINGULAR REGION
EXT AADUM HRPDMY < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_7++++++++++++++++++++++

@ Dummy AA space to GTFUSE >=3.330
EXT AADUM GTFUSE < 3.33 ABUT < 90 SINGULAR REGION
}
DUMC_8++++++++++++++++++++++

@ Dummy AA space to NW >=0.260
EXT AADUM NW < 0.26 ABUT < 90 SINGULAR REGION
}
DUMC_10++++++++++++++++++++++

@ Dummy AA cannot insert at RESNW area
AADUM AND RESNW
}
DUMC_11++++++++++++++++++++++

@ Dummy AA should not be larger than 20x20um
ENCLOSE RECTANGLE AADUM 20.001 20.001
}
DUMC_12++++++++++++++++++++++

@ Dummy GT must not touch (GT, AA, LOGO, PTCT, MARKG, RESAA, RESNW, DIFRES)
GTDUM INTERACT GT
GTDUM INTERACT AA
GTDUM INTERACT LPM
GTDUM INTERACT RESAA
GTDUM INTERACT RESNW
GTDUM INTERACT DIFRES
}
DUMC_13++++++++++++++++++++++

@ Dummy GT minimum width >=0.044
INT GTDUM < 0.044 ABUT <90 SINGULAR REGION
}
DUMC_14++++++++++++++++++++++

@ Dummy GT minimum space >=0.110
EXT GTDUM < 0.11 ABUT <90 SINGULAR REGION
}
DUMC_15++++++++++++++++++++++

@ Dummy GT space to GT on AA >= 0.150
EXT GTDUM (GT INTERACT AA) < 0.15 ABUT <90 SINGULAR REGION
}
DUMC_15a++++++++++++++++++++++

@ Dummy GT space to GT on field OX >= 0.110
EXT GTDUM (GT NOT INTERACT AA) < 0.11 ABUT <90 SINGULAR REGION
}
DUMC_16++++++++++++++++++++++

@ Dummy GT space to (AA, LOGO, PTCT, MARKG, RESAA, RESNW, DIFRES, HRPDMY). >=0.220
EXT GTDUM AA < 0.22 ABUT <90 SINGULAR REGION
EXT GTDUM LPM < 0.22 ABUT <90 SINGULAR REGION
EXT GTDUM RESAA < 0.22 ABUT <90 SINGULAR REGION
EXT GTDUM RESNW < 0.22 ABUT <90 SINGULAR REGION
EXT GTDUM DIFRES < 0.22 ABUT <90 SINGULAR REGION
EXT GTDUM HRPDMY < 0.22 ABUT <90 SINGULAR REGION
}
DUMC_17++++++++++++++++++++++

@ Dummy GT space to GTFUSE >=3.330
EXT GTDUM GTFUSE < 3.33 ABUT <90 SINGULAR REGION
}
DUMC_18++++++++++++++++++++++

@ Mx Dummy must not touch (Mx, Vx, Vx-1, LOGO, PTCT, MARKS), where Mx=M1-M8, TM1, TM2,MTT2. x=1~8. V8 and V-1 are not applicable
INTERACT M1DUM ((M1 OR LPM) OR V1 )
INTERACT M2DUM ((M2 OR LPM)  OR (V1 OR V2))
INTERACT M3DUM ((M3 OR LPM)  OR (V2 OR V3))
INTERACT M4DUM ((M4 OR LPM)  OR (V3 OR V4))
INTERACT M5DUM ((M5 OR LPM)  OR (V4 OR V5))
INTERACT M6DUM ((M6 OR LPM)  OR (V5 OR V6))
INTERACT M7DUM ((M7 OR LPM)  OR (V6 OR V7) )
INTERACT M8DUM ((M8 OR LPM)  OR V7)
INTERACT TM2DUM (TM2 OR LPM)
INTERACT MTT2DM (MTT2 OR LPM)
}
DUMC_19++++++++++++++++++++++

@ Mx Dummy space to GTFUSE with touching prohibited, where Mx=M1, M2   >=3.33
EXT M1DUM GTFUSE < 3.33 ABUT <90 SINGULAR REGION
EXT M2DUM GTFUSE < 3.33 ABUT <90 SINGULAR REGION
INTERACT M1DUM GTFUSE
INTERACT M2DUM GTFUSE
}
DUMC_20_M1++++++++++++++++++++++

@ Mx Dummy space to (MxDUB, DUMBM, LOGO, PTCT,MARKG), where Mx=M1-M8.   >=0.6
EXT M1DUM (M1DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M2++++++++++++++++++++++

EXT M2DUM (M2DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M3++++++++++++++++++++++

EXT M3DUM (M3DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M4++++++++++++++++++++++

EXT M4DUM (M4DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M5++++++++++++++++++++++

EXT M5DUM (M5DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M6++++++++++++++++++++++

EXT M6DUM (M6DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M7++++++++++++++++++++++

EXT M7DUM (M7DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_20_M8++++++++++++++++++++++

EXT M8DUM (M8DUB OR LPM_BM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M1++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M1DUM  NOT INTERACT INDMY) M1 < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M2++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M2DUM NOT INTERACT INDMY) M2 < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M3++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M3DUM  NOT INTERACT INDMY) M3  < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M4++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M4DUM NOT INTERACT INDMY) M4  < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M5++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M5DUM  NOT INTERACT INDMY) M5  < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M6++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M6DUM NOT INTERACT INDMY) M6  < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M7++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M7DUM NOT INTERACT INDMY) M7  < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21_M8++++++++++++++++++++++

@ Mx Dummy space to Mx(when Mx Dummy not touching INDMY), where Mx=M1-M8. >=0.6
EXT (M8DUM NOT INTERACT INDMY) M8 < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M1++++++++++++++++++++++

@ Mx Dummy space to Mx (when Mx Dummy touching INDMY), where Mx=M1-M8.0.53
EXT (M1DUM INTERACT INDMY) M1  <0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M2++++++++++++++++++++++

EXT (M2DUM INTERACT INDMY) M2  < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M3++++++++++++++++++++++

EXT (M3DUM INTERACT INDMY) M3  < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M4++++++++++++++++++++++

EXT (M4DUM INTERACT INDMY) M4  < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M5++++++++++++++++++++++

EXT (M5DUM INTERACT INDMY) M5 < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M6++++++++++++++++++++++

EXT (M6DUM INTERACT INDMY) M6  < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M7++++++++++++++++++++++

EXT ( M7DUM INTERACT INDMY) M7  < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_21a_M8++++++++++++++++++++++

EXT (M8DUM INTERACT INDMY) M8 < 0.53 ABUT < 90 SINGULAR REGION
}
DUMC_22++++++++++++++++++++++

@ Vx Dummy must not touch (Vx, Mx, Mx+1, LOGO, PTCT, INDMY ,MARKS), where Vx=V1-V7, x=1-7
LPI = (LP OR INDMY) OR MARKG
V1DUM INTERACT ((V1 OR LPI)  OR (M1 OR M2))
V2DUM INTERACT ((V2 OR LPI) OR (M2 OR M3))
V3DUM INTERACT ((V3 OR LPI)  OR (M3 OR M4))
V4DUM INTERACT ((V4 OR LPI)  OR (M4 OR M5))
V5DUM INTERACT ((V5 OR LPI)  OR (M5 OR M6))
V6DUM INTERACT ((V6 OR LPI)  OR (M6 OR M7))
V7DUM INTERACT ((V7 OR LPI) OR (M7 OR M8))
}
DMLAY++++++++++++++++++++++

X1 = RECTANGLE DMLAY == 0.07 BY == 0.07
X2 = RECTANGLE DMLAY == 0.077 BY == 0.077
X3 = RECTANGLE DMLAY == 0.12 BY == 0.12
Y = (X1 OR X2) OR X3
DMLAY NOT Y
}
DUMC_23_24_V1++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V1DUM
}
DUMC_23_24_V2++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V2DUM
}
DUMC_23_24_V3++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V3DUM
}
DUMC_23_24_V4++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V4DUM
}
DUMC_23_24_V5++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V5DUM
}
DUMC_23_24_V6++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V6DUM
}
DUMC_23_24_V7++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMC_23_24 V7DUM
}
DUMC_25_a_b_V1++++++++++++++++++++++

@ Vx Dummy must be within Mx Dummy, where Vx=V1-V7 and Mx= metal level below Vx. >=0.06
@ Vx Dummy must be within My Dummy, where Vx=V1-V7 and My= metal level above Vx. >=0.06
M1D_AND_M2D = M1DUM AND M2DUM
ENC V1DUM M1D_AND_M2D < 0.06 ABUT < 90 SINGULAR REGION
V1DUM NOT M1D_AND_M2D
}
DUMC_25_a_b_V2++++++++++++++++++++++

M2D_AND_M3D = M2DUM AND M3DUM
ENC V2DUM M2D_AND_M3D < 0.06 ABUT < 90  SINGULAR REGION
V2DUM NOT M2D_AND_M3D
}
DUMC_25_a_b_V3++++++++++++++++++++++

M3D_AND_M4D = M3DUM AND M4DUM
ENC V3DUM M3D_AND_M4D < 0.06 ABUT < 90  SINGULAR REGION
V3DUM NOT M3D_AND_M4D
}
DUMC_25_a_b_V4++++++++++++++++++++++

M4D_AND_M5D = M4DUM AND M5DUM
ENC V4DUM M4D_AND_M5D < 0.06 ABUT < 90  SINGULAR REGION
V4DUM NOT M4D_AND_M5D
}
DUMC_25_a_b_V5++++++++++++++++++++++

M5D_AND_M6D = M5DUM AND M6DUM
ENC V5DUM M5D_AND_M6D < 0.06 ABUT < 90  SINGULAR REGION
V5DUM NOT M5D_AND_M6D
}
DUMC_25_a_b_V6++++++++++++++++++++++

M6D_AND_M7D = M6DUM AND M7DUM
ENC V6DUM M6D_AND_M7D < 0.06 ABUT < 90  SINGULAR REGION
V6DUM NOT M6D_AND_M7D
}
DUMC_25_a_b_V7++++++++++++++++++++++

M7D_AND_M8D = M7DUM AND M8DUM
ENC V7DUM M7D_AND_M8D < 0.06 ABUT < 90  SINGULAR REGION
V7DUM NOT M7D_AND_M8D
}
DUMC_26++++++++++++++++++++++

@ TMx Dummy space to (TMx, TMxDUB, LOGO, PTCT, MARKG), where TMx=TM1, TM2, >=0.6
EXT TM2DUM ((TM2 OR TM2DUB) OR LPM) < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_26a++++++++++++++++++++++

@ MTT2 Dummy(MTT2DM) space to (MTT2, MTT2DB, LOGO, PTCT, MARKS)	>=1.77
EXT MTT2DM ((MTT2 OR MTT2DB) OR LPM) < 1.77 ABUT < 90 SINGULAR REGION
}
DUMC_27++++++++++++++++++++++

@ ALPA Dummy must not touch (ALPA, LOGO, PTCT,MARKS)
@ ALPA Dummy must not touch (ALPA, LOGO, PTCT, ALDUB, MARKG)
ALDUM INTERACT (ALPAi OR LPM)
}
DUMC_28++++++++++++++++++++++

@ ALPA Dummy space to (ALPA, ALDUB, LOGO, PTCT,MARKG).>=2.84
EXT ALDUM ((ALPAi OR LPM) OR ALDUB) < 2.84 ABUT < 90 SINGULAR REGION
}
DUMC_29++++++++++++++++++++++

@ ALPA Dummy space to INDMY with touching prohibited. >=2.84
EXT ALDUM INDMY < 2.84 ABUT < 90 SINGULAR REGION
ALDUM AND INDMY
}
DUMC_30_M1++++++++++++++++++++++

@ Maximum xx Dummy density within INDMY. (Where xx=M1~M8, TM1, TM2,MTT2. Only check dummy metal density) <12%
M1DUM_INDMY = M1DUM AND INDMY
X = COPY INDMY
DENSITY M1DUM_INDMY INDMY [AREA(M1DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M1DUM_INDMY.log RDB density_report_DUMC_30_M1.db
}
DUMC_30_M2++++++++++++++++++++++

M2DUM_INDMY = M2DUM AND INDMY
X = COPY INDMY
DENSITY M2DUM_INDMY INDMY [AREA(M2DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M2DUM_INDMY.log RDB density_report_DUMC_30_M2.db
}
DUMC_30_M3++++++++++++++++++++++

M3DUM_INDMY = M3DUM AND INDMY
X = COPY INDMY
DENSITY M3DUM_INDMY INDMY [AREA(M3DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M3DUM_INDMY.log RDB density_report_DUMC_30_M3.db
}
DUMC_30_M4++++++++++++++++++++++

M4DUM_INDMY = M4DUM AND INDMY
X = COPY INDMY
DENSITY M4DUM_INDMY INDMY [AREA(M4DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M4DUM_INDMY.log RDB density_report_DUMC_30_M4.db
}
DUMC_30_M5++++++++++++++++++++++

M5DUM_INDMY = M5DUM AND INDMY
X = COPY INDMY
DENSITY M5DUM_INDMY INDMY [AREA(M5DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M5DUM_INDMY.log RDB density_report_DUMC_30_M5.db
}
DUMC_30_M6++++++++++++++++++++++

M6DUM_INDMY = M6DUM AND INDMY
X = COPY INDMY
DENSITY M6DUM_INDMY INDMY [AREA(M6DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M6DUM_INDMY.log RDB density_report_DUMC_30_M6.db
}
DUMC_30_M7++++++++++++++++++++++

M7DUM_INDMY = M7DUM AND INDMY
X = COPY INDMY
DENSITY M7DUM_INDMY INDMY [AREA(M7DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M7DUM_INDMY.log RDB density_report_DUMC_30_M7.db
}
DUMC_30_M8++++++++++++++++++++++

M8DUM_INDMY = M8DUM AND INDMY
X = COPY INDMY
DENSITY M8DUM_INDMY INDMY [AREA(M8DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_M8DUM_INDMY.log RDB density_report_DUMC_30_M8.db
}
DUMC_30_TM2++++++++++++++++++++++

TM2DUM_INDMY = TM2DUMi AND INDMY
X = COPY INDMY
DENSITY TM2DUM_INDMY INDMY [AREA(TM2DUM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_TM2DUM_INDMY.log RDB density_report_DUMC_30_TM2.db
}
DUMC_30_MTT2++++++++++++++++++++++

MTT2DM_INDMY = MTT2DMi AND INDMY
X = COPY INDMY
DENSITY MTT2DM_INDMY INDMY [AREA(MTT2DM_INDMY)/AREA(INDMY)]> 0.12 INSIDE OF LAYER X PRINT density_report_MTT2DM_INDMY.log RDB density_report_DUMC_30_MTT2.db
}
DUMC_31++++++++++++++++++++++

@ xx Dummy must be within BORDER, where xx=all metal and via levels, AA, GT.
M1DUM NOT BD_WITHHOLE
M2DUM NOT BD_WITHHOLE
M3DUM NOT BD_WITHHOLE
M4DUM NOT BD_WITHHOLE
M5DUM NOT BD_WITHHOLE
M6DUM NOT BD_WITHHOLE
M7DUM NOT BD_WITHHOLE
M8DUM NOT BD_WITHHOLE
TM2DUM NOT BD_WITHHOLE
MTT2DM NOT BD_WITHHOLE
ALDUM NOT BD_WITHHOLE
V1DUM NOT BD_WITHHOLE
V2DUM NOT BD_WITHHOLE
V3DUM NOT BD_WITHHOLE
V4DUM NOT BD_WITHHOLE
V5DUM NOT BD_WITHHOLE
V6DUM NOT BD_WITHHOLE
V7DUM NOT BD_WITHHOLE
AADUM NOT BD_WITHHOLE
GTDUM NOT BD_WITHHOLE
}
DUMC_32++++++++++++++++++++++

@ Min. width of Mx Dummy, where Mx=M1-M8. >=0.22
INT M1DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M2DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M3DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M4DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M5DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M6DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M7DUM < 0.22 ABUT < 90 SINGULAR REGION
INT M8DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M1++++++++++++++++++++++

@ Min. space of Mx Dummy, where Mx=M1-M8. >=0.22
EXT M1DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M2++++++++++++++++++++++

EXT M2DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M3++++++++++++++++++++++

EXT M3DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M4++++++++++++++++++++++

EXT M4DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M5++++++++++++++++++++++

EXT M5DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M6++++++++++++++++++++++

EXT M6DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M7++++++++++++++++++++++

EXT M7DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_33_M8++++++++++++++++++++++

EXT M8DUM < 0.22 ABUT < 90 SINGULAR REGION
}
DUMC_34++++++++++++++++++++++

@ Min. width of TMx Dummy, where TMx=TM1-TM2,MTT2. >=0.44
INT TM2DUM < 0.44 ABUT < 90 SINGULAR REGION
INT MTT2DM < 0.44 ABUT < 90 SINGULAR REGION
}
DUMC_35++++++++++++++++++++++

@ Min. space of TMx Dummy, where TMx=TM1-TM2,MTT2. >=0.6
EXT TM2DUM < 0.6 ABUT < 90 SINGULAR REGION
EXT MTT2DM < 0.6 ABUT < 90 SINGULAR REGION
}
DUMC_36++++++++++++++++++++++

@ Min. width of ALPA Dummy. >=4.44
INT ALDUM < 4.44 ABUT < 90 SINGULAR REGION
}
DUMC_37++++++++++++++++++++++

@ Min. space of ALPA Dummy. >=2.84
EXT ALDUM < 2.84 ABUT < 90 SINGULAR REGION
}
DUMCN_1++++++++++++++++++++++

@ Dummy AA minimum width        AA.1
INT AADUM < 0.06 ABUT < 90 SINGULAR REGION
}
DUMCN_2++++++++++++++++++++++

@ Dummy AA minimum space to (AA, dummy AA)      AA.4a
EXT AADUM < 0.08 ABUT < 90 SINGULAR REGION
EXT AADUM AA < 0.08 ABUT < 90 SINGULAR REGION
}
DUMCN_3++++++++++++++++++++++

@ Dummy AA minimum space to GT is 0.03  GT.4
EXT AADUM GT < 0.03 ABUT < 90 SINGULAR REGION
}
DUMCN_4++++++++++++++++++++++

@ Dummy AA must not touch (AA, GT, RESNW).
AADUM INTERACT ((AA OR GT) OR RESNW)
}
DUMCN_6++++++++++++++++++++++

@ Dummy GT minimum width is 0.04  GT.1a
INT GTDUM < 0.04 ABUT < 90 SINGULAR REGION
}
DUMCN_7++++++++++++++++++++++

@ Dummy GT minimum space to (GT, dummy GT)  GT.3
EXT GTDUM < 0.1 ABUT < 90 SINGULAR REGION
EXT GTDUM GT < 0.1 ABUT < 90 SINGULAR REGION
}
DUMCN_8++++++++++++++++++++++

@ Dummy GT space to AA  GT.4
EXT GTDUM AA < 0.03 ABUT < 90 SINGULAR REGION
}
DUMCN_9++++++++++++++++++++++

@ Dummy GT must not touch (GT, AA).
GTDUM INTERACT (GT OR AA)
}
DUMCN_10++++++++++++++++++++++

@ Mx Dummy minimum width, where Mx=M1-M8.  Mn.1
INT M1DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M2DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M3DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M4DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M5DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M6DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M7DUM < 0.07 ABUT < 90 SINGULAR REGION
INT M8DUM < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M1++++++++++++++++++++++

@ Mx Dummy minimum space to (Mx, Mx dummy), where Mx=M1-M8.  Mn.2
EXT M1DUM (M1 OR M1DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M2++++++++++++++++++++++

EXT M2DUM (M2 OR M2DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M3++++++++++++++++++++++

EXT M3DUM (M3 OR M3DUM)< 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M4++++++++++++++++++++++

EXT M4DUM (M4 OR M4DUM)< 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M5++++++++++++++++++++++

EXT M5DUM (M5 OR M5DUM)< 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M6++++++++++++++++++++++

EXT M6DUM (M6 OR M6DUM)< 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M7++++++++++++++++++++++

EXT M7DUM (M7 OR M7DUM)< 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_11_M8++++++++++++++++++++++

EXT M8DUM (M8 OR M8DUM)< 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_12++++++++++++++++++++++

@ Mx Dummy must not touch Mx, where Mx=M1-M8, TM1, TM2.
M1DUM INTERACT M1
M2DUM INTERACT M2
M3DUM INTERACT M3
M4DUM INTERACT M4
M5DUM INTERACT M5
M6DUM INTERACT M6
M7DUM INTERACT M7
M8DUM INTERACT M8
TM2DUM INTERACT TM2
MTT2DM INTERACT MTT2
}
DUMCN_13_16_V1++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V1DUM
}
DUMCN_13_16_V2++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V2DUM
}
DUMCN_13_16_V3++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V3DUM
}
DUMCN_13_16_V4++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V4DUM
}
DUMCN_13_16_V5++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V5DUM
}
DUMCN_13_16_V6++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V6DUM
}
DUMCN_13_16_V7++++++++++++++++++++++

@ Vx Dummy exact width is 0.07 or 0.077 or 0.12, where Vx=V1-V7.
@ xx Dummy must be square, where xx=V1-V7
CMACRO DUMCN_13_16 V7DUM
}
DUMCN_14_V1++++++++++++++++++++++

@ Vx Dummy minimum space to (Vx, Vx dummy)  Vn.2
EXT V1DUM (V1 OR V1DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_14_V2++++++++++++++++++++++

EXT V2DUM (V2 OR V2DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_14_V3++++++++++++++++++++++

EXT V3DUM (V3 OR V3DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_14_V4++++++++++++++++++++++

EXT V4DUM (V4 OR V4DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_14_V5++++++++++++++++++++++

EXT V5DUM (V5 OR V5DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_14_V6++++++++++++++++++++++

EXT V6DUM (V6 OR V6DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_14_V7++++++++++++++++++++++

EXT V7DUM (V7 OR V7DUM) < 0.07 ABUT < 90 SINGULAR REGION
}
DUMCN_15++++++++++++++++++++++

@ Vn Dummy must not touch (Vn, Mn, Mn+1), where n=1-7
V1DUM INTERACT (V1 OR (M1 OR M2))
V2DUM INTERACT (V2 OR (M2 OR M3))
V3DUM INTERACT (V3 OR (M3 OR M4))
V4DUM INTERACT (V4 OR (M4 OR M5))
V5DUM INTERACT (V5 OR (M5 OR M6))
V6DUM INTERACT (V6 OR (M6 OR M7))
V7DUM INTERACT (V7 OR (M7 OR M8))
}
DUMCN_17_V1++++++++++++++++++++++

@ Vn Dummy must be within (Mn dummy and Mn+1 Dummy), where n=1-7.  Vn.6a
M1D_AND_M2D = M1DUM AND M2DUM
V1DUM NOT M1D_AND_M2D
ENC V1DUM M1D_AND_M2D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_17_V2++++++++++++++++++++++

M2D_AND_M3D = M2DUM AND M3DUM
V2DUM NOT M2D_AND_M3D
ENC V2DUM M2D_AND_M3D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_17_V3++++++++++++++++++++++

M3D_AND_M4D = M3DUM AND M4DUM
V3DUM NOT M3D_AND_M4D
ENC V3DUM M3D_AND_M4D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_17_V4++++++++++++++++++++++

M4D_AND_M5D = M4DUM AND M5DUM
V4DUM NOT M4D_AND_M5D
ENC V4DUM M4D_AND_M5D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_17_V5++++++++++++++++++++++

M5D_AND_M6D = M5DUM AND M6DUM
V5DUM NOT M5D_AND_M6D
ENC V5DUM M5D_AND_M6D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_17_V6++++++++++++++++++++++

M6D_AND_M7D = M6DUM AND M7DUM
V6DUM NOT M6D_AND_M7D
ENC V6DUM M6D_AND_M7D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_17_V7++++++++++++++++++++++

M7D_AND_M8D = M7DUM AND M8DUM
V7DUM NOT M7D_AND_M8D
ENC V7DUM M7D_AND_M8D < 0.015 ABUT < 90 SINGULAR REGION
}
DUMCN_18++++++++++++++++++++++

@ TMx Dummy minimum width, where TMx=TM1, TM2. TM1.1
INT TM2DUM < 0.4 ABUT < 90 SINGULAR REGION
INT MTT2DM < 0.4 ABUT < 90 SINGULAR REGION
}
DUMCN_19++++++++++++++++++++++

@ TMx Dummy minimum space to (TMx and TMx dummy) , where TMx=TM1, TM2. TM1.2
EXT TM2DUM (TM2 OR TM2DUM) < 0.4 ABUT < 90 SINGULAR REGION
EXT MTT2DM (MTT2 OR MTT2DM) < 0.4 ABUT < 90 SINGULAR REGION
}
DUMCN_20++++++++++++++++++++++

@ ALPA Dummy minimum width  ALPA.1
INT ALDUM < 4 ABUT < 90 SINGULAR REGION
}
DUMCN_21++++++++++++++++++++++

@ ALPA Dummy minimum space to (ALPA, ALPA dummy).  ALPA.2
EXT ALDUM (ALPAi OR ALDUM) < 2 ABUT < 90 SINGULAR REGION
}
DUMCN_22++++++++++++++++++++++

@ ALPA Dummy must not touch ALPA
ALDUM INTERACT ALPAi
}
DUMCN_23++++++++++++++++++++++

@ xx Dummy must be within BORDER, where xx=all metal and via levels
M1DUM NOT BORDER
M2DUM NOT BORDER
M3DUM NOT BORDER
M4DUM NOT BORDER
M5DUM NOT BORDER
M6DUM NOT BORDER
M7DUM NOT BORDER
M8DUM NOT BORDER
TM2DUM NOT BORDER
MTT2DM NOT BORDER
ALDUM NOT BORDER
V1DUM NOT BORDER
V2DUM NOT BORDER
V3DUM NOT BORDER
V4DUM NOT BORDER
V5DUM NOT BORDER
V6DUM NOT BORDER
V7DUM NOT BORDER
}
ULVT_1++++++++++++++++++++++

@ ULVT width (Parallel side to side width) is >=0.33
INT ULVT <0.33 PARA ONLY  REGION
}
ULVT_2++++++++++++++++++++++

@ Space between two ULVTs (with run length>0) is >=0.33
EXT ULVT< 0.33   ABUT<90 REGION OPPOSITE
}
ULVT_3++++++++++++++++++++++

@ AA with transistor enclosure by ULVT(include AA area not under poly) is >=0.2
ENC  MOS ULVT <0.2  ABUT<90 REGION
}
ULVT_4++++++++++++++++++++++

@ Gate enclosure by ULVT is > =0.25
ENC GATE ULVT< 0.25 ABUT<90 REGION
}
ULVT_5++++++++++++++++++++++

@ Space between ULVT and AA with device (include all the devices described in the design truth table 7.1.9) is >=0.2. Prohibit overlap of ULVT and other voltage AA with transistor.
X_MOS = AA INTERACT GT
X_RES = AA INTERACT (DIFRES OR RESAA)
X_DIO1 = AA INTERACT (SIZE (DSTR NOT INTERACT PSUB) BY 0.3)
X_DIO2 = AA INTERACT (SIZE (DSTR INTERACT PSUB) BY 0.4)
X_NPN_PNP = AA INTERACT DMPNP
X_ALL = (((X_MOS OR X_RES) OR (X_DIO1 OR X_DIO2)) OR X_NPN_PNP) NOT INST
EXT ULVT X_ALL < 0.2 ABUT<90 SINGULAR REGION
(X_MOS CUT ULVT) AND ULVT
}
ULVT_6++++++++++++++++++++++

@ Space between ULVT and gate  is >=0.25
EXT ULVT GATE <0.25 ABUT<90 REGION
}
ULVT_7++++++++++++++++++++++

@ ULVT area is >=0.463
AREA ULVT <0.463
}
ULVT_8++++++++++++++++++++++

@ULVT enclosed area  > =0.463
AREA ((HOLES ULVT INNER) NOT ULVT) < 0.463
}
ULVT_9++++++++++++++++++++++

@ Space between ULVT and (DG or TG) >=0.33
EXT ULVT (DG OR TG)<0.33  ABUT<90 REGION
}
GRC_1++++++++++++++++++++++

@ Contact slot width is fixed value 0.06um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CT_SEAL_SQ = RECTANGLE CT_SEAL
CT_SEAL_LN = CT_SEAL NOT CT_SEAL_SQ
CT_V_edge = ANGLE CT_SEAL_LN == 90
CT_H_edge = ANGLE CT_SEAL_LN == 0
CT_D_edge = ANGLE CT_SEAL_LN >44.9 <45.1
X_V = INT CT_V_edge < 10 ABUT<90 OPPOSITE REGION
X_H = INT CT_H_edge < 10 ABUT<90 OPPOSITE REGION
X_D = INT CT_D_edge < 10 ABUT<90 OPPOSITE REGION
INT CT_SEAL_LN < 0.059 ABUT<90 SINGULAR REGION
X_V WITH WIDTH > 0.061
X_H WITH WIDTH > 0.061
X_D WITH WIDTH > 0.085
}
VLAY++++++++++++++++++++++

V_SEAL_SQ = RECTANGLE VLAY
V_SEAL_LN = VLAY NOT V_SEAL_SQ
V_V_edge = ANGLE V_SEAL_LN == 90
V_H_edge = ANGLE V_SEAL_LN == 0
V_D_edge = ANGLE V_SEAL_LN >44.9 <45.1
X_V = INT V_V_edge < 10 ABUT<90 OPPOSITE REGION
X_H = INT V_H_edge < 10 ABUT<90 OPPOSITE REGION
X_D = INT V_D_edge < 10 ABUT<90 OPPOSITE REGION
INT V_SEAL_LN < 0.069 ABUT<90 SINGULAR REGION
X_V WITH WIDTH > 0.071
X_H WITH WIDTH > 0.071
X_D WITH WIDTH > 0.099
}
GRC_2_V1++++++++++++++++++++++

@ V1 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V1_SEAL
}
GRC_2_V2++++++++++++++++++++++

@ V2 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V2_SEAL
}
GRC_2_V3++++++++++++++++++++++

@ V3 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V3_SEAL
}
GRC_2_V4++++++++++++++++++++++

@ V4 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V4_SEAL
}
GRC_2_V5++++++++++++++++++++++

@ V5 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V5_SEAL
}
GRC_2_V6++++++++++++++++++++++

@ V6 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V6_SEAL
}
GRC_2_V7++++++++++++++++++++++

@ V7 slot width is fixed value 0.07um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
CMACRO SEAL2 V7_SEAL
}
GRC_3_TV2++++++++++++++++++++++

@ TV2 slot width is fixed value 0.36um.
@ 45 degree part can have tolerance up to sqrt(2) times this value.
TV2_SEAL_SQ = RECTANGLE TV2_SEAL
TV2_SEAL_LN = TV2_SEAL NOT TV2_SEAL_SQ
TV2_V_edge = ANGLE TV2_SEAL_LN == 90
TV2_H_edge = ANGLE TV2_SEAL_LN == 0
TV2_D_edge = ANGLE TV2_SEAL_LN >44.9 <45.1
X_V = INT TV2_V_edge < 10 ABUT<90 OPPOSITE REGION
X_H = INT TV2_H_edge < 10 ABUT<90 OPPOSITE REGION
X_D = INT TV2_D_edge < 10 ABUT<90 OPPOSITE REGION
INT TV2_SEAL_LN < 0.359 ABUT<90 SINGULAR REGION
X_V WITH WIDTH > 0.361
X_H WITH WIDTH > 0.361
X_D WITH WIDTH > 0.510
}
GRC_4++++++++++++++++++++++

@ Square contact size in seal ring must be 0.06um * 0.06um.
X = RECTANGLE CT_SEAL
NOT RECTANGLE X == 0.06 BY == 0.06
}
GRC_5++++++++++++++++++++++

@ Square V1-V7 size in seal ring must be 0.07um * 0.07um.
X1 = RECTANGLE V1_SEAL
X2 = RECTANGLE V2_SEAL
X3 = RECTANGLE V3_SEAL
X4 = RECTANGLE V4_SEAL
X5 = RECTANGLE V5_SEAL
X6 = RECTANGLE V6_SEAL
X7 = RECTANGLE V7_SEAL
NOT RECTANGLE X1 == 0.07 BY == 0.07
NOT RECTANGLE X2 == 0.07 BY == 0.07
NOT RECTANGLE X3 == 0.07 BY == 0.07
NOT RECTANGLE X4 == 0.07 BY == 0.07
NOT RECTANGLE X5 == 0.07 BY == 0.07
NOT RECTANGLE X6 == 0.07 BY == 0.07
NOT RECTANGLE X7 == 0.07 BY == 0.07
}
GRC_6++++++++++++++++++++++

@ Square TV size in seal ring must be 0.36um * 0.36um.
X2 = RECTANGLE TV2_SEAL
NOT RECTANGLE X2 == 0.36 BY == 0.36
}
SRDevice.1++++++++++++++++++++++

@ All Gates inside INST must be inside DNSRAM (SP299), LRSRAM (SP374), D2SRAM (DP589) or RFSRAM (DP741).
GATE_INST NOT INSIDE (((DNSRAM OR LRSRAM) OR D2SRAM) OR RFSRAM)
}
SRDEV.SP299.PD.W++++++++++++++++++++++

@ SP299 PD gate channel width FIX is 0.142
LENGTH (GT COIN EDGE (GATE_INST_PD INSIDE DNSRAM)) != 0.142
}
SRDEV.SP299.PD.L++++++++++++++++++++++

@ SP299 PD gate channel length is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PD INSIDE DNSRAM)) != 0.055
}
SRDEV.SP299.PG.W++++++++++++++++++++++

@ SP299 PG gate channel width is 0.11
LENGTH (GT COIN EDGE (GATE_INST_PG INSIDE DNSRAM)) != 0.11
}
SRDEV.SP299.PG.L++++++++++++++++++++++

@ SP299 PG gate channel length is 0.059
LENGTH (AA COIN EDGE (GATE_INST_PG INSIDE DNSRAM)) != 0.059
}
SRDEV.SP299.PU.W++++++++++++++++++++++

@ SP299 PU gate channel width is 0.06
LENGTH (GT COIN EDGE (GATE_INST_PU INSIDE DNSRAM)) != 0.06
}
SRDEV.SP299.PU.L++++++++++++++++++++++

@  SP299 PU gate channel length	0.055
LENGTH (AA COIN EDGE (GATE_INST_PU INSIDE DNSRAM)) !=0.055
}
SRDEV.SP374.PD.W++++++++++++++++++++++

@ SP374 PD gate channel width is 0.233
LENGTH (GT COIN EDGE (GATE_INST_PD INSIDE LRSRAM)) != 0.233
}
SRDEV.SP374.PD.L++++++++++++++++++++++

@ SP374 PD gate channel length fix is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PD INSIDE LRSRAM)) != 0.055
}
SRDEV.SP374.PG.W++++++++++++++++++++++

@ SP374 PG gate channel width fix is 0.183
LENGTH (GT COIN EDGE (GATE_INST_PG INSIDE LRSRAM)) != 0.183
}
SRDEV.SP374.PG.L++++++++++++++++++++++

@ SP374 PG gate channel length fix is 0.063
LENGTH (AA COIN EDGE (GATE_INST_PG INSIDE LRSRAM)) != 0.063
}
SRDEV.SP374.PU.W++++++++++++++++++++++

@ SP374 PU gate channel width fix is 0.07
LENGTH (GT COIN EDGE (GATE_INST_PU INSIDE LRSRAM)) !=0.07
}
SRDEV.SP374.PU.L++++++++++++++++++++++

@ SP374 PU gate channel length fix is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PU INSIDE LRSRAM)) != 0.055
}
SRDEV.DP589.PD.W++++++++++++++++++++++

@ DP589 PD gate channel width fix is 0.305
LENGTH (GT COIN EDGE (GATE_INST_PD INSIDE D2SRAM)) !=0.305
}
SRDEV.DP589.PD.L++++++++++++++++++++++

@ DP589 PD gate channel length fix is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PD INSIDE D2SRAM)) !=0.055
}
SRDEV.DP589.PG.W++++++++++++++++++++++

@ DP589 PG gate channel width fix is 0.154
LENGTH (GT COIN EDGE (GATE_INST_PG INSIDE D2SRAM)) !=0.154
}
SRDEV.DP589.PG.L++++++++++++++++++++++

@ DP589 PG gate channel length fix is 0.067
LENGTH (AA COIN EDGE (GATE_INST_PG INSIDE D2SRAM)) !=0.067
}
SRDEV.DP589.PU.W++++++++++++++++++++++

@ DP589 PU gate channel width fix is 0.06
LENGTH (GT COIN EDGE (GATE_INST_PU INSIDE D2SRAM)) !=0.06
}
SRDEV.DP589.PU.L++++++++++++++++++++++

@ DP589 PU gate channel length fix is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PU INSIDE D2SRAM)) !=0.055
}
SRDEV.DP741.PD.W++++++++++++++++++++++

@ DP741 PD gate channel width fix is 0.438
LENGTH (GT COIN EDGE (GATE_INST_PD INSIDE RFSRAM)) !=0.438
}
SRDEV.DP741.PD.L++++++++++++++++++++++

@ DP741 PD gate channel length fix is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PD INSIDE RFSRAM)) !=0.055
}
SRDEV.DP741.PG.W++++++++++++++++++++++

@ DP741 PG gate channel width fix is 0.168
LENGTH (GT COIN EDGE (GATE_INST_PG INSIDE RFSRAM)) !=0.168
}
SRDEV.DP741.PG.L++++++++++++++++++++++

@ DP741 PG gate channel length fix is 0.063
LENGTH (AA COIN EDGE (GATE_INST_PG INSIDE RFSRAM)) !=0.063
}
SRDEV.DP741.PU.W++++++++++++++++++++++

@ DP741 PU gate channel width fix is 0.08
LENGTH (GT COIN EDGE (GATE_INST_PU INSIDE RFSRAM)) !=0.08
}
SRDEV.DP741.PU.L++++++++++++++++++++++

@ DP741 PU gate channel length fix is 0.055
LENGTH (AA COIN EDGE (GATE_INST_PU INSIDE RFSRAM)) !=0.055
}
SRMarker_4++++++++++++++++++++++

@ Marker layer DNSRAM, LRSRAM, D2SRAM, RFSRAM must be within SRAM marker INST.
(((DNSRAM OR LRSRAM) OR D2SRAM) OR RFSRAM) NOT INST
}
SRMarker_5++++++++++++++++++++++

@ For high performance SRAM bit cell(LRSRAM (SP374),  RFSRAM (DP741)), there must be high performance marker layer HPBL overlapped.
(LRSRAM OR RFSRAM) OUTSIDE  HPBL
}
SRMarker_6++++++++++++++++++++++

@ No hole or slot is permitted in one SRAM marker layer(DNSRAM, LRSRAM, D2SRAM, RFSRAM, INST).
HOLES INST
HOLES DNSRAM
HOLES LRSRAM
HOLES D2SRAM
HOLES RFSRAM
}
SRMarker_8++++++++++++++++++++++

@ DNSRAM, LRSRAM, D2SRAM, RFSRAM should not overlap with each other(touch is permitted)
(((( (DNSRAM INTERACT LRSRAM) OR (DNSRAM INTERACT D2SRAM)) OR (DNSRAM INTERACT RFSRAM))OR (LRSRAM  INTERACT D2SRAM)) OR (LRSRAM  INTERACT RFSRAM))OR ( D2SRAM INTERACT RFSRAM)
}
SRMarker_9++++++++++++++++++++++

@ No Overlap of (DNSRAM(SP299) or D2SRAM(DP589)) with HPBL is permitted.
(DNSRAM OR D2SRAM) AND  HPBL
}
BUMP_1_G++++++++++++++++++++++

@ BUMP Pitch (center to center space) >=166.67
X = EXTENTS BUMP CENTERS 0.01
EXT X<166.66  REGION
}
BUMP_2_G++++++++++++++++++++++

@ MD width(parallel edge to edge) inside BUMP  >=61.11
INT (MD INSIDE BUMP) <61.11  PARA ONLY  REGION
}
BUMP_3_G++++++++++++++++++++++

@ BUMP width (parallel edge to edge) is >=88.89
INT BUMP < 88.89 ABUT<90 SINGULAR REGION OPPOSITE  SYMMETRIC
X = CONVEX EDGE BUMP < 2
INT X < 88.89 REGION
}
BUMP_4_G++++++++++++++++++++++

@ MD enclosed by BUMP >=15.56
ENC MD BUMP< 15.56 ABUT<90 REGION
}
BUMP_5_G++++++++++++++++++++++

@ BUMP enclosure by ALPA >=6.67
ENC BUMP ALPA_ALL < 6.67 ABUT<90 REGION OUTSIDE ALSO
}
BUMP_7_G++++++++++++++++++++++

@ BUMP space is >=77.78
EXT BUMP <77.78 ABUT<90 REGION
}
DUP_1_G++++++++++++++++++++++

@ DUPMK1 must enclose PA for DUP pad area.
@ notice: coding not match 3R DR.
(MD INTERACT DUPMK1) NOT DUPMK1
}
DUP_2_G++++++++++++++++++++++

@ Two metal layers (TM and TM-1) are needed in DUP pad area, these two metal layers design must be solid.
DUP_area ENCLOSE (DUP_area NOT M8)
}
DUP_3a_G++++++++++++++++++++++

@ ALPAR, MOMDMY, INDMY, TM2R, TM-1R(TM-1 resistor mark layer) must be outside of DUP pad area.
((((ALPAR OR MOMDMY) OR INDMY) OR TM2R) OR M8R ) AND DUP_area
}
DUP_4_G++++++++++++++++++++++

@ TV-1 pattern must be outside of DUP pad area
V7 AND DUP_area
}
DUP_2_1_G++++++++++++++++++++++

@ Two metal layers (TM and TM-1) are needed in DUP pad area, these two metal layers design must be solid.
DUP_area ENCLOSE (DUP_area NOT  MTT2)
}
DUP_5_G++++++++++++++++++++++

@ DUP pad area must have TV array between TM and TM-1.
@ Two Via areas whose space is within 0.56um are considered to be in the same array.
@ TV space within array in DUP pad opening area should follow TV2.3.
TV2array = SIZE (SIZE (TV2 INSIDE DUP_area)  BY 0.28 OVERUNDER) BY 0.85 UNDEROVER
DUP_area NOT ENCLOSE TV2array
}
Convention_FLT_NW++++++++++++++++++++++

@ NW without N+ pick up
NW NOT INTERACT NTAPi
}
Convention_BPMO++++++++++++++++++++++

@ Pmos in PW
PW AND (PGATE NOT VARMOS)
}
Convention_BAD_IMP++++++++++++++++++++++

@ AA area without any implant
X = AAi NOT INTERACT RESNW
((X NOT SNi) NOT SPi) NOT MARKG
}
