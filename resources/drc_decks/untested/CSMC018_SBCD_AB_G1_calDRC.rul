// This rule file will check AT 6 as Top Metal
//	AT  -- "Top Metal" ==> for layout using Regular-Top-Metal DRC check
//	MTT -- "Thick Top Metal" ==> for layout using Thick-Top-Metal DRC check
//              MTT rule ONLY for Mix-signal Users !
// ;;###################################################################################
// ;;switch thin top metal(8K, 12K) process,please choose one of the below options
//#DEFINE metal2_process
//#DEFINE metal3_process
#DEFINE metal4_process
//#DEFINE metal5_process
//#DEFINE metal6_process

// ;;switch thick top metal(25K, 35K) process,please choose one of the below options
//#DEFINE thickmetal2_process
//#DEFINE thickmetal3_process
//#DEFINE thickmetal4_process
//#DEFINE thickmetal5_process
//#DEFINE thickmetal6_process

// ;;####################################################################################

// ;;####################################################################################
// ;;switch thin top metal(8K, 12K) thickness, please choose one of the below options
//#DEFINE at_thickness_8k
#DEFINE at_thickness_12k

// ;;switch thick top metal(25K, 35K) thickness ,please choose one of the below options
//#DEFINE tt_thickness_25k
//#DEFINE tt_thickness_35k

// ;;####################################################################################

// ;;####################################################################################
// ;; these options just for I/O check,but if you use CSMC's I/O,you can not open it. 

#DEFINE CHECK_SlotRule_C
#DEFINE CHECK_PAD_OPENING_Rule

// ;;####################################################################################

// ;;####################################################################################
// ;;variable for check SRAM inside layer EXCL:
// ;;By default, we exclude DRC check inside SRAM region covered by exclude layer "EXCL(118,1)". 
// ;;However, customers could enable this option to check M2 and upward layers inside EXCL 
// ;;in order to check logic rules inside SRAM.Please notice that turn on this option will 
// ;;also disable the waiving function of EXCL.And the region covered by EXCL will be examined 
// ;;with M2 and upward layers' rules.Please un-comment the line below to enable this function

//#DEFINE CHECK_SRAM_EXCL

// ;;####################################################################################

// ;;####################################################################################
// ;;if you don't want show density error,please open this option

//#DEFINE DISABLE_DENSITY

// ;;####################################################################################

// ;;####################################################################################
// ;;if customer don't want show dummy layer error,please open this option
// ;;Note: Special TODUM rule please refer LDR---> SPECIAL TODUM

//#DEFINE DISABLE_DUMMY

// ;;####################################################################################

// ;;####################################################################################
// ;;if you want check sealring,please open this option
// ;;NOTE:sealring metal connections VSS cause DRC misstatements, so first the metal
// ;;not connected VSS pads.If there's no problem VSS connect again.If it is determined
// ;;that the sealring metal connection is a power cord,the error is false.

#DEFINE SEAL_RING_Rule

// ;;####################################################################################

// ;;####################################################################################      
// ;; (@)# CSMC CALIBRE DRC COMMAND FILE
// ;; (@)# FOR CSMC 0.18um 5V CMOS BCD AB Process
// ;; (@)# TDR Document: 0.18um 5V CMOS BCD AB Process Technology 
// ;;                    Topological Design Rule      Version#:0G11
// ;; (@)# METAL LAYER PROCESS: NON-THICK TOP METAL
// ;;                           THICK TOP METAL
// ;; (@)# DATE: 2021.02.25  yanghx   
// ;;################################################################################### 

LAYOUT PATH "CELLNAME.gds"       
LAYOUT PRIMARY "CELLNAME"         
LAYOUT SYSTEM GDS2              
DRC RESULTS DATABASE "CELLNAME.db" ASCII 

DRC MAXIMUM RESULTS ALL         
DRC MAXIMUM VERTEX ALL            
DRC SUMMARY REPORT "result.summary" REPLACE HIER 
DRC CHECK TEXT ALL                

DRC CELL NAME NO                  
VIRTUAL CONNECT COLON NO          
VIRTUAL CONNECT REPORT NO        

PRECISION 1000                    
RESOLUTION 5                    
TEXT DEPTH PRIMARY               

VIRTUAL CONNECT NAME VDD? vdd? gnd? GND? 

FLAG NONSIMPLE YES               
FLAG OFFGRID YES                 
FLAG ACUTE YES                   
FLAG SKEW YES      

offgrid_check {
    @ Grid violation
    DRAWN OFFGRID
}

ortho_45_check {
    @ Orthogonal and 45 degree violation
    DRAWN SKEW
}

PORT LAYER TEXT 121 122 123 124 125 126 230

LAYER empty 999

LAYER A1 1000                          
LAYER MAP 7 DATATYPE 0 1000
LAYER A1_text 1001
LAYER MAP 121 TEXTTYPE 0 1001
TEXT LAYER A1_text

LAYER A1SLOT_slot 1002
LAYER MAP 136 DATATYPE 3 1002

LAYER A2 1003
LAYER MAP 9 DATATYPE 0 1003
LAYER A2_text 1004
LAYER MAP 122 TEXTTYPE 0 1004
TEXT LAYER A2_text

LAYER A2SLOT_slot 1005
LAYER MAP 137 DATATYPE 3 1005

LAYER A3 1006
LAYER MAP 41 DATATYPE 0 1006
LAYER A3_text 1007
LAYER MAP 123 TEXTTYPE 0 1007
TEXT LAYER A3_text

LAYER A3SLOT_slot 1008
LAYER MAP 138 DATATYPE 3 1008

LAYER A4 1009
LAYER MAP 62 DATATYPE 0 1009
LAYER A4_text 1010
LAYER MAP 124 TEXTTYPE 0 1010
TEXT LAYER A4_text

LAYER A4SLOT_slot 1011
LAYER MAP 135 DATATYPE 3 1011

LAYER A5 1012
LAYER MAP 92 DATATYPE 0 1012
LAYER A5_text 1013
LAYER MAP 125 TEXTTYPE 0 1013
TEXT LAYER A5_text

LAYER A5SLOT_slot 1014
LAYER MAP 134 DATATYPE 3 1014

LAYER AT 1015
LAYER MAP 94 DATATYPE 0 1015
LAYER AT_text 1016
LAYER MAP 126 TEXTTYPE 0 1016
TEXT LAYER AT_text

LAYER ATSLOT_slot 1017
LAYER MAP 133 DATATYPE 3 1017

LAYER MTT 1018
LAYER MAP 86 DATATYPE 0 1018
LAYER MTT_text 1019
LAYER MAP 126 TEXTTYPE 0 1019
TEXT LAYER MTT_text

LAYER MTTSLOT_slot 1020
LAYER MAP 130 DATATYPE 3 1020

LAYER W1 1021
LAYER MAP 6 DATATYPE 0 1021

LAYER W2 1022
LAYER MAP 8 DATATYPE 0 1022

LAYER W3 1023
LAYER MAP 40 DATATYPE 0 1023

LAYER W4 1024
LAYER MAP 61 DATATYPE 0 1024

LAYER W5 1025
LAYER MAP 91 DATATYPE 0 1025

LAYER WT 1026
LAYER MAP 93 DATATYPE 0 1026

LAYER TB 1027
LAYER MAP 1 DATATYPE 0 1027

LAYER TO 1028
LAYER MAP 2 DATATYPE 0 1028

LAYER GT 1029
LAYER MAP 3 DATATYPE 0 1029

LAYER SP 1030
LAYER MAP 4 DATATYPE 0 1030

LAYER SN 1031
LAYER MAP 5 DATATYPE 0 1031

LAYER CP 1032
LAYER MAP 10 DATATYPE 0 1032

LAYER HV 1033
LAYER MAP 17 DATATYPE 0 1033

LAYER SE 1034
LAYER MAP 46 DATATYPE 0 1034

LAYER SI 1035
LAYER MAP 25 DATATYPE 0 1035

LAYER DN 1036
LAYER MAP 55 DATATYPE 0 1036

LAYER PWB 1037
LAYER MAP 31 DATATYPE 0 1037

LAYER MN 1038
LAYER MAP 45 DATATYPE 0 1038

LAYER MP 1039
LAYER MAP 24 DATATYPE 0 1039

LAYER PD 1040
LAYER MAP 44 DATATYPE 0 1040

LAYER HR 1041
LAYER MAP 33 DATATYPE 0 1041

LAYER MCT 1042
LAYER MAP 78 DATATYPE 0 1042

LAYER PI 1043
LAYER MAP 34 DATATYPE 0 1043

LAYER FUSE 1044
LAYER MAP 81 DATATYPE 0 1044

LAYER PSUB2 1045
LAYER MAP 150 DATATYPE 1 1045

LAYER RES_TO_mark 1046
LAYER MAP 161 DATATYPE 1 1046

LAYER RES_PY_mark 1047
LAYER MAP 162 DATATYPE 1 1047

LAYER RES_M1_mark 1048
LAYER MAP 163 DATATYPE 1 1048

LAYER RES_M2_mark 1049
LAYER MAP 164 DATATYPE 1 1049

LAYER RES_M3_mark 1050
LAYER MAP 165 DATATYPE 1 1050

LAYER RES_M4_mark 1051
LAYER MAP 166 DATATYPE 1 1051

LAYER RES_M5_mark 1052
LAYER MAP 167 DATATYPE 1 1052

LAYER RES_MT_mark 1053
LAYER MAP 168 DATATYPE 1 1053

LAYER RES_HR_mark 1054
LAYER MAP 169 DATATYPE 1 1054

LAYER VARMARK 1055
LAYER MAP 105 DATATYPE 1 1055

LAYER RES_NW_mark 1056
LAYER MAP 112 DATATYPE 1 1056

LAYER RES_FUSE_mark 1356
LAYER MAP 109 DATATYPE 1 1356

LAYER EXCL 1057
LAYER MAP 118 DATATYPE 1 1057

LAYER SCRIBE 1058
LAYER MAP 60 DATATYPE 0 1058

LAYER BJT_mark 1060
LAYER MAP 115 DATATYPE 1 1060

LAYER INDUM_mark 1061
LAYER MAP 117 DATATYPE 1 1061

LAYER ESD_mark 1062
LAYER MAP 180 DATATYPE 1 1062

LAYER TODUM 1063
LAYER MAP 148 DATATYPE 2 1063

LAYER GTDUM 1064
LAYER MAP 149 DATATYPE 2 1064

LAYER A1DUM 1065
LAYER MAP 170 DATATYPE 2 1065

LAYER A2DUM 1066
LAYER MAP 171 DATATYPE 2 1066

LAYER A3DUM 1067
LAYER MAP 172 DATATYPE 2 1067

LAYER A4DUM 1068
LAYER MAP 173 DATATYPE 2 1068

LAYER A5DUM 1069
LAYER MAP 174 DATATYPE 2 1069

LAYER ATDUM 1070
LAYER MAP 175 DATATYPE 2 1070

LAYER MTTDUM 1071
LAYER MAP 176 DATATYPE 2 1071

LAYER LMARK 1072
LAYER MAP 101 DATATYPE 1 1072

LAYER LOGO 1073
LAYER MAP 103 DATATYPE 1 1073

LAYER RNDMY 1074
LAYER MAP 155 DATATYPE 1 1074

LAYER RPDMY 1075
LAYER MAP 156 DATATYPE 1 1075

LAYER DA1BLK_ori 1076
LAYER MAP 7 DATATYPE 5 1076

LAYER DA2BLK_ori 1078
LAYER MAP 9 DATATYPE 5 1078

LAYER DA3BLK_ori 1080
LAYER MAP 41 DATATYPE 5 1080

LAYER DA4BLK_ori 1081
LAYER MAP 62 DATATYPE 5 1081

LAYER DA5BLK_ori 1082
LAYER MAP 92 DATATYPE 5 1082

LAYER DATBLK_ori 1083
LAYER MAP 94 DATATYPE 5 1083

LAYER DTTBLK_ori 1084
LAYER MAP 86 DATATYPE 5 1084

LAYER DUMBM_mark 1097              // Block layer for all dummy metal insertion
LAYER MAP 157 DATATYPE 1 1097

LAYER DUMBP_mark 1098              // Block layer for dummy poly insertion
LAYER MAP 158 DATATYPE 1 1098

LAYER DUMBA_mark 1099              // Block layer for dummy active insertion
LAYER MAP 159 DATATYPE 1 1099

LAYER DIODE_mark 1100
LAYER MAP 113 DATATYPE 1 1100

LAYER VARJUN_mark 1101
LAYER MAP 179 DATATYPE 1 1101

LAYER NODMF_mark 1102              // Block layer for all dummy insertion
LAYER MAP 160 DATATYPE 1 1102

LAYER CAP_mark 1103
LAYER MAP 114 DATATYPE 1 1103

LAYER MOM_mark 1700
LAYER MAP 114 DATATYPE 6 1700

LAYER JFET_mark 1430
LAYER MAP 106 DATATYPE 1 1430

LAYER NG 1400
LAYER MAP 26 DATATYPE 0 1400

LAYER TU 1401
LAYER MAP 52 DATATYPE 0 1401

LAYER PB 1402
LAYER MAP 89 DATATYPE 0 1402

LAYER HN 1403
LAYER MAP 18 DATATYPE 0 1403

LAYER PTM 1404
LAYER MAP 11 DATATYPE 1 1404

LAYER HVDMY 1405
LAYER MAP 49 DATATYPE 0 1405

LAYER PM 1406
LAYER MAP 71 DATATYPE 0 1406

LAYER PK 1484
LAYER MAP 39 DATATYPE 0 1484

LAYER NM 2400
LAYER MAP 70 DATATYPE 0 2400

LAYER NK 2401
LAYER MAP 38 DATATYPE 0 2401

LAYER HV_7V 1407
LAYER MAP 17 DATATYPE 10 1407

LAYER HV_9V 1418
LAYER MAP 17 DATATYPE 11 1418

LAYER HV_10V 1419
LAYER MAP 17 DATATYPE 12 1419

LAYER HV_12V 1420
LAYER MAP 17 DATATYPE 13 1420

LAYER HV_18V 1421
LAYER MAP 17 DATATYPE 14 1421

LAYER HV_23V 1422
LAYER MAP 17 DATATYPE 16 1422

LAYER HV_35V 1423
LAYER MAP 17 DATATYPE 17 1423

LAYER HV_24V 1424
LAYER MAP 17 DATATYPE 18 1424

LAYER HV_30V 1425
LAYER MAP 17 DATATYPE 19 1425

LAYER HV_40V 1426
LAYER MAP 17 DATATYPE 20 1426

LAYER MOM_ter 1150
LAYER MAP 114 DATATYPE 7 1150

LAYER DN_mark 1088
LAYER MAP 55 DATATYPE 1 1088

LAYER SEALRING_mark 1089
LAYER MAP 100 DATATYPE 1 1089

LAYER ZP 1090
LAYER MAP 12 DATATYPE 0 1090

LAYER MCTM5 1091
LAYER MAP 151 DATATYPE 1 1091

LAYER MCTM4 1092
LAYER MAP 152 DATATYPE 1 1092

LAYER MCTM3 1093
LAYER MAP 153 DATATYPE 1 1093

LAYER MCTM2 1094
LAYER MAP 154 DATATYPE 1 1094

// NG_drc=COPY NG
NG_drc=COPY NG

// TU_drc=COPY TU
TU_drc=COPY TU

// PB_drc=COPY PB
PB_drc=COPY PB

// HN_drc=COPY HN
HN_drc=COPY HN

// PTM_drc=COPY PTM
PTM_drc=COPY PTM

// HVDMY_drc=COPY HVDMY
HVDMY_drc=COPY HVDMY

// PM_drc=COPY PM
PM_drc=COPY PM

// PK_drc=COPY PK
PK_drc=COPY PK

// NM_drc=COPY NM
NM_drc=COPY NM

// NK_drc=COPY NK
NK_drc=COPY NK

// ZP_drc=COPY ZP
ZP_drc=COPY ZP

bulk=EXTENT
chip=SIZE bulk BY 1.0

//;;define metal 2
#IFDEF thickmetal2_process
#DEFINE Switch2
#ENDIF
#IFDEF metal2_process
#DEFINE Switch2
#ENDIF

//;;define metal 3
#IFDEF thickmetal3_process
#DEFINE Switch3
#ENDIF
#IFDEF metal3_process
#DEFINE Switch3
#ENDIF

//;;define metal 4
#IFDEF thickmetal4_process
#DEFINE Switch4
#ENDIF
#IFDEF metal4_process
#DEFINE Switch4
#ENDIF

//;;define metal 5
#IFDEF thickmetal5_process
#DEFINE Switch5
#ENDIF
#IFDEF metal5_process
#DEFINE Switch5
#ENDIF

//;;define metal 6
#IFDEF thickmetal6_process
#DEFINE Switch6
#ENDIF
#IFDEF metal6_process
#DEFINE Switch6
#ENDIF

//;;define metal 5/6
#IFDEF Switch5
#DEFINE Switch56
#ENDIF

#IFDEF Switch6
#DEFINE Switch56
#ENDIF

//;;define metal 4/5/6
#IFDEF Switch4
#DEFINE Switch456
#ENDIF

#IFDEF Switch56
#DEFINE Switch456
#ENDIF

//;;define metal 3/4/5/6
#IFDEF Switch3
#DEFINE Switch3456
#ENDIF

#IFDEF Switch456
#DEFINE Switch3456
#ENDIF

//;;define thick metal
#IFDEF thickmetal2_process
#DEFINE Switch_thick
#ENDIF

#IFDEF thickmetal3_process
#DEFINE Switch_thick
#ENDIF

#IFDEF thickmetal4_process
#DEFINE Switch_thick
#ENDIF

#IFDEF thickmetal5_process
#DEFINE Switch_thick
#ENDIF

#IFDEF thickmetal6_process
#DEFINE Switch_thick
#ENDIF
//;;define thin metal
#IFDEF metal2_process
#DEFINE Switch_thin
#ENDIF

#IFDEF metal3_process
#DEFINE Switch_thin
#ENDIF

#IFDEF metal4_process
#DEFINE Switch_thin
#ENDIF

#IFDEF metal5_process
#DEFINE Switch_thin
#ENDIF

#IFDEF metal6_process
#DEFINE Switch_thin
#ENDIF

//;;define TT--BT metal process
#IFDEF thickmetal3_process
#IFDEF below_topmetal double_thick_metal
#DEFINE switch_T3_BT_process
#DEFINE Switch_BT
#ENDIF
#ENDIF

#IFDEF thickmetal4_process
#IFDEF below_topmetal double_thick_metal
#DEFINE switch_T4_BT_process
#DEFINE Switch_BT
#ENDIF
#ENDIF

#IFDEF thickmetal5_process
#IFDEF below_topmetal double_thick_metal
#DEFINE switch_T5_BT_process
#DEFINE Switch_BT
#ENDIF
#ENDIF

#IFDEF thickmetal6_process
#IFDEF below_topmetal double_thick_metal
#DEFINE switch_T6_BT_process
#DEFINE Switch_BT
#ENDIF
#ENDIF

#IFDEF CHECK_SRAM_EXCL

EXCL_N  = bulk NOT chip  // an empty layer to disable the usage of EXCL

#ELSE

EXCL_N  = COPY EXCL      // EXCL_N = EXCL

#ENDIF

// all_to=TO or TODUM
all_to=OR TO TODUM

// all_gt=GT or GTDUM
all_gt=OR GT GTDUM

// all_a1=A1 or A1DUM
all_a1=OR A1 A1DUM

// all_a2=A2 or A2DUM
all_a2=OR A2 A2DUM

// all_a3=A3 or A3DUM
all_a3=OR A3 A3DUM

// all_a4=A4 or A4DUM
all_a4=OR A4 A4DUM

// all_a5=A5 or A5DUM
all_a5=OR A5 A5DUM

// all_at=AT or ATDUM
all_at=OR AT ATDUM

// all_mtt=MTT or MTTDUM
all_mtt=OR MTT MTTDUM

// A1SLOT_slot_drc=COPY A1SLOT_slot 
A1SLOT_slot_drc=COPY A1SLOT_slot

// A2SLOT_slot_drc=COPY A2SLOT_slot 
A2SLOT_slot_drc=COPY A2SLOT_slot

// A3SLOT_slot_drc=COPY A3SLOT_slot 
A3SLOT_slot_drc=COPY A3SLOT_slot

// A4SLOT_slot_drc=COPY A4SLOT_slot 
A4SLOT_slot_drc=COPY A4SLOT_slot

// A5SLOT_slot_drc=COPY A5SLOT_slot 
A5SLOT_slot_drc=COPY A5SLOT_slot

// ATSLOT_slot_drc=COPY ATSLOT_slot 
ATSLOT_slot_drc=COPY ATSLOT_slot 

// MTTSLOT_slot_drc=MTTSLOT_slot 
MTTSLOT_slot_drc=COPY MTTSLOT_slot 

// DA1BLK=DA1BLK_ori or DUMBM_mark
DA1BLK=DA1BLK_ori OR DUMBM_mark

// DA2BLK=DA2BLK_ori or DUMBM_mark
DA2BLK=DA2BLK_ori OR DUMBM_mark

// DA3BLK=DA3BLK_ori or DUMBM_mark
DA3BLK=DA3BLK_ori OR DUMBM_mark

// DA4BLK=DA4BLK_ori or DUMBM_mark
DA4BLK=DA4BLK_ori OR DUMBM_mark

// DA5BLK=DA5BLK_ori or DUMBM_mark
DA5BLK=DA5BLK_ori OR DUMBM_mark

// DATBLK=DATBLK_ori or DUMBM_mark
DATBLK=DATBLK_ori OR DUMBM_mark

// DTTBLK=DTTBLK_ori or DUMBM_mark
DTTBLK=DTTBLK_ori OR DUMBM_mark

// TB_drc=COPY TB 
TB_drc=COPY TB 

// SN_drc=COPY SN  
SN_drc=COPY SN 

// SP_drc=COPY SP  
SP_drc=COPY SP 

// TO_drc=COPY TO 
TO_drc=COPY TO 

// CP_drc=COPY CP 
CP_drc=COPY CP 

// GT_drc=COPY GT 
GT_drc=COPY GT 

// SE_drc=COPY SE 
SE_drc=COPY SE 

// SI_drc=COPY SI 
SI_drc=COPY SI 

// W1_drc=COPY W1 
W1_drc=COPY W1 

// W2_drc=COPY W2 
W2_drc=COPY W2 

// W3_drc=COPY W3
W3_drc=COPY W3

// W4_drc=COPY W4
W4_drc=COPY W4

// W5_drc=COPY W5
W5_drc=COPY W5

// WT_drc=COPY WT
WT_drc=COPY WT

// A1_drc=COPY COPY (A1 or A1DUM) 
A1_drc=COPY all_a1 

// A2_drc=COPY (A2 or A2DUM)
A2_drc=COPY all_a2

// A3_drc=COPY (A3 or A3DUM)
A3_drc=COPY all_a3

// A4_drc=COPY (A4 or A4DUM)
A4_drc=COPY all_a4

// A5_drc=COPY (A5 or A5DUM)
A5_drc=COPY all_a5

// AT_drc=COPY (AT or ATDUM)
AT_drc=COPY all_at

// MTT_drc=COPY (MTT or MTTDUM)
MTT_drc=COPY all_mtt

// DN_drc=COPY DN 
DN_drc=COPY DN 

// PWB_drc=COPY PWB 
PWB_drc=COPY PWB 

// MN_drc=COPY MN 
MN_drc=COPY MN 

// MP_drc=COPY MP 
MP_drc=COPY MP 

// PD_drc=COPY PD 
PD_drc=COPY PD 

// HR_drc=COPY HR 
HR_drc=COPY HR 

// MCT_drc=COPY MCT 
MCT_drc=COPY MCT 

// PI_drc=COPY PI 
PI_drc=COPY PI 

// FUSE_drc=COPY FUSE 
FUSE_drc=COPY FUSE  

// PSUB2_cut=PSUB2 size 0.1 andnot PSUB2
psub01=SIZE PSUB2 BY 0.1
PSUB2_cut=NOT psub01 PSUB2

// big_chip_to=bulk area >=62500
big_chip_to=AREA bulk >=62500

// big_chip_metal=bulk area >=2500
big_chip_metal=AREA bulk >=2500

// pwell=bulk andnot TB_drc andnot PSUB2_cut
nwella=OR TB_drc PSUB2_cut
pwell=NOT bulk nwella

// gt_res=GT_drc overlap RES_PY_mark
gt_res=INTERACT GT_drc RES_PY_mark

// to_res=TO_drc overlap RES_TO_mark
to_res=INTERACT TO_drc RES_TO_mark

// ndiff=TO_drc and SN_drc
ndiff=AND SN_drc TO_drc

// pdiff=TO_drc and SP_drc
pdiff=AND SP_drc TO_drc

// tb_conn=copy TB_drc
tb_conn=COPY TB_drc

// w1_and_gt=W1_drc and GT_drc
w1_and_gt=AND GT_drc W1_drc

// w1_to=W1_drc and TO_drc
w1_to=AND TO_drc W1_drc

// nsd=ndiff andnot GT_drc
nsd=(NOT ndiff GT_drc) NOT RES_TO_mark

// ntap=ndiff and TB_drc
ntap=AND TB_drc nsd

// nsdg=ndiff andnot ntap
nsdg=NOT ndiff ntap

// psd=pdiff andnot GT_drc 
psd=(NOT pdiff GT_drc) NOT RES_TO_mark

// ptap=pdiff andnot TB_drc
ptap=NOT pdiff TB_drc

// psdg=pdiff andnot ptap
psdg=NOT pdiff ptap

// ptm_ptap=psd and PTM_drc
ptm_ptap=psd AND PTM_drc

// cp_fuse=CP_drc overlap RES_FUSE_mark
cp_fuse=NOT OUTSIDE CP_drc RES_FUSE_mark

// cp_no_fuse=CP_drc andnot cp_fuse
cp_no_fuse=NOT CP_drc cp_fuse

// w1_and_nsd=W1_drc and nsd
w1_and_nsd=AND W1_drc nsd

// w1_and_psd=W1_drc and psd
w1_and_psd=AND W1_drc psd

// butt_ndiff=ndiff buttOnly pdiff
butt_ndiff=TOUCH ndiff pdiff

// butt_pdiff=pdiff buttOnly ndiff
butt_pdiff=TOUCH pdiff ndiff

// pgate=(GT_drc andnot BJT_mark) and pdiff
gt_not_bjt=NOT GT_drc BJT_mark
pgate=AND gt_not_bjt pdiff

// ngate=(GT_drc andnot BJT_mark) and ndiff
ngate=AND gt_not_bjt ndiff

// gate=ngate or pgate
gate=OR ngate pgate

// imp_reg=SN_drc or SP_drc
imp_reg=OR SN_drc SP_drc

// tb_res=TB_drc overlap RES_NW_mark
tb_res=NOT OUTSIDE TB_drc RES_NW_mark

// gt_conn=(GT_drc andnot BJT_mark) andnot RES_PY_mark andnot RES_HR_mark
polymark=OR RES_PY_mark RES_HR_mark
gt_conn=NOT gt_not_bjt polymark

// gt_bjt_hole=(GT_drc and BJT_mark) hole inner
gt_bjt=AND BJT_mark GT_drc
gt_bjt_hole=HOLES gt_bjt INNER

// a1_conn=A1_drc andnot A1SLOT_slot_drc andnot RES_M1_mark
a1_conn1=NOT A1_drc A1SLOT_slot_drc
a1_conn=NOT a1_conn1 RES_M1_mark

// w2_pad=W2_drc inside CP_drc
w2_pad=INSIDE W2_drc CP_drc

// a2_conn=A2_drc andnot A2SLOT_slot_drc andnot RES_M2_mark
a2_conn1=NOT A2_drc A2SLOT_slot_drc
a2_conn=NOT a2_conn1 RES_M2_mark

// w3_pad=W3_drc inside CP_drc
w3_pad=INSIDE W3_drc CP_drc

// a3_conn=A3_drc andnot A3SLOT_slot_drc andnot RES_M3_mark
a3_conn1=NOT A3_drc A3SLOT_slot_drc
a3_conn=NOT a3_conn1 RES_M3_mark

// w4_pad=W4_drc inside CP_drc
w4_pad=INSIDE W4_drc CP_drc

// a4_conn=A4_drc andnot A4SLOT_slot_drc andnot RES_M4_mark
a4_conn1=NOT A4_drc A4SLOT_slot_drc
a4_conn=NOT a4_conn1 RES_M4_mark

// w5_pad=W5_drc inside CP_drc
w5_pad=INSIDE W5_drc CP_drc

// a5_conn=A5_drc andnot A5SLOT_slot_drc andnot RES_M5_mark
a5_conn1=NOT A5_drc A5SLOT_slot_drc
a5_conn=NOT a5_conn1 RES_M5_mark

// wt_pad=WT_drc inside CP_drc
wt_pad=INSIDE WT_drc CP_drc

// at_conn=AT_drc andnot ATSLOT_slot_drc andnot RES_MT_mark
at_conn1=NOT AT_drc ATSLOT_slot_drc
at_conn=NOT at_conn1 RES_MT_mark

// tt_conn=MTT_drc andnot MTTSLOT_slot_drc andnot RES_MT_mark andnot INDUM_mark
tt_conn1=NOT MTT_drc MTTSLOT_slot_drc
tt_conn2=NOT tt_conn1 RES_MT_mark
tt_conn=NOT tt_conn2 INDUM_mark

// var_ndiff=ntap overlap VARMARK
var_ndiff=INTERACT ntap VARMARK

// nwHolw_dn=DN_drc enclose (TB_drc hole) and (TB_drc hole)
aa=HOLES TB_drc
nw_Hole=NOT aa TB_drc
dn_enc_nwHole=ENCLOSE DN_drc nw_hole
nwHole_dn=AND dn_enc_nwHole nw_hole

// ndiff_bjt=ndiff and BJT_mark
ndiff_bjt=AND BJT_mark ndiff

// vnpn_e=ndiff_bjt and nwHole_dn notInteract gt_bjt_hole 
npnemit=AND ndiff_bjt nwHole_dn
vnpn_e=NOT INTERACT ndiff_bjt gt_bjt_hole

// vnpn_e1=ndifff_bjt and nwHole_dn and gt_bjt_hole
vnpn_e1=AND npnemit gt_bjt_hole 

// vnpn_innerto=TO_drc overlap vnpn_e1
vnpn_innerto=INTERACT TO_drc vnpn_e1

// vnpn_dn=DN_drc overlap npnemit
vnpn_dn=INTERACT DN_drc npnemit

// vnpn_emit_sn=SN_drc overlap vnpn_innerto
vnpn_emit_sn=INTERACT SN_drc vnpn_innerto

// vnpn_base_sp=SP_drc overlap vnpn_innerto
vnpn_base_sp=INTERACT SP_drc vnpn_innerto

// nwHolw_dn_bjt=nwHole_dn and BJT_mark
nwHolw_dn_bjt=AND nwHole_dn BJT_mark

// vnpn_ring=nwHolw_dn_bjt andnot ndiff andnot pdiff andnot gt_bjt
vnpn_ring1=NOT nwHolw_dn_bjt ndiff
vnpn_ring2=NOT vnpn_ring1 pdiff
vnpn_ring=NOT vnpn_ring2 gt_bjt

// vnpn_undoped=vnpn_innerto andnot SP_drc andnot SN_drc
vnpn_undoped1=NOT vnpn_innerto SP_drc
vnpn_undoped=NOT vnpn_undoped1 SN_drc

// to_undoped=((TO_drc andnot salicres_to) andnot vnpn_undoped) andnot SP_drc) andnot SN_drc
to_not_sinw=(TO_drc NOT salicres_to) NOT zener_active
to_not_qvn=(((to_not_sinw NOT vnpn_undoped) NOT mp1218vt_gate_to) NOT mn23vta2_gate_to) NOT mp9vt_gate_to
to_not_hvmos=(((to_not_qvn NOT mn2430vt_gate_to) NOT mn10vt_gate_to) NOT mn10vta_gate_to) NOT mp10vt_gate_to
to_not_sp1=(to_not_hvmos NOT mp2430vt_gate_to) NOT mn24vt_hbv_gate_to
to_not_sp=to_not_sp1 NOT SP_drc
to_undoped=to_not_sp NOT SN_drc

// gt_err_h=((TO_drc andnot gate) butt==2 gate) enclose>=1 w1_to
sdgcon=NOT TO_drc gate
gate_space_to=TOUCH sdgcon gate == 2
gate_space_to_w1=ENCLOSE gate_space_to w1_to >=1

// gt_err_g1_g2=
gt_without_sab=NOT GT_drc SI_drc
long_poly=AREA gt_without_sab>0.18*50
check_gt=INTERACT long_poly w1_and_gt
check_w1=INTERACT w1_and_gt check_gt
w1_and_gt_a=SIZE check_w1 BY 25 INSIDE OF check_gt STEP 0.25
long_poly_a=INTERACT check_gt w1_and_gt_a ==1
long_poly_b=INTERACT check_gt w1_and_gt_a >1
w1_and_gt_b=INTERACT w1_and_gt_a long_poly_a
w1_and_gt_c=SIZE w1_and_gt_b BY 25 INSIDE OF long_poly_a STEP 0.25
bad_area=OR (long_poly_a NOT w1_and_gt_c) (long_poly_b NOT w1_and_gt_a)
bad_edge=COIN INSIDE EDGE bad_area GT_drc
error_region= INTERNAL bad_edge <0.24 ABUT <90 REGION
gt_err_g1_g2=INTERACT check_gt error_region

// w1_not_gt_to=W1_drc andnot GT_drc andnot TO_drc
w1_not_gt=NOT W1_drc GT_drc
w1_not_gt_to=NOT w1_not_gt TO_drc

// A1_short_slot=((A1SLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_a1slot_edge=EXPAND EDGE A1SLOT_slot_drc OUTSIDE BY 0.01
long_a1slot_edge=LENGTH exp_a1slot_edge >5
a1slot_length=LENGTH long_a1slot_edge <20
A1_short_slot=WITH EDGE A1SLOT_slot_drc a1slot_length

// A2_short_slot=((A2SLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_a2slot_edge=EXPAND EDGE A2SLOT_slot_drc OUTSIDE BY 0.01
long_a2slot_edge=LENGTH exp_a2slot_edge >5
a2slot_length=LENGTH long_a2slot_edge <20
A2_short_slot=WITH EDGE A2SLOT_slot_drc a2slot_length

// A3_short_slot=((A3SLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_a3slot_edge=EXPAND EDGE A3SLOT_slot_drc OUTSIDE BY 0.01
long_a3slot_edge=LENGTH exp_a3slot_edge >5
a3slot_length=LENGTH long_a3slot_edge <20
A3_short_slot=WITH EDGE A3SLOT_slot_drc a3slot_length

// A4_short_slot=((A4SLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_a4slot_edge=EXPAND EDGE A4SLOT_slot_drc OUTSIDE BY 0.01
long_a4slot_edge=LENGTH exp_a4slot_edge >5
a4slot_length=LENGTH long_a4slot_edge <20
A4_short_slot=WITH EDGE A4SLOT_slot_drc a4slot_length

// A5_short_slot=((A5SLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_a5slot_edge=EXPAND EDGE A5SLOT_slot_drc OUTSIDE BY 0.01
long_a5slot_edge=LENGTH exp_a5slot_edge >5
a5slot_length=LENGTH long_a5slot_edge <20
A5_short_slot=WITH EDGE A5SLOT_slot_drc a5slot_length

// AT_short_slot=((ATSLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_atslot_edge=EXPAND EDGE ATSLOT_slot_drc OUTSIDE BY 0.01
long_atslot_edge=LENGTH exp_atslot_edge >5
atslot_length=LENGTH long_atslot_edge <20
AT_short_slot=WITH EDGE ATSLOT_slot_drc atslot_length

// MTT_short_slot=((MTTSLOT_slot_drc growEdges 0.01) segment > 5) length <20
exp_mttslot_edge=EXPAND EDGE MTTSLOT_slot_drc OUTSIDE BY 0.01
long_mttslot_edge=LENGTH exp_mttslot_edge >5
mttslot_length=LENGTH long_mttslot_edge <20
MTT_short_slot=WITH EDGE MTTSLOT_slot_drc mttslot_length

#IFDEF Switch2
cp_or_ctm=OR CP_drc MCTM2
#ENDIF

#IFDEF Switch3
cp_or_ctm=OR CP_drc MCTM2
#ENDIF

#IFDEF Switch4
cp_or_ctm=OR CP_drc MCTM3
#ENDIF

#IFDEF Switch5
cp_or_ctm=OR CP_drc MCTM4
#ENDIF

#IFDEF Switch6
cp_or_ctm=OR CP_drc MCTM5
#ENDIF

// rule_SLOT_A1_j=((A1_drc downUp 17.5) outside A1SLOT_slot_drc) andnot (((A1_drc downUp
//  17.5) outside A1SLOT_slot_drc) interact (CP_drc or MCTM5))
a1_width35=SIZE A1_drc BY 17.5 UNDEROVER
a1_width35_noSlot=OUTSIDE a1_width35 A1SLOT_slot_drc
a1_width35_cp=INTERACT a1_width35_noSlot cp_or_ctm
rule_SLOT_A1_j=NOT a1_width35_noSlot a1_width35_cp

// rule_SLOT_A2_j=((A2_drc downUp 17.5) outside A2SLOT_slot_drc) andnot (((A2_drc downUp
//  17.5) outside A2SLOT_slot_drc) interact (CP_drc or MCTM5))
a2_width35=SIZE A2_drc BY 17.5 UNDEROVER
a2_width35_noSlot=OUTSIDE a2_width35 A2SLOT_slot_drc
a2_width35_cp=INTERACT a2_width35_noSlot cp_or_ctm
rule_SLOT_A2_j=NOT a2_width35_noSlot a2_width35_cp

// rule_SLOT_A3_j=((A3_drc downUp 17.5) outside A3SLOT_slot_drc) andnot (((A3_drc downUp
//  17.5) outside A3SLOT_slot_drc) interact (CP_drc or MCTM5))
a3_width35=SIZE A3_drc BY 17.5 UNDEROVER
a3_width35_noSlot=OUTSIDE a3_width35 A3SLOT_slot_drc
a3_width35_cp=INTERACT a3_width35_noSlot cp_or_ctm
rule_SLOT_A3_j=NOT a3_width35_noSlot a3_width35_cp

// rule_SLOT_A4_j=((A4_drc downUp 17.5) outside A4SLOT_slot_drc) andnot (((A4_drc downUp
//  17.5) outside A4SLOT_slot_drc) interact (CP_drc or MCTM5))
a4_width35=SIZE A4_drc BY 17.5 UNDEROVER
a4_width35_noSlot=OUTSIDE a4_width35 A4SLOT_slot_drc
a4_width35_cp=INTERACT a4_width35_noSlot cp_or_ctm
rule_SLOT_A4_j=NOT a4_width35_noSlot a4_width35_cp

// rule_SLOT_A5_j=((A5_drc downUp 17.5) outside A5SLOT_slot_drc) andnot (((A5_drc downUp
//  17.5) outside A5SLOT_slot_drc) interact (CP_drc or MCTM5))
a5_width35=SIZE A5_drc BY 17.5 UNDEROVER
a5_width35_noSlot=OUTSIDE a5_width35 A5SLOT_slot_drc
a5_width35_cp=INTERACT a5_width35_noSlot cp_or_ctm
rule_SLOT_A5_j=NOT a5_width35_noSlot a5_width35_cp

// rule_SLOT_AT_j=((AT_drc downUp 17.5) outside ATSLOT_slot_drc) andnot (((AT_drc downUp
//  17.5) outside ATSLOT_slot_drc) interact (CP_drc or MCTM5))
at_width35=SIZE AT_drc BY 17.5 UNDEROVER
at_width35_noSlot=OUTSIDE at_width35 ATSLOT_slot_drc
at_width35_cp=INTERACT at_width35_noSlot cp_or_ctm
rule_SLOT_AT_j=NOT at_width35_noSlot at_width35_cp

// rule_SLOT_MTT_j=((MTT_drc downUp 17.5) outside MTTSLOT_slot_drc) andnot (((MTT_drc downUp
//  17.5) outside ATSLOT_slot_drc) interact (CP_drc or MCTM5))
tt_width35=SIZE MTT_drc BY 17.5 UNDEROVER
tt_width35_noSlot=OUTSIDE tt_width35 MTTSLOT_slot_drc
tt_width35_cp=INTERACT tt_width35_noSlot cp_or_ctm
rule_SLOT_MTT_j=NOT tt_width35_noSlot tt_width35_cp

// wtcon=WT_drc outside mctcap
wtcon=OUTSIDE WT_drc mctcap

// wtmct=WT_drc and mctcap
wtmct=AND WT_drc mctcap

//;;mim operation

#IFDEF switch_T3_BT_process
mctcap=INTERACT MCT_drc W2_drc
mctring=NOT INTERACT MCT_drc W2_drc 
#ENDIF

#IFDEF switch_T4_BT_process
mctcap=INTERACT MCT_drc W3_drc
mctring=NOT INTERACT MCT_drc W3_drc
#ENDIF

#IFDEF switch_T5_BT_process
mctcap=INTERACT MCT_drc W4_drc
mctring=NOT INTERACT MCT_drc W4_drc
#ENDIF

#IFDEF switch_T6_BT_process
mctcap=INTERACT MCT_drc W5_drc
mctring=NOT INTERACT MCT_drc W5_drc
#ENDIF

#IFDEF metal2_process

    CONNECT at_conn mctcap BY wtmct
    CONNECT at_conn a1_conn BY wtcon
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH AT_text at_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF metal3_process

    CONNECT at_conn mctcap BY wtmct
    CONNECT at_conn a2_conn BY wtcon
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH AT_text at_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF metal4_process

    CONNECT at_conn mctcap BY wtmct
    CONNECT at_conn a3_conn BY wtcon
    CONNECT a3_conn a2_conn BY W3
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH AT_text at_conn
    ATTACH A3_text a3_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF metal5_process

    CONNECT at_conn mctcap BY wtmct
    CONNECT at_conn a4_conn BY wtcon
    CONNECT a4_conn a3_conn BY W4
    CONNECT a3_conn a2_conn BY W3
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH AT_text at_conn
    ATTACH A4_text a4_conn
    ATTACH A3_text a3_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF metal6_process

    CONNECT at_conn mctcap BY wtmct
    CONNECT at_conn a5_conn BY wtcon
    CONNECT a5_conn a4_conn BY W5
    CONNECT a4_conn a3_conn BY W4
    CONNECT a3_conn a2_conn BY W3
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH AT_text at_conn
    ATTACH A5_text a5_conn
    ATTACH A4_text a4_conn
    ATTACH A3_text a3_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF thickmetal2_process

    CONNECT tt_conn mctcap BY wtmct
    CONNECT tt_conn a1_conn BY wtcon
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH MTT_text tt_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF thickmetal3_process

    CONNECT tt_conn mctcap BY wtmct
    CONNECT tt_conn a2_conn BY wtcon
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH MTT_text tt_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF thickmetal4_process

    CONNECT tt_conn mctcap BY wtmct
    CONNECT tt_conn a3_conn BY wtcon
    CONNECT a3_conn a2_conn BY W3
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH MTT_text tt_conn
    ATTACH A3_text a3_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF thickmetal5_process

    CONNECT tt_conn mctcap BY wtmct
    CONNECT tt_conn a4_conn BY wtcon
    CONNECT a4_conn a3_conn BY W4
    CONNECT a3_conn a2_conn BY W3
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH MTT_text tt_conn
    ATTACH A4_text a4_conn
    ATTACH A3_text a3_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF
#IFDEF thickmetal6_process

    CONNECT tt_conn mctcap BY wtmct
    CONNECT tt_conn a5_conn BY wtcon
    CONNECT a5_conn a4_conn BY W5
    CONNECT a4_conn a3_conn BY W4
    CONNECT a3_conn a2_conn BY W3
    CONNECT a2_conn a1_conn BY W2
    CONNECT a1_conn gt_conn BY w1_and_gt
    CONNECT a1_conn nsd BY w1_and_nsd
    CONNECT a1_conn psd BY w1_and_psd

    ATTACH MTT_text tt_conn
    ATTACH A5_text a5_conn
    ATTACH A4_text a4_conn
    ATTACH A3_text a3_conn
    ATTACH A2_text a2_conn
    ATTACH A1_text a1_conn

#ENDIF

    SCONNECT nsd ntap

    SCONNECT ntap tb_conn

    SCONNECT psd ptap

    SCONNECT ptap pwell

    SCONNECT psd ptm_ptap

    SCONNECT ptm_ptap PTM_drc

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.1 N-well(TB): Define the N-well for P channel devices
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
coldnw=NET tb_conn "?VDD?" "?VCC?"
hotnw=NOT tb_conn coldnw

tbA_nwell_excl=((((qvnptm_nwell OR qvpp_nwell) OR qvppm_nwell) OR qvpptm_nwell) OR qvppb_nwell) OR qvnpm_nwell
TB.a {
    @TB.a: Minimum NW width must be >=0.86um
    L1001=INTERNAL (TB_drc NOT tbA_nwell_excl) <0.86 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

TB.b.1 {
    @TB.b.1: Min space between two NW with different potential(5v) must be >= 1.8 um
    L1001=EXTERNAL (tb_conn NOT qlp_sp_hn_nwell) <1.8 REGION NOT CONNECTED SINGULAR SPACE 
    NOT INSIDE L1001 EXCL
}

TB.b.2 {
    @TB.b.2: Min space between two NW with same potential must be >= 0.8 um
    L1001=EXTERNAL tb_conn <0.8 REGION CONNECTED SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

tb_exc1=(23v_tb OR 23v_tb_p) OR (mn5hn_nwell_ring OR zener_nwell_ring)
tb_exc2=(((tb_exc1 OR qvnptm_nwell) OR qlp_sp_hn_nwell) OR mp1218vt_tb) OR jfet_tb
tb_exc3=(((tb_exc2 OR qvpp_nwell) OR dpbhn_nwell) OR mn23vta2_tb) OR 9v_nwell
tb_exc4=(((tb_exc3 OR mp9vt_tb) OR mn35vta_tb) OR mp35vta_tb) OR qvppm_nwell
tb_exc5=((tb_exc4 OR qvpptm_nwell) OR qvppb_nwell) OR dpmhn_nwell
tb_exc6=(((tb_exc5 OR mn10vt_nwell) OR mn10vta_nwell) OR mp2430vt_tb) OR qvnpm_nwell
tb_exc=COPY tb_exc6 
TB.c {
    @TB.c: Min dimension of an NW region not connect to most positive power supply must be >=2.1 um
    X=INTERNAL hotnw <2.1 REGION SINGULAR ABUT<90
    Y=X TOUCH (tb_res AND RES_NW_mark)
    L1001=(X NOT tb_res) NOT tb_exc
    NOT INSIDE L1001 EXCL
}

TB.d {
    @TB.d: Min area of NW must be >=4.0 um2
    AREA TB_drc <4.0
}

hv_ptm=PTM_drc AND HVDMY_drc
lv_tb=TB_drc NOT HVDMY_drc
TB.e {
    @TB.e: Min space between TB and HVDMY must be >= 0.8um
    L1001=EXTERNAL lv_tb HVDMY_drc <0.8 REGION SINGULAR ABUT>0<90 
    NOT INSIDE L1001 EXCL
    TB_drc CUT HVDMY_drc
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.1.1 Nwell resistor within active
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
restb_with_sab=NOT OUTSIDE TB_drc (NOT OUTSIDE RNDMY (NOT OUTSIDE tb_res SI_drc))
restb_sab_body=AND restb_with_sab RNDMY
salicres_si=INTERACT SI_drc restb_with_sab
salicres_w1=INTERACT w1_and_nsd (salicres_si OR (HOLES salicres_si))
salicres_sn=INTERACT SN_drc salicres_si
salicres_to=CUT TO_drc salicres_sn

Nwell_res.a {
    @Nwell_res.a: Min extension of NW by active must be >=1.0um
    L1001=ENCLOSURE tb_res salicres_to <1.0 REGION SINGULAR ABUT<90  
    NOT INSIDE L1001 EXCL
}

Nwell_res.b {
    @Nwell_res.b: Min extension of cont by salicide NW region must be >=0.3um
    L1001=ENCLOSURE salicres_w1 restb_with_sab <0.3 REGION SINGULAR ABUT<90 OVERLAP 
    NOT INSIDE L1001 EXCL
}

Nwell_res.c {
    @Nwell_res.c: Min spacing between SAB and related NW region must be >=0.3um
    L1001=EXTERNAL salicres_si tb_res <0.3 REGION SINGULAR ABUT<90  
    NOT INSIDE L1001 EXCL
}

Nwell_res.d {
    @Nwell_res.d: Min extension of active by related SAB region must be >=0.22um
    L1001=ENCLOSURE salicres_to salicres_si <0.22 REGION SINGULAR ABUT<90 
    fill_salicres_si=(HOLES salicres_si) OR salicres_si
    L1002=NOT salicres_to fill_salicres_si
    NOT INSIDE L1001 EXCL    
    NOT INSIDE L1002 EXCL
}

Nwell_res.e {
    @Nwell_res.e: Min overlap between SN and SAB in NW region must be >=0.4um
    L1001=INTERNAL salicres_sn salicres_si <0.4 REGION SINGULAR ABUT<90  
    X=HOLES salicres_si INNER
    L1002=X NOT salicres_sn
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

Nwell_res.f {
    @Nwell_res.f: Min sapcing between cont and SAB in NW region must be >=0.3um
    L1001=EXTERNAL salicres_w1 salicres_si <0.3 REGION SINGULAR ABUT<90 OVERLAP 
    NOT INSIDE L1001 EXCL
}

Nwell_res.g {
    @Nwell_res.g: Min sapcing of NW resistor must be >=1.8um
    L1001=EXTERNAL restb_sab_body <1.8 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

Nwell_res.h {
    @Nwell_res.h: Min width of NW resistor must be >=2.0um
    L1001=INTERNAL tb_res <2.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

Nwell_res.i {
    @Nwell_res.i:Min extension of SN beyond TO for Nwell resistor under STI must be >=0.18um
    L1001=ndiff INTERACT (tb_res NOT INTERACT SI_drc)
    L1002=ENC L1001 SN_drc <0.18 REGION SINGULAR ABUT<90 OVERLAP 
    NOT INSIDE L1002 EXCL
}

Nwell_res.j {
   @Nwell_res.j:Min clearance from RES_NW_mark to TB must be >=0.3 um

   L1001=(tb_res NOT INTERACT SI_drc) NOT RES_NW_mark
   L1002=(tb_res AND RES_NW_mark) TOUCH EDGE L1001
   L1003=(tb_res AND RES_NW_mark) WITH EDGE L1002 !=2
   L1004=ENC (tb_res NOT INTERACT SI_drc) RES_NW_mark <0.3 REGION SINGULAR ABUT<90  
   NOT INSIDE L1003 EXCL
   NOT INSIDE L1004 EXCL
}

Nwell_res.k {
    @Nwell_res.k: SN and SP is not allowed in NW resistor region 
    AND restb_sab_body SP_drc
    AND restb_sab_body SN_drc
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.2  Active Area(TO): Define the active areas for N and P
//       channel devices and diffused interconnect
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
TO.a.1 {
     @TO.a.1: Min active width for interconnect must be >=0.22um
     L1001=INTERNAL TO_drc <0.22 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

nmos_to_w=INSIDE EDGE gt_not_bjt nsdg
TO.b.1 {
    @TO.b.1: Active width for NMOS must be >= 0.22 um
    L1001=INSIDE EDGE (gt_not_bjt NOT INSIDE EXCL) (nsdg NOT INSIDE EXCL)
    PATH LENGTH (INSIDE EDGE (gt_not_bjt NOT INSIDE EXCL) (nsdg NOT INSIDE EXCL)) <0.22
}

pmos_to_w=INSIDE EDGE gt_not_bjt psdg
TO.b.2 {
    @TO.b.2: Active width for PMOS must be >= 0.22 um
    PATH LENGTH (INSIDE EDGE (gt_not_bjt NOT INSIDE EXCL) (psdg NOT INSIDE EXCL)) <0.22
}

TO.c {
    @TO.c: Min spacing of TO must be >=0.28um
    L1001=EXTERNAL TO_drc < 0.28 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

to_excl=(((salicres_to OR 18v_gate_to) OR 9v_gate_to) OR mn10vt_gate_to) OR mn10vta_gate_to
TO.d {
    @TO.d: Min extension from NW edge to an NW pick-up must be >=0.12um
    L1001=ENCLOSURE (ndiff NOT salicres_to) TB_drc <0.12 REGION SINGULAR ABUT<90 
    ((ndiff NOT to_excl) CUT TB_drc) NOT TB_drc
    NOT INSIDE L1001 EXCL
}

tbe_excl=(9v_nwell OR mn10vt_nwell) OR mn10vta_nwell
TO.e {
    @TO.e: Min spacing of NW edge to an N+active outside NW(5v) must be >=0.45um
    A = ndiff NOT INSIDE TB_drc
    X = A NOT salicres_to
    L1001=EXT X TB_drc < 0.45 SINGULAR ABUT<90 REGION 
    NOT INSIDE L1001 EXCL
    X CUT (TB_drc NOT tbe_excl) 
}

tof_tb_excl1=(((23v_tb_p OR mp1218vt_tb) OR mp7vt_tb) OR mp9vt_tb) OR mp35vta_tb
tof_tb_excl=(tof_tb_excl1 OR mp10vt_tb) OR mp2430vt_tb
TO.f {
    @TO.f: Min spacing of NW edge to an P+active inside NW(5v) must be >=0.45um
     L1001=ENCLOSURE pdiff (TB_drc NOT qlp_sp_hn_nwell) <0.45 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     CUT pdiff (TB_drc NOT tof_tb_excl)
}

TO.g {
    @TO.g: Min spacing of NW edge to an P+active(PW pick-up)
    @ outside NW must be >=0.12um
     L1001=EXTERNAL (TB_drc NOT tof_tb_excl) ptap <0.12 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL    
}

toh_excl=HN_drc OR mn10vt_gate_to
TO.h.1 {
    @TO.h.1: Min spacing of poly edge to the edeg of butted diffusion active must be >=0.32um 
    L1001=EXTERNAL (ngate NOT toh_excl) butt_pdiff <0.32 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

TO.h.2 {
    @TO.h.2: Min spacing of poly edge to the edeg of butted diffusion active must be >=0.32um 
    L1001=EXTERNAL (pgate NOT toh_excl) butt_ndiff <0.32 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

TO.i {
    @TO.i: Min spacing of N+active to P+active for butted diffusion active must be >=0
    AND ndiff pdiff
}

butt_nedge=COINCIDENT EDGE ndiff pdiff
butt_pedge=COINCIDENT EDGE pdiff ndiff
TO.j {
    @TO.j: One segment of the consecutive SN/SP edge of a butted 
    @ diffusion active should be longer than 0.36um
    A = LENGTH butt_pedge >= 0.36      // Gets edges segments that are OK
    B = EXPAND EDGE butt_pedge         // Create polygon from separate edges
        INSIDE BY 0.004                // by expanding toward tap and extending
        EXTEND BY 0.004                // endpoints by small database unit.
    L1001=B NOT WITH EDGE A                  // All edges not including an OK edge
    C = LENGTH butt_nedge >= 0.36      
    D = EXPAND EDGE butt_nedge
        INSIDE BY 0.004 
        EXTEND BY 0.004
    L1002=D NOT WITH EDGE C 
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

TO.k {
    @TO.k: When NW and PW pick-up are put head-to-head across the boundary of the well,
    @ the spacing of N-pick-up to P-pick-up should be 0.36um in order to meet the implant rules
    L1001=EXTERNAL ntap ptap <0.36 ABUT<90 SINGULAR REGION 
    NOT INSIDE L1001 EXCL
}

TO.l {
    @TO.l: Min active area of a stand-along region must be >=0.2um2
    AREA TO_drc <0.2 
}

TO.m {
    @TO.m: Min active area of butted diffusion must be >=0.13um2
    AREA butt_ndiff <0.13
    AREA butt_pdiff <0.13
}

TO.n {
    @TO.n: Length and width should be less than 200x200 um
    SIZE TO_drc BY 100.0 UNDEROVER
}

TO.note {
    @TO.note: active not doped is not allowed
    COPY to_undoped
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.3  Active Resistor                               
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
to_res_body=TO_drc AND (SI_drc NOT OUTSIDE (AND to_res RES_TO_mark))
to_sab=TO_drc INTERACT to_res_body
to_res_si=SI_drc INTERACT to_res_body
to_not_res=NOT TO_drc to_sab
w1_and_to=AND W1_drc TO_drc

TO_res.a {
     @TO_res.a: Min width of active res must be >=0.42um
     L1001=INTERNAL to_res_body <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

TO_res.b {
     @TO_res.b: The separation from SAB to contact on TO must be >=0.15um
     L1001=EXTERNAL to_res_si w1_and_to <0.15 REGION SINGULAR ABUT<90 
     AND to_res_si w1_and_to
     NOT INSIDE L1001 EXCL
}

TO_res.c {
     @TO_res.c: Min spacing of active resistor to unrelated SAB must be >=0.3um
     L1001=EXTERNAL to_sab SI_drc<0.3 REGION SINGULAR ABUT>0<90 MEASURE ALL 
     NOT INSIDE L1001 EXCL
}

TO_res.d {
     @TO_res.d: Min spacing of active resistor to unrelated implant region must be >=0.26um
     L1001=EXTERNAL to_sab imp_reg<0.26 REGION SINGULAR ABUT<90 MEASURE ALL 
     NOT INSIDE L1001 EXCL
}

TO_res.e {
     @TO_res.e: The overlap of SAB to active resistor must be >=0.22um
     L1001=ENCLOSURE to_sab to_res_si <0.22 REGION SINGULAR ABUT<90 
     L1002=to_sab NOT to_res_body
     L1003=to_res_body TOUCH EDGE L1002
     L1004=to_res_body WITH EDGE L1003 >2
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1004 EXCL
}

TO_res.f {
     @TO_res.f: The extension of active resistor to contact must be >=0.07um
     L1001=ENCLOSURE w1_and_to to_sab<0.07 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

TO_res.g {
     @TO_res.g: The extension of N+ or P+ diffusion to active resistor must be >=0.18um
     L1001=ENCLOSURE to_sab SN_drc <0.18 REGION SINGULAR ABUT<90 
     L1002=ENCLOSURE to_sab SP_drc <0.18 REGION SINGULAR ABUT<90 
     (SI_drc AND to_res_body) NOT imp_reg 
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

TO_res.h {
     @TO_res.h: Min spacing of active resistor to unrelated poly must be >=0.6um
     L1001=EXTERNAL to_sab GT_drc <0.6 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL

}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.4  Poly (GT): Define the areas form the gate, poly 
//       interconnects, and poly word lines in the array
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
gta_excl=HN_drc OR mn10vt_gate_to
ngate_l_edge=NOT COINCIDENT INSIDE EDGE (ngate NOT gta_excl) TO_drc
pgate_l_edge=NOT COINCIDENT INSIDE EDGE (pgate NOT gta_excl) TO_drc
gate_space=TOUCH EDGE gate_space_to_w1 gate

gt_res_body=(SI_drc NOT OUTSIDE ((AND gt_res RES_PY_mark) AND SI_drc)) and GT_drc
gt_sab=GT_drc INTERACT gt_res_body
gt_res_si=SI_drc INTERACT gt_res_body
gt_not_res=NOT GT_drc gt_sab

GT.a.1 {
     @GT.a.1: Min width for interconnects must be >=0.18um
      L1001=INTERNAL GT_drc <0.18 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

GT.a.2 {
     @GT.a.2: Min width for gate of 5v NMOS must be >=0.6um
     L1001=INTERNAL ngate_l_edge <0.6 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT.a.3 {
     @GT.a.3: Min width for gate of 5v PMOS must be >=0.5um
     L1001=INTERNAL pgate_l_edge <0.5 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT.b.1 {
     @GT.b.1: Min spacing between two GT region must be >=0.25um
     L1001=EXTERNAL GT_drc <0.25 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT.b.2 {
     @GT.b.2: Min spacing between two GT regions with contact on active area must be>=0.375um
     L1001=INTERNAL gate_space <0.375 PARA ONLY OPPOSITE REGION
     NOT INSIDE L1001 EXCL
}

GT.c {
     @GT.c: Min extension of poly end cap must be >=0.22um
     L1001=ENCLOSURE TO_drc GT_drc <0.22 REGION ABUT<90   
     NOT INSIDE L1001 EXCL
}

GT.d {
     @GT.d: Min extension from active to GT must be >=0.32um
     L1001=ENCLOSURE GT_drc TO_drc <0.32 REGION SINGULAR ABUT<90   
     NOT INSIDE L1001 EXCL
}

GT.e {
     @GT.e: Min spacing of poly to active must be >=0.1um
     L1001=EXTERNAL GT_drc TO_drc <0.1 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT.f {
     @GT.f1: Max length of salicide poly on SAB between two contacts must <=50um when poly width is less than or equal to 0.24um
     @GT.f2: Max length of salicide poly on SAB between one contact and poly line end must <=50um when poly width is less than or equal to 0.24um
     NOT INSIDE  gt_err_g1_g2 EXCL
}

bent_gate=ANGLE gate == 45
gate_gt=NOT OUTSIDE GT_drc gate
bent_gate_gt=ANGLE (NOT gate_gt gate) == 45
GT.g1 {
     @GT.g1: Min GT width for channel length which has 45 degree bent on TO must be >=0.3um
     L1001=INTERNAL bent_gate < 0.3 ABUT<90 REGION 
     NOT INSIDE L1001 EXCL
}

GT.g2 {
     @GT.g2: Min GT width for channel length which has 45 degree bent on field oxide must be >=0.26um
     L1001=INTERNAL bent_gate_gt < 0.26 ABUT<90 REGION 
     NOT INSIDE L1001 EXCL
}

gt_not_bjt_dio=gt_not_bjt NOT zener_poly_ring
GT.i.1 {
     @GT.i.1: 90 degree bend on active region is not allowed
      INTERNAL (INSIDE EDGE gt_not_bjt_dio nsdg) <0.001 ABUT == 90 REGION
      EXTERNAL (INSIDE EDGE gt_not_bjt_dio nsdg) <0.001 ABUT == 90 REGION
}

GT.i.2 {
     @GT.i.2: 90 degree bend on active region is not allowed
      INTERNAL (INSIDE EDGE gt_not_bjt_dio psdg) <0.001 ABUT == 90 REGION
      EXTERNAL (INSIDE EDGE gt_not_bjt_dio psdg) <0.001 ABUT == 90 REGION
}

gt_wide1=INTERNAL gt_conn <=0.28 REGION SINGULAR ABUT<90 
gt_wide2=NOT gt_conn gt_wide1
gt_wide3=LENGTH gt_wide2 >0.5
gt_wide4=gt_wide2 WITH EDGE gt_wide3
gt_wide=AREA gt_wide4 >0.14
GT.k {
     @GT.k: Min space between poly interconnects with one or both poly width and length
     @are greater than 0.28um and 0.5um respectively must be >=0.26um
     L1001=EXTERNAL gt_wide (gt_conn NOT mn24vt_hbv_split_poly) <0.26 REGION SINGULAR ABUT<90
     NOT INSIDE L1001 EXCL
}

GT_res.a {
     @GT_res.a: Min width of poly res must be >=0.42um
     L1001=INTERNAL gt_res_body <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT_res.b {
     @GT_res.b: The separation from SAB to contact on poly must be >=0.15um
     L1001=EXTERNAL gt_res_si w1_and_gt <0.15 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     AND gt_res_si w1_and_gt
}

GT_res.c {
     @GT_res.c: Min spacing of poly resistor to unrelated SAB must be >=0.3um
     L1001=EXTERNAL gt_sab SI_drc<0.3 REGION SINGULAR ABUT>0<90 MEASURE ALL 
     NOT INSIDE L1001 EXCL
}

GT_res.d {
     @GT_res.d: Min spacing of poly resistor to unrelated implant region must be >=0.26um
     L1001=EXTERNAL gt_sab imp_reg<0.26 REGION SINGULAR ABUT<90 MEASURE ALL 
     NOT INSIDE L1001 EXCL
}

GT_res.e {
     @GT_res.e: The overlap of SAB to poly resistor must be >=0.22um
     L1001=ENCLOSURE gt_sab gt_res_si <0.22 REGION SINGULAR ABUT<90 
     L1002=gt_sab NOT gt_res_body
     L1003=gt_res_body TOUCH EDGE L1002
     L1004=gt_res_body WITH EDGE L1003 >2
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1004 EXCL
}

GT_res.f {
     @GT_res.f: The extension of poly resistor to contact must be >=0.10um
     L1001=ENCLOSURE w1_and_gt gt_sab<0.10 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT_res.g {
     @GT_res.g: The extension of N+ or P+ diffusion to poly resistor must be >=0.18um
     L1001=ENCLOSURE gt_sab SN_drc <0.18 REGION SINGULAR ABUT<90 
     L1002=ENCLOSURE gt_sab SP_drc <0.18 REGION SINGULAR ABUT<90 
     gt_sab NOT imp_reg
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

GT_res.h {
     @GT_res.h: Min spacing of poly or active resistor to unrelated poly must be >=0.6um
     L1001=EXTERNAL gt_sab gt_not_res <0.6 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT_res.i {
     @GT_res.i: Min spacing of poly resistor to poly resistor must be >=0.4um
     L1001=EXTERNAL gt_res_body <0.4 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GT_res.n: {
     @GT_res.n: Poly resistor laid on ACT area is not recommended
     AND gt_res_body TO_drc
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.5  N+ implant area (SN): Define the areas of N+channel device
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
nwgro43_a = SIZE TB_drc BY 0.43
nwgro43_18 = SIZE nwgro43_a BY 0.18
sp_j_ptap = AND nwgro43_18 ptap
sp_j_a1 = ENC sp_j_ptap SP_drc < 0.18 ABUT >0<90 OPPOSITE REGION
sp_j_a2 = ENC sp_j_ptap SP_drc < 0.18 ABUT >0<90 CORNER REGION
sp_j_a3 = ENC sp_j_ptap SP_drc < 0.18 ABUT >0<90 PROJ==0 REGION
sp_j_a4 = (SIZE sp_j_a2 BY 0.005) NOT sp_j_ptap
sp_j_all = (sp_j_a1 OR sp_j_a3) OR sp_j_a4

sn_e_a1 = EXT sp_j_ptap SN_drc < 0.18 ABUT >0<90 OPPOSITE REGION
sn_e_a2 = EXT sp_j_ptap SN_drc < 0.18 ABUT >0<90 CORNER REGION
sn_e_a3 = EXT sp_j_ptap SN_drc < 0.18 ABUT >0<90 PROJ==0 REGION
sn_e_a4 = (SIZE sn_e_a2 BY 0.005) NOT sp_j_ptap
sn_e_all = (sn_e_a1 OR sn_e_a3) OR sn_e_a4

nwshrk43_a = SIZE TB_drc BY -0.43
nwshrk43_18 = SIZE nwshrk43_a BY -0.18
sn_j_ntap = NOT ntap nwshrk43_18
sn_j_a1 = ENC sn_j_ntap SN_drc < 0.18 ABUT >0<90 OPPOSITE REGION
sn_j_a2 = ENC sn_j_ntap SN_drc < 0.18 ABUT >0<90 CORNER REGION
sn_j_a3 = ENC sn_j_ntap SN_drc < 0.18 ABUT >0<90 PROJ==0 REGION
sn_j_a4 = (SIZE sn_j_a2 BY 0.005) NOT sn_j_ntap
sn_j_all = (sn_j_a1 OR sn_j_a3) OR sn_j_a4

sp_e_a1 = EXT sn_j_ntap SP_drc < 0.18 ABUT >0<90 OPPOSITE REGION
sp_e_a2 = EXT sn_j_ntap SP_drc < 0.18 ABUT >0<90 CORNER REGION
sp_e_a3 = EXT sn_j_ntap SP_drc < 0.18 ABUT >0<90 PROJ==0 REGION
sp_e_a4 = (SIZE sn_e_a2 BY 0.005) NOT sn_j_ntap
sp_e_all = (sp_e_a1 OR sp_e_a3) OR sp_e_a4

SN.a {
     @SN.a: Min SN width must be >=0.42
     L1001=INTERNAL SN_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

SN.b {
     @SN.b: Min SN space must be >=0.42
     L1001=EXTERNAL SN_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

/*
SN.b1 {
     @SN.b1:If SN extesnion N+ gate <=1.61um in channel length direction 
     @SN.b1:The min space of these SN on STI between two CMOS must be >=0.88um
     ngate_widthEdge=ngate INSIDE EDGE TO_drc
     L1001=ENC ngate_widthEdge SN_drc <=1.61 REGION OPPOSITE
     L1002=COINCIDENT EDGE SN_drc L1001 
     L1003=EXT L1002 <0.88 REGION 
     L1004=L1003 OUTSIDE TO_drc 
     NOT INSIDE L1004 EXCL
}
*/

snc_to_excl1=(((23v_gate_to_p OR mp1218vt_gate_to) OR mp7vt_gate_to) OR mp9vt_gate_to) OR mp35vta_gate_to
snc_to_excl=(snc_to_excl1 OR mp10vt_gate_to) OR mp2430vt_gate_to
SN.c {
     @SN.c: Min spacing of SN to a P+ active inside NW must be >=0.26
     L1001=EXT SN_drc (psdg NOT snc_to_excl) < 0.260 ABUT >0<90 REGION 
     X = EXT SN_drc [psdg] < 0.001 ABUT == 0
     Y = EXPAND EDGE X OUTSIDE BY 0.001
     L1002=Y NOT INTERACT ndiff
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

SN.d {
     @SN.d: Min spacing of SN to a P+ pick-up active(non-butted active) must be>=0.1um
     @if the distance between P+active and NW>=0.43um          
     L1001=EXTERNAL SN_drc ptap <0.1 ABUT>0<90 REGION 
     NOT INSIDE L1001 EXCL
}

SN.e {
     @SN.e: Min spacing of SN to a P+ pick-up active(non-butted active) must be>=0.18um
     @if the distance between P+active and NW<0.43um
     sn_e_check = COIN OUTSIDE EDGE (sn_e_all NOT INSIDE EXCL) sp_j_ptap
     INSIDE EDGE sn_e_check nwgro43_a
}

SN.f_1 {
      @SN.f_1: Min overlap from SN edge to an active must be >=0.23um
      L1001=(SN_drc INSIDE EDGE TO_drc) NOT TOUCH EDGE SP_drc
      L1002=INTERNAL L1001 TO_drc <0.23 REGION ABUT>0<90 
      NOT INSIDE L1002 EXCL
}

SN.f_2 {
      @SN.f_2: Min overlap from SN edge to an active must be >=0.20um
      L1001=(SN_drc INSIDE EDGE TO_drc) TOUCH EDGE SP_drc
      L1002=INTERNAL L1001 TO_drc <0.20 REGION ABUT>0<90 
      NOT INSIDE L1002 EXCL
}

excl_sn1=((vnpn_emit_sn OR zener_sn) OR mn23vta2_sn) OR mn2430vt_sn
excl_sn=((excl_sn1 OR mn10vt_sn) OR mn10vta_sn) OR mn24vt_hbv_sn
SN.g {
     @SN.g: Min extension of a SN region over N+active region must be >=0.18um
     X = ((nsdg NOT salicres_sn) NOT excl_sn) NOT COIN EDGE pdiff
     L1001=ENC X SN_drc < 0.18 ABUT<90 REGION 
     NOT INSIDE L1001 EXCL
}

SN.h {
     @SN.h: Min space of a SN edge to a P-channel poly gate must be >=0.28um
     EXTERNAL SN_drc (INSIDE EDGE (gt_not_bjt NOT INSIDE EXCL) (psdg NOT INSIDE EXCL)) <0.28 REGION ABUT<90
}

gt_not_hvmos=gt_not_bjt NOT HN_drc
SN.i {
     @SN.i: Min extension of a SN region to a N-channel poly gate must be >=0.45um
     ENCLOSURE (INSIDE EDGE (gt_not_hvmos NOT INSIDE EXCL) (nsdg NOT INSIDE EXCL)) SN_drc <0.45 REGION ABUT<90
}

SN.j {
     @SN.j: Min extension of a SN region beyond a N+ pick-up active must be >=0.02um
     @ if the distance between N+active and PW >=0.43um 
     A=NOT ntap salicres_to
     L1001=ENCLOSURE A SN_drc <0.02 ABUT>0<90 SINGULAR REGION 
     X = ENC [A] SN_drc < 0.001 ABUT == 0
     Y = EXPAND EDGE X OUTSIDE BY 0.001
     L1002=(Y NOT INTERACT SI_drc) NOT INTERACT pdiff
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

SN.k {
     @SN.k: Min extension of a SN region beyond a N+ pick-up active must be >=0.18um
     @ if the distance between N+active and PW <0.43um 
     @ 1. To obey this rule and "c" simultaneously, the minimum space
     @ between N+ pick-up active and P+ active should be increased to 0.44um
     @ 2. To obey this rule and "e" simultaneously, the minimum space
     @ between N+ pick-up active and P+ active should be increased to 0.36um]
     sn_j_check = COIN OUTSIDE EDGE (sn_j_all NOT INSIDE EXCL) sn_j_ntap
     OUTSIDE EDGE sn_j_check nwshrk43_a}

SN.l.1 {
     @SN.l.1: Min extension of SN region beyond a resistor poly msut be >=0.18um
     @SAB poly without SN or SP implant is not allowed.
     L1001=ENCLOSURE gt_res SN_drc <0.18 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

// SN.l.2 is check by GT_res.g

snm_excl=((mn2430vt_sab OR mn10vt_sab) OR mn10vta_sab) OR mn24vt_hbv_sab
to_gate_edge=INSIDE EDGE TO_drc GT_drc
SN.m {
     @SN.m: Min space from a SN region over P+active along the 
     @direction of poly gate must be >=0.3um.
     L1001=(EXTERNAL SN_drc to_gate_edge <0.3 REGION ABUT<90) NOT INTERACT snm_excl
     NOT INSIDE L1001 EXCL
}

SN.n {
     @SN.n: Min extension of a SN region over N+active along the 
     @direction of poly gate must be >=0.35um.
     L1001=ENCLOSURE to_gate_edge SN_drc <0.35 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

SN.note.1 {
     @SN.note.1: Min SN area >=0.4um2
     AREA SN_drc <0.4
}

SN_SP.note.2 {
     @SN_SP.note.2: SN is not allowed to overlap to SP.
     (SN_drc AND SP_drc) NOT INTERACT fake_hr_res
}

SN.w {
     @SN.w: Min resist pattern area within NPLUS region must be >=0.64um2
     AREA (ndiff AND RES_TO_mark) <0.64
}


//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.6  P+ implant area (SP): Define the areas of P+channel device
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
SP.a {
     @SP.a: Min width must be >=0.42
     L1001=INTERNAL SP_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

SP.b {
     @SP.b: Min space must be >=0.42
     L1001=EXTERNAL SP_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

/*
SP.b1 {
     @SP.b1:If SP extesnion P+ gate <=1.61um in channel length direction 
     @SP.b1:The min space of these SP on STI between two CMOS must be >=0.88um
     pgate_widthEdge=pgate INSIDE EDGE TO_drc
     L1001=ENC pgate_widthEdge SP_drc <=1.61 REGION OPPOSITE
     L1002=COINCIDENT EDGE SP_drc L1001 
     L1003=EXT L1002 <0.88 REGION 
     L1004=L1003 OUTSIDE TO_drc 
     NOT INSIDE L1004 EXCL
}
*/

SP.c {
     @SP.c: Min spacing of SP to a N+ active outside NW must be >=0.26
     X = NOT TOUCH EDGE (nsdg NOT zener_sn) SP_drc
     L1001=EXT (SP_drc NOT vnpn_base_sp) X < 0.26 ABUT<90 REGION 
     NOT INSIDE L1001 EXCL
}

SP.d {
     @SP.d: Min spacing of SP to a N+ pick-up active(non-butted active) must be>=0.1um
     @if the distance between N+active and NW>=0.43um          
     L1001=EXTERNAL SP_drc ntap <0.1 ABUT>0<90 REGION 
     NOT INSIDE L1001 EXCL
}

SP.e {
     @SP.e: Min spacing of SP to a N+ pick-up active(non-butted active) must be>=0.18um
     @if the distance between N+active and NW<0.43um
     sp_e_check = COIN OUTSIDE EDGE (sp_e_all NOT INSIDE EXCL) sn_j_ntap
     OUTSIDE EDGE sp_e_check nwshrk43_a
}

SP.f_1 {
      @SP.f_1: Min overlap from SP edge to an active must be >=0.23um
      L1001=(SP_drc INSIDE EDGE TO_drc) NOT TOUCH EDGE SN_drc
      L1002=INTERNAL L1001 TO_drc <0.23 REGION ABUT>0<90 
      NOT INSIDE L1002 EXCL
}

SP.f_2 {
      @SP.f_2: Min overlap from SP edge to an active must be >=0.20um
      L1001=(SP_drc INSIDE EDGE TO_drc) TOUCH EDGE SN_drc
      L1002=INTERNAL L1001 TO_drc <0.20 REGION ABUT>0<90 
      NOT INSIDE L1002 EXCL
}

psdg_exc=COPY mp9vt_gate_to
SP.g {
     @SP.g: Min extension of a SP region over P+active region must be >=0.18um
     L1001=ENCLOSURE (psdg NOT psdg_exc) SP_drc < 0.180 SINGULAR ABUT >0<90 REGION 
     Y = ENCLOSURE [psdg] SP_drc <0.001 ABUT == 0
     Z = EXPAND EDGE Y OUTSIDE BY 0.001
     L1002=Z NOT INSIDE ndiff
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
} 

SP.h {
     @SP.h: Min space of a SP edge to a N-channel poly gate must be >=0.28um
     EXTERNAL SP_drc (INSIDE EDGE (gt_not_hvmos NOT INSIDE EXCL) (nsdg NOT INSIDE EXCL)) <0.28 REGION ABUT<90
}

SP.i {
     @SP.i: Min extension of a SP region to a P-channel poly gate must be >=0.4um
     ENCLOSURE (INSIDE EDGE (gt_not_bjt NOT INSIDE EXCL) (psdg NOT INSIDE EXCL)) SP_drc <0.4 REGION ABUT<90
}

zener_undoped=(zener_active NOT SN_drc) NOT SP_drc
mp1218vt_undoped=(mp1218vt_gate_to NOT SN_drc) NOT SP_drc
mn23vta2_undoped=(mn23vta2_gate_to NOT SN_drc) NOT SP_drc
mp9vt_undoped=(mp9vt_gate_to NOT SN_drc) NOT SP_drc
mn10vta_undoped=(mn10vta_gate_to NOT SN_drc) NOT SP_drc
mp10vt_undoped=(mp10vt_gate_to NOT SN_drc) NOT SP_drc
mp2430vt_undoped=(mp2430vt_gate_to NOT SN_drc) NOT SP_drc
excl_undoped1=(((mp1218vt_undoped OR zener_undoped) OR mn23vta2_undoped) OR mp9vt_undoped) OR mn10vta_undoped
excl_undoped=(excl_undoped1 OR mp10vt_undoped) OR mp2430vt_undoped
SP.j {
     @SP.j: Min extension of a SP region beyond a P+ pick-up active must be >=0.02um
     @ if the distance between P+active and NW >=0.43um 
     L1001=ENCLOSURE ptap (NOT INTERACT SP_drc SEALRING_mark) <0.02 ABUT>0<90 SINGULAR REGION 
     X = ENC [ptap] (NOT INTERACT SP_drc SEALRING_mark) < 0.001 ABUT == 0
     Y = EXPAND EDGE X OUTSIDE BY 0.001
     L1002=(Y NOT INTERACT ndiff) NOT INTERACT excl_undoped
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

SP.k {
     @SP.k: Min extension of a SP region beyond a P+ pick-up active must be >=0.18um
     @ if the distance between P+active and NW <0.43um 
     @ 1. To obey this rule and "c" simultaneously, the minimum space
     @ between N+ pick-up active and P+ active should be increased to 0.44um
     @ 2. To obey this rule and "e" simultaneously, the minimum space
     @ between N+ pick-up active and P+ active should be increased to 0.36um
     sp_j_check = COIN OUTSIDE EDGE (sp_j_all NOT EXCL) sp_j_ptap
     INSIDE EDGE sp_j_check nwgro43_a
}

SP.l.1 {
     @SP.l.1: Min extension of SP region beyond a resistor poly msut be >=0.18um
     @SAB poly without SN or SP implant is not allowed.
     L1001=ENCLOSURE gt_res SP_drc <0.18 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

// SP.l.2 is check by GT_res.g

spm_exc=((mp1218vt_sab OR mp9vt_sab) OR mp10vt_sab) OR mp2430vt_sab
SP.m {
     @SP.m: Min space from a SP edge to a N-channel poly gate along the 
     @direction of poly gate must be >=0.3um.
     L1001=(EXTERNAL SP_drc to_gate_edge <0.3 REGION ABUT<90) NOT INTERACT spm_exc
     NOT INSIDE L1001 EXCL
}

SP.n {
     @SP.n: Min extension of a SP region over P+active along the 
     @direction of poly gate must be >=0.35um.
     L1001=ENCLOSURE to_gate_edge SP_drc <0.35 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

SP.note.1 {
     @SP.note.1: Min SP area >=0.4um2
     AREA SP_drc <0.4
}

SP.w {
     @SP.w: Min resist pattern area within PPLUS region must be >=0.64um2
     AREA (pdiff AND RES_TO_mark) <0.64
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.7  SAB-salicide block (SI): Define the areas of salicide block,
//       to form diffusion,poly resistor and ESD devices
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

SAB.a {
      @SAB.a: Min width of SAB must be >=0.42um
      L1001=INTERNAL SI_drc <0.42 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SAB.b {
      @SAB.b: Min space of SAB must be >=0.42um
      L1001=EXTERNAL SI_drc <0.42 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SAB.c {
      @SAB.c: Min space of SAB to unrelated diffusion must be >=0.22um
      L1001=EXTERNAL (NOT INTERACT SI_drc SEALRING_mark) (NOT INTERACT TO_drc SEALRING_mark) <0.22 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

sabd_excl=(mn2430vt_drain_cont OR mn10vt_drain_cont) OR mn10vta_drain_cont
SAB.d {
      @SAB.d: Min space of SAB to contact must be >=0.15um
      L1001=EXTERNAL SI_drc (W1_drc NOT sabd_excl) <0.15 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL 
      AND SI_drc W1_drc
}

SAB.e {
      @SAB.e: Min space of SAB to poly on diffusion must be >=0.28um
      L1001=EXTERNAL SI_drc (GT_drc INSIDE EDGE TO_drc) <0.28 REGION ABUT<90 
      NOT INSIDE L1001 EXCL
}

SAB.f {
      @SAB.f: Min space of SAB over related diffusion must be >=0.22um
      L1001=ENCLOSURE (NOT INTERACT TO_drc SEALRING_mark) (NOT INTERACT SI_drc SEALRING_mark) <0.22 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SAB.g {
      @SAB.g: Min extension of diffusion over related SAB must be >=0.22um
      L1001=ENCLOSURE (NOT INTERACT SI_drc SEALRING_mark) (NOT INTERACT TO_drc SEALRING_mark) <0.22 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SAB.h {
      @SAB.h: Min extension of SAB over related poly on STI must be >=0.22um
      L1001=ENCLOSURE gt_sab SI_drc <0.22 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SAB.i {
      @SAB.i: Min extension of SAB over related poly on STI must be >=0.3um
      L1001=EXTERNAL SI_drc (GT_drc NOT INTERACT TO_drc) <0.3 REGION SINGULAR ABUT<90 MEASURE ALL 
      NOT INSIDE L1001 EXCL
}

SAB.j {
      @SAB.j: Min area of SAB must be >=2.0um
      AREA SI_drc <2.0 
}

SAB.k {
      @SAB.k: Contacts on SAB are not allowed
      AND W1_drc SI_drc
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.9  Contact(W1)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
W1.a {
     @W1.a: Min&Max Contact size must be == 0.22um
     L1001=NOT RECTANGLE (NOT INTERACT W1_drc SEALRING_mark) ==0.22 BY ==0.22 ORTHOGONAL ONLY
     NOT INSIDE L1001 EXCL
}

W1.b {
     @W1.b: Min W1 to W1 space must be >= 0.25um
     L1001=EXTERNAL W1_drc <0.25 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

W1.c {
     @W1.c: Min space when the row and column numbers are both greater than 3 in the contact array must be >= 0.28um
     A = SIZE W1_drc BY 0.30/2 OVERUNDER      // space < 0.3um treat as array
     B = SIZE A BY 0.7 UNDEROVER              // (0.22*3+0.3*2) = 1.26  (3 COs Mix.)
     C = B INTERACT W1_drc >= 16              // 1.63-0.22 = 1.41       (Max. CO shift space) 
     D = W1_drc INTERACT C                    // so 1.26 < CONTY width < 1.41
     EXT (D NOT INSIDE EXCL) < 0.28                             // & we use CONTY width = 1.4
}

W1.d {
     @W1.d: Min space of poly contact to active edge must be >= 0.17um
     L1001=EXTERNAL w1_and_gt TO_drc <0.17 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

W1.e {
     @W1.e: Min space of poly gate to contact on active must be >= 0.15um
     L1001=EXTERNAL w1_to gate <0.15 REGION SINGULAR ABUT<90 
     L1002=EXTERNAL w1_to gt_bjt <0.15 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

W1.f.1 {
     @W1.f.1: Min enclosure of active beyond contact must be >= 0.07um
     L1001=ENCLOSURE w1_to TO_drc <0.07 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

//;;;W1.f.2 has been checked by 12V/18V NLDMOS/PLDMOS rule

W1.g {
     @W1.g: Min enclosure of poly beyond contact must be >= 0.07um
     L1001=ENCLOSURE w1_and_gt gt_not_bjt <0.07 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

w1_hvmos1=w1_to NOT (HN_drc AND PB_drc)
w1_hvmos=w1_hvmos1 NOT mn10vt_source_ptm
W1.h {
     @W1.h: Min enclosure of P+active beyond contact must be >= 0.12um
     L1001=EXTERNAL w1_hvmos butt_pedge <0.12 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

W1.i {
     @W1.i: Min enclosure of N+active beyond contact must be >= 0.12um
     L1001=EXTERNAL w1_hvmos butt_nedge <0.12 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

W1.note.1 {
     @W1.note.1: Contact on poly gate region is forbidden.
     AND W1_drc gate
}

W1.note.2 {
     @W1.note.2: Contact on active is not allowed to locate on the boundary of SN and SP.
     CUT w1_hvmos SN_drc
     CUT w1_hvmos SP_drc
}

// W1.note.3 is checked by SAB.d

W1.note.5 {
     @W1.note.5: W1 without the cover of (GATE or ACT) is not allowed.
     COPY w1_not_gt_to
}

RES_ALL_mark=((RES_NW_mark OR RES_HR_mark) OR RES_TO_mark) OR RES_PY_mark

W1.note {
    @W1.note:W1 on the body of any resistor is not allowed.
    W1_drc AND RES_ALL_mark
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.10  Metal 1 (A1)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
A1.a {
     @A1.a: Min A1 width must be >=0.23um
     L1001=INTERNAL A1_drc <0.23 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

A1.b {
     @A1.b: Min A1 space must be >=0.23um
     L1001=EXTERNAL A1_drc <0.23 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

hvmos_mark1=((HV_7V OR HV_12V) OR HV_18V) OR HV_23V
hvmos_mark2=((hvmos_mark1 OR HV_9V) OR HV_10V) OR HV_35V
hvmos_mark=((hvmos_mark2 OR HV_24V) OR HV_30V) OR HV_40V

hvdmy_hvmos=HVDMY_drc INTERACT hvmos_mark
a1_hvdmy_hvmos=a1_conn INTERACT hvdmy_hvmos
A1.b1_1 {
    @A1.b1_1:Min space of A1 in HV region which covered by HVDMY which enclose HVMOS must be >=0.35um
    no_check=(OR qlp_sp_tb_7_9_pdiff qlp_sp_tb_10_pdiff) OR (23v_gate_to OR mn35vta_gate_to)
    L1001=a1_hvdmy_hvmos NOT no_check
    L1002=EXT L1001 a1_conn <0.35 REGION SINGULAR ABUT<90
    NOT INSIDE L1002 EXCL
}

A1.c_d {
     @A1.c: Min enclosure of A1 region over contact region must be >=0.005um
     @A1.d: Min enclosure of A1 line end region beyond contact region must be >=0.06um
     @(when contact at 90 degree corner,one side of metal enclosure must be considered as line end region). 
     X1 = RECTANGLE ENC W1_drc A1_drc ABUT<90  OUTSIDE ALSO
     GOOD 0.005 OPPOSITE 0.06 OPPOSITE 0.005 OPPOSITE 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL
     ENC X A1_drc < 0.005 ABUT<90 SINGULAR OVERLAP 
     NOT W1_drc A1_drc
     Y = ENC [X] A1_drc < 0.06 OPPOSITE
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

A1.e {
     @A1.e: Minimum space between M1 lines with one or both metal line width
     @ and length are greater than 10um is 0.56um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     A1_S5 = SHRINK (SHRINK (SHRINK (SHRINK a1_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A1_G5 = GROW (GROW (GROW (GROW A1_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A1_Wide = A1_G5 AND a1_conn
     A1_Exp = SIZE A1_Wide BY 1 INSIDE OF a1_conn STEP 0.161
     A1_Branch = A1_Exp NOT A1_Wide
     A1_Branch_edge = A1_Branch COIN INSIDE EDGE a1_conn
     A1_Check = a1_conn AND (SIZE A1_Exp BY 0.56)
     A1_Else = A1_Check NOT INTERACT A1_Exp
     A1_Extend = A1_Check NOT A1_Exp 
     A1_WideC = STAMP A1_Wide BY a1_conn
     A1_ElseC = STAMP A1_Check BY a1_conn

     L1001=EXT A1_WideC A1_ElseC < 0.56 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT A1_Branch_edge A1_Else < 0.56 ABUT >0 <89.5 OPPOSITE REGION
     L1003=EXT A1_Branch_edge A1_Else < 0.56 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT A1_Branch_edge A1_Else < 0.56 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT A1_Exp < 0.56 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT A1_Extend
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
     NOT INSIDE L1003 EXCL
     NOT INSIDE L1004 EXCL
     NOT INSIDE L1005 EXCL
}

A1.f {
     @A1.f: Min A1 area must be >=0.2um2
     AREA A1_drc <0.2 
}

#IFDEF Switch3456
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.11  Via1 (W2)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
w2_nfuse=NOT W2_drc w2fuse_ring
W2.a {
     @W2.a Min&Max W2 size must be == 0.26um
     L1001=NOT RECTANGLE (NOT INTERACT w2_nfuse SEALRING_mark) ==0.26 BY ==0.26 ORTHOGONAL ONLY
     NOT INSIDE L1001 EXCL
}

W2.b {
     @W2.b Min W2 space must be == 0.26um
     L1001=EXTERNAL W2_drc <0.26 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

W2.c_d {
     @W2.c: Min enclosure of A1 region beyond W2 must be >=0um
     @W2.d: Min enclosure of A1 line end beyond W2 must be >=0.06um
     X1 = RECTANGLE ENC W2_drc A1_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL
     NOT W2_drc A1_drc
     Y = ENC [X] A1_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.10  Metal 2 (A2)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
A2.a {
     @A2.a: Min A2 width must be >=0.28um
     L1001=INTERNAL A2_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

A2.b {
     @A2.b: Min A2 space must be >=0.28um
     L1001=EXTERNAL A2_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

a2_hvdmy_hvmos=a2_conn INTERACT hvdmy_hvmos
A2.b1_1 {
    @A2.b1_1:Min space of A2 in HV region which covered by HVDMY which enclose HVMOS must be >=0.35um
    L1001=EXT a2_hvdmy_hvmos a2_conn <0.35 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

A2.b1 {
     @A2.b1: Minimum space between M2 lines with one or both metal line width
     @ and length are greater than 10um is 0.56um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     A2_S5 = SHRINK (SHRINK (SHRINK (SHRINK a2_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A2_G5 = GROW (GROW (GROW (GROW A2_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A2_Wide = A2_G5 AND a2_conn
     A2_Exp = SIZE A2_Wide BY 1 INSIDE OF a2_conn STEP 0.196
     A2_Branch = A2_Exp NOT A2_Wide
     A2_Branch_edge = A2_Branch COIN INSIDE EDGE a2_conn
     A2_Check = a2_conn AND (SIZE A2_Exp BY 0.56)
     A2_Else = A2_Check NOT INTERACT A2_Exp
     A2_Extend = A2_Check NOT A2_Exp 
     A2_WideC = STAMP A2_Wide BY a2_conn
     A2_ElseC = STAMP A2_Check BY a2_conn

     L1001=EXT A2_WideC A2_ElseC < 0.56 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT A2_Branch_edge A2_Else < 0.56 ABUT >0 <89.5 OPPOSITE REGION 
     L1003=EXT A2_Branch_edge A2_Else < 0.56 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT A2_Branch_edge A2_Else < 0.56 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT A2_Exp < 0.56 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT A2_Extend
     NOT INSIDE L1001 EXCL_N
     NOT INSIDE L1002 EXCL_N
     NOT INSIDE L1003 EXCL_N
     NOT INSIDE L1004 EXCL_N
     NOT INSIDE L1005 EXCL_N
}

A2.c_d {
     @A2.c: Min enclosure of A2 region over via1 region must be >=0um
     @A2.d: Min enclosure of A2 line end region beyond contact region must be >=0.06um
     @(when via1 at 90 degree corner,one side of metal enclosure must be considered as line end region). 
     X1 = RECTANGLE ENC W2_drc A2_drc ABUT<90 OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W2_drc A2_drc
     Y = ENC [X] A2_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

A2.f {
     @A1.f: Min A2 area must be >=0.2um2
     AREA A2_drc <0.2 
}

#ENDIF //;Switch3456
#IFDEF Switch456
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.13.1  Via2 (W3)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
w3_nfuse=NOT W3_drc w3fuse_ring
W3.a {
     @W3.a Min&Max W3 size must be == 0.26um
     L1001=NOT RECTANGLE (NOT INTERACT w3_nfuse SEALRING_mark) ==0.26 BY ==0.26 ORTHOGONAL ONLY
     NOT INSIDE L1001 EXCL_N
}

W3.b {
     @W2.b Min W3 space must be >= 0.26um
     L1001=EXTERNAL W3_drc <0.26 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

W3.c_d {
     @W3.c: Min enclosure of A2 region beyond W3 must be >=0um
     @W3.d: Min enclosure of A2 line end beyond W3 must be >=0.06um
     X1 = RECTANGLE ENC W3_drc A2_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W3_drc A2_drc
     Y = ENC [X] A2_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.12.2  Metal 3 (A3)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
A3.a {
     @A3.a: Min A3 width must be >=0.28um
     L1001=INTERNAL A3_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

A3.b {
     @A3.b: Min A3 space if both metal width<10um must be >=0.28um
     L1001=EXTERNAL A3_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

a3_hvdmy_hvmos=a3_conn INTERACT hvdmy_hvmos
A3.b1_1 {
    @A3.b1_1:Min space of A3 in HV region which covered by HVDMY which enclose HVMOS must be >=0.35um
    L1001=EXT a3_hvdmy_hvmos a3_conn <0.35 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

A3.b1 {
     @A3.b1: Minimum space between M3 lines with one or both metal line width
     @ and length are greater than 10um is 0.56um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     A3_S5 = SHRINK (SHRINK (SHRINK (SHRINK a3_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A3_G5 = GROW (GROW (GROW (GROW A3_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A3_Wide = A3_G5 AND a3_conn
     A3_Exp = SIZE A3_Wide BY 1 INSIDE OF a3_conn STEP 0.196
     A3_Branch = A3_Exp NOT A3_Wide
     A3_Branch_edge = A3_Branch COIN INSIDE EDGE a3_conn
     A3_Check = a3_conn AND (SIZE A3_Exp BY 0.56)
     A3_Else = A3_Check NOT INTERACT A3_Exp
     A3_Extend = A3_Check NOT A3_Exp 
     A3_WideC = STAMP A3_Wide BY a3_conn
     A3_ElseC = STAMP A3_Check BY a3_conn

     L1001=EXT A3_WideC A3_ElseC < 0.56 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT A3_Branch_edge A3_Else < 0.56 ABUT >0 <89.5 OPPOSITE REGION
     L1003=EXT A3_Branch_edge A3_Else < 0.56 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT A3_Branch_edge A3_Else < 0.56 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT A3_Exp < 0.56 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT A3_Extend
     NOT INSIDE L1001 EXCL_N
     NOT INSIDE L1002 EXCL_N
     NOT INSIDE L1003 EXCL_N
     NOT INSIDE L1004 EXCL_N
     NOT INSIDE L1005 EXCL_N
}

A3.c_d {
     @A3.c: Min enclosure of A3 region over via2 region must be >=0um
     @A3.d: Min enclosure of A3 line end region beyond via2 region must be >=0.06um
     @(when via2 at 90 degree corner,one side of metal enclosure must be considered as line end region). 
     X1 = RECTANGLE ENC W3_drc A3_drc ABUT<90 OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W3_drc A3_drc
     Y = ENC [X] A3_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

A3.f {
     @A3.f: Min A3 area must be >=0.2um2
     AREA A3_drc <0.2 
}

#ENDIF //;Switch456
#IFDEF Switch56
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.13.2  Via3 (W4)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
w4_nfuse=NOT W4_drc w4fuse_ring
W4.a {
     @W4.a Min&Max W4 size must be == 0.26um
     L1001=NOT RECTANGLE (NOT INTERACT w4_nfuse SEALRING_mark) ==0.26 BY ==0.26 ORTHOGONAL ONLY 
     NOT INSIDE L1001 EXCL_N
}

W4.b {
     @W4.b Min W4 space must be >= 0.26um
     L1001=EXTERNAL W4_drc <0.26 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

W4.c_d {
     @W4.c: Min enclosure of A3 region beyond W4 must be >=0um
     @W4.d: Min enclosure of A3 line end beyond W4 must be >=0.06um
     X1 = RECTANGLE ENC W4_drc A3_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W4_drc A3_drc
     Y = ENC [X] A3_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.12.3  Metal 4 (A4)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
A4.a {
     @A4.a: Min A4 width must be >=0.28um
     tmp=INTERNAL A4_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE tmp EXCL_N
     L1001=NOT tmp INDUM_mark
     NOT INSIDE L1001 EXCL_N
}

A4.b {
     @A4.b: Min A4 space if both metal width<10um must be >=0.28um
     L1001=EXTERNAL A4_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

a4_hvdmy_hvmos=a4_conn INTERACT hvdmy_hvmos
A4.b1_1 {
    @A3.b1_1:Min space of A4 in HV region which covered by HVDMY which enclose HVMOS must be >=0.35um
    L1001=EXT a4_hvdmy_hvmos a4_conn <0.35 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

A4.b1 {
     @A4.b1: Minimum space between M4 lines with one or both metal line width
     @ and length are greater than 10um is 0.56um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     A4_S5 = SHRINK (SHRINK (SHRINK (SHRINK a4_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A4_G5 = GROW (GROW (GROW (GROW A4_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A4_Wide = A4_G5 AND a4_conn
     A4_Exp = SIZE A4_Wide BY 1 INSIDE OF a4_conn STEP 0.196
     A4_Branch = A4_Exp NOT A4_Wide
     A4_Branch_edge = A4_Branch COIN INSIDE EDGE a4_conn
     A4_Check = a4_conn AND (SIZE A4_Exp BY 0.56)
     A4_Else = A4_Check NOT INTERACT A4_Exp
     A4_Extend = A4_Check NOT A4_Exp 
     A4_WideC = STAMP A4_Wide BY a4_conn
     A4_ElseC = STAMP A4_Check BY a4_conn

     L1001=EXT A4_WideC A4_ElseC < 0.56 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT A4_Branch_edge A4_Else < 0.56 ABUT >0 <89.5 OPPOSITE REGION
     L1003=EXT A4_Branch_edge A4_Else < 0.56 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT A4_Branch_edge A4_Else < 0.56 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT A4_Exp < 0.56 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT A4_Extend
     NOT INSIDE L1001 EXCL_N
     NOT INSIDE L1002 EXCL_N
     NOT INSIDE L1003 EXCL_N
     NOT INSIDE L1004 EXCL_N
     NOT INSIDE L1005 EXCL_N
}

A4.c_d {
     @A4.c: Min enclosure of A4 region over via3 region must be >=0um
     @A4.d: Min enclosure of A4 line end region beyond via3 region must be >=0.06um
     @(when via3 at 90 degree corner,one side of metal enclosure must be considered as line end region). 
     X1 = RECTANGLE ENC W4_drc A4_drc ABUT<90 OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W4_drc A4_drc
     Y = ENC [X] A4_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

A4.f {
     @A4.f: Min A4 area must be >=0.2um2
     AREA A4_drc <0.2 
}

#ENDIF //;Switch56
#IFDEF Switch6
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.13.3  Via4 (W5)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
w5_nfuse=NOT W5_drc w5fuse_ring
W5.a {
     @W5.a Min&Max W5 size must be == 0.26um
     L1001=NOT RECTANGLE (NOT INTERACT w5_nfuse SEALRING_mark) ==0.26 BY ==0.26 ORTHOGONAL ONLY
     NOT INSIDE L1001 EXCL_N
}

W5.b {
     @W5.b Min W5 space must be >= 0.26um
     L1001=EXTERNAL W5_drc <0.26 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

W5.c_d {
     @W5.c: Min enclosure of A4 region beyond W5 must be >=0um
     @W5.d: Min enclosure of A4 line end beyond W5 must be >=0.06um
     X1 = RECTANGLE ENC W5_drc A4_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W5_drc A4_drc
     Y = ENC [X] A4_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.12.4  Metal 5 (A5)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
A5.a {
     @A5.a: Min A5 width must be >=0.28um
     tmp=INTERNAL A5_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE tmp EXCL_N
     L1001=NOT tmp INDUM_mark
     NOT INSIDE L1001 EXCL_N
}

A5.b {
     @A5.b: Min A5 space if both metal width<10um must be >=0.28um
     L1001=EXTERNAL A5_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

a5_hvdmy_hvmos=a5_conn INTERACT hvdmy_hvmos
A5.b1_1 {
    @A5.b1_1:Min space of A5 in HV region which covered by HVDMY which enclose HVMOS must be >=0.35um
    L1001=EXT a5_hvdmy_hvmos a5_conn <0.35 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

A5.b1 {
     @A5.b1: Minimum space between M5 lines with one or both metal line width
     @ and length are greater than 10um is 0.56um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     A5_S5 = SHRINK (SHRINK (SHRINK (SHRINK a5_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A5_G5 = GROW (GROW (GROW (GROW A5_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     A5_Wide = A5_G5 AND a5_conn
     A5_Exp = SIZE A5_Wide BY 1 INSIDE OF a5_conn STEP 0.196
     A5_Branch = A5_Exp NOT A5_Wide
     A5_Branch_edge = A5_Branch COIN INSIDE EDGE a5_conn
     A5_Check = a5_conn AND (SIZE A5_Exp BY 0.56)
     A5_Else = A5_Check NOT INTERACT A5_Exp
     A5_Extend = A5_Check NOT A5_Exp 
     A5_WideC = STAMP A5_Wide BY a5_conn
     A5_ElseC = STAMP A5_Check BY a5_conn

     L1001=EXT A5_WideC A5_ElseC < 0.56 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT A5_Branch_edge A5_Else < 0.56 ABUT >0 <89.5 OPPOSITE REGION
     L1003=EXT A5_Branch_edge A5_Else < 0.56 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT A5_Branch_edge A5_Else < 0.56 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT A5_Exp < 0.56 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT A5_Extend
     NOT INSIDE L1001 EXCL_N
     NOT INSIDE L1002 EXCL_N
     NOT INSIDE L1003 EXCL_N
     NOT INSIDE L1004 EXCL_N
     NOT INSIDE L1005 EXCL_N
}

A5.c_d {
     @A5.c: Min enclosure of A5 region over via4 region must be >=0um
     @A5.d: Min enclosure of A5 line end region beyond via4 region must be >=0.06um
     @(when via4 at 90 degree corner,one side of metal enclosure must be considered as line end region). 
     X1 = RECTANGLE ENC W5_drc A5_drc ABUT<90 OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT W5_drc A5_drc
     Y = ENC [X] A5_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

A5.f {
     @A5.f: Min A5 area must be >=0.2um2
     AREA A5_drc <0.2 
}

#ENDIF //;Switch6
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.14  Via5 (WT)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
wt_nfuse=NOT WT_drc wtfuse_ring
WT.a {
     @WT.a Min&Max WT size must be == 0.28um
     L1001=NOT RECTANGLE (NOT INTERACT wt_nfuse SEALRING_mark) ==0.28 BY ==0.28 ORTHOGONAL ONLY
     NOT INSIDE L1001 EXCL_N
}

WT.b {
     @WT.b Min WT space must be >= 0.28um
     L1001=EXTERNAL WT_drc <0.28 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

#IFDEF Switch2

WT.c_d {
     @WT.c: Min enclosure of A1 region beyond WT must be >=0um
     @WT.d: Min enclosure of A1 line end beyond WT must be >=0.06um
     X1 = RECTANGLE ENC WT_drc A1_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT WT_drc A1_drc
     Y = ENC [X] A1_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.001 ABUT==90 INTERSECTING ONLY
}

#ENDIF
#IFDEF Switch3

WT.c_d {
     @WT.c: Min enclosure of A2 region beyond WT must be >=0um
     @WT.d: Min enclosure of A2 line end beyond WT must be >=0.06um
     X1 = RECTANGLE ENC WT_drc A2_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT WT_drc A2_drc
     Y = ENC [X] A2_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.001 ABUT==90 INTERSECTING ONLY
}

#ENDIF
#IFDEF Switch4

WT.c_d {
     @WT.c: Min enclosure of A3 region beyond WT must be >=0um
     @WT.d: Min enclosure of A3 line end beyond WT must be >=0.06um
     X1 = RECTANGLE ENC WT_drc A3_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT WT_drc A3_drc
     Y = ENC [X] A3_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.001 ABUT==90 INTERSECTING ONLY
}

#ENDIF
#IFDEF Switch5

WT.c_d {
     @WT.c: Min enclosure of A4 region beyond WT must be >=0um
     @WT.d: Min enclosure of A4 line end beyond WT must be >=0.06um
     X1 = RECTANGLE ENC WT_drc A4_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT WT_drc A4_drc
     Y = ENC [X] A4_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.001 ABUT==90 INTERSECTING ONLY
}

#ENDIF
#IFDEF Switch6

WT.c_d {
     @WT.c: Min enclosure of A5 region beyond WT must be >=0um
     @WT.d: Min enclosure of A5 line end beyond WT must be >=0.06um
     X1 = RECTANGLE ENC WT_drc A5_drc ABUT<90  OUTSIDE ALSO
     GOOD 0 0.06 OPPOSITE 0 0.06 OPPOSITE
     X = NOT INSIDE X1 EXCL_N
     NOT WT_drc A5_drc
     Y = ENC [X] A5_drc < 0.06 OPPOSITE ABUT<90
     INT Y < 0.001 ABUT==90 INTERSECTING ONLY
}

#ENDIF
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.16  Bounding Pad (CP)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
#IFDEF CHECK_PAD_OPENING_Rule

normal_cp=(NOT INTERACT cp_no_fuse SEALRING_mark) NOT small_cp

CP.a {
     @CP.a: Min PAD opening must be >=50x50um
     L1001=INTERNAL normal_cp <50 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

CP.b.a1 {
     @CP.b.a1: Min&Max extension of A1 beyond PAD >=2um
     L1001=ENCLOSURE normal_cp A1_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#IFDEF Switch3456

CP.b.a2 {
     @CP.b.a2: Min&Max extension of A2 beyond PAD >=2um
     L1001=ENCLOSURE normal_cp A2_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch456

CP.b.a3 {
     @CP.b.a3: Min&Max extension of A3 beyond PAD >=2um
     L1001=ENCLOSURE normal_cp A3_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch56

CP.b.a4 {
     @CP.b.a4: Min&Max extension of A4 beyond PAD >=2um
     L1001=ENCLOSURE normal_cp A4_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch6

CP.b.a5 {
     @CP.b.a5: Min&Max extension of A5 beyond PAD >=2um
     L1001=ENCLOSURE normal_cp A5_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch_thin

CP.b.at {
     @CP.b.at: Min&Max extension of AT beyond PAD >=2um
     L1001=ENCLOSURE normal_cp AT_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch_thick

CP.b.tt {
     @CP.b.tt: Min&Max extension of MTT beyond PAD >=2um
     L1001=ENCLOSURE normal_cp MTT_drc <2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch3456

CP.c.w2 {
     @CP.c.w2: Min enclosure of Via1 beyond PAD must be >=3.0um
     L1001=ENCLOSURE w2_pad cp_no_fuse <3.0 REGION SINGULAR ABUT<90  
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch456

CP.c.w3 {
     @CP.c.w3: Min enclosure of Via2 beyond PAD must be >=3.0um
     L1001=ENCLOSURE w3_pad cp_no_fuse <3.0 REGION SINGULAR ABUT<90  
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch56

CP.c.w4 {
     @CP.c.w4: Min enclosure of Via3 beyond PAD must be >=3.0um
     L1001=ENCLOSURE w4_pad cp_no_fuse <3.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch6

CP.c.w5 {
     @CP.c.w5: Min enclosure of Via4 beyond PAD must be >=3.0um
     L1001=ENCLOSURE w5_pad cp_no_fuse <3.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF

CP.c.wt {
     @CP.c.wt: Min enclosure of Via5 beyond PAD must be >=3.0um
     L1001=ENCLOSURE wt_pad cp_no_fuse <3.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

//;; CP d-e checked in Wn/WT layer rule.

#IFDEF Switch3456

CP.f.w2 {
     @CP.f.w2: Min spacing of Via1 in PAD must be >=0.45um
     L1001=EXTERNAL w2_pad <0.45 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch456

CP.f.w3 {
     @CP.f.w3: Min spacing of Via2 in PAD must be >=0.45um
     L1001=EXTERNAL w3_pad <0.45 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch56

CP.f.w4 {
     @CP.f.w4: Min spacing of Via3 in PAD must be >=0.45um
     L1001=EXTERNAL w4_pad <0.45 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch6

CP.f.w5 {
     @CP.f.w5: Min spacing of Via4 in PAD must be >=0.45um
     L1001=EXTERNAL w5_pad <0.45 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF

CP.g.wt {
     @CP.g.wt: Min space of WT in PAD must be >=0.35um
     L1001=EXTERNAL wt_pad <0.35 REGION SINGULAR ABUT<90
     NOT INSIDE L1001 EXCL
}

#IFDEF Switch456

CP.h.w23 {
     @CP.h.w23: Min spacing between Via1 and Via2 in PAD must be >=0.13um
     L1001=EXTERNAL w2_pad w3_pad <0.13 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch56

CP.h.w43 {
     @CP.h.w43: Min spacing between Via3 and Via2 in PAD must be >=0.13um
     L1001=EXTERNAL w4_pad w3_pad <0.13 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch6

CP.h.w25 {
     @CP.h.w25: Min spacing between Via1 and Via4 in PAD must be >=0.13um
     L1001=EXTERNAL w2_pad w5_pad <0.13 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

CP.h.w45 {
     @CP.h.w45: Min spacing between Via3 and Via4 in PAD must be >=0.13um
     L1001=EXTERNAL w4_pad w5_pad <0.13 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF

//;CP.i don't defined

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//   Small Bounding Pad (CP)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

small_cp=RECTANGLE cp_no_fuse ==2.5 BY ==2.5 ORTHOGONAL ONLY

//;; Small_CP.a checked in CP.a

Small_CP.b {
     @Small_CP.b: Min space of small CP must be >=3um
     L1001=EXTERNAL small_cp <3.0 REGION SINGULAR ABUT<90
     NOT INSIDE L1001 EXCL
}

Small_CP.c.a1 {
     @Small_CP.c.a1: Min extension of A1 beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp A1_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#IFDEF Switch3456

Small_CP.c.a2 {
     @Small_CP.c.a2: Min extension of A2 beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp A2_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch456

Small_CP.c.a3 {
     @Small_CP.c.a3: Min extension of A3 beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp A3_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch56

Small_CP.c.a4 {
     @Small_CP.c.a4: Min extension of A4 beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp A4_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch6

Small_CP.c.a5 {
     @Small_CP.c.a5: Min extension of A5 beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp A5_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch_thin

Small_CP.c.at {
     @Small_CP.c.at: Min extension of AT beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp AT_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#IFDEF Switch_thick

Small_CP.c.tt {
     @Small_CP.c.tt: Min extension of MTT beyond small CP must be >=2 um
     L1001=ENCLOSURE small_cp MTT_drc <2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

#ENDIF
#ENDIF //;CHECK_PAD_OPENING_Rule

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.28  Metal Slotting Rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
#IFDEF metal3_process
#DEFINE gteSwitch2_slot
#ENDIF

#IFDEF metal4_process
#DEFINE gteSwitch2_slot
#DEFINE gteSwitch3_slot
#ENDIF

#IFDEF metal5_process
#DEFINE gteSwitch2_slot
#DEFINE gteSwitch3_slot
#DEFINE gteSwitch4_slot
#ENDIF

#IFDEF metal6_process
#DEFINE gteSwitch2_slot
#DEFINE gteSwitch3_slot
#DEFINE gteSwitch4_slot
#DEFINE gteSwitch5_slot
#ENDIF

#IFDEF thickmetal3_process
#IFNDEF below_topmetal double_thick_metal
#DEFINE gteSwitch2_slot
#ENDIF
#ENDIF

#IFDEF thickmetal4_process
#DEFINE gteSwitch2_slot
#IFNDEF below_topmetal double_thick_metal
#DEFINE gteSwitch3_slot
#ENDIF
#ENDIF

#IFDEF thickmetal5_process
#DEFINE gteSwitch2_slot
#DEFINE gteSwitch3_slot
#IFNDEF below_topmetal double_thick_metal
#DEFINE gteSwitch4_slot
#ENDIF
#ENDIF

#IFDEF thickmetal6_process
#DEFINE gteSwitch2_slot
#DEFINE gteSwitch3_slot
#DEFINE gteSwitch4_slot
#IFNDEF below_topmetal double_thick_metal
#DEFINE gteSwitch5_slot
#ENDIF
#ENDIF

#IFDEF CHECK_SlotRule_C

m1gu = AND A1_drc a1_width35
m1ax = A1_drc NOT m1gu
SLOT.A1.c {
      @SLOT.A1.c: Minimum width of a metal1 line which is connected to wide metal1 line must be >=10um.
      L34090= COINCIDENT OUTSIDE EDGE (m1ax NOT INSIDE EXCL) (m1gu NOT INSIDE EXCL)
      LENGTH L34090 <10
}

#IFDEF gteSwitch2_slot

m2gu = AND A2_drc a2_width35
m2ax = A2_drc NOT m2gu
SLOT.A2.c {
      @SLOT.A2.c: Minimum width of a metal2 line which is connected to wide metal2 line must be >=10um.
      L34091= COINCIDENT OUTSIDE EDGE (m2ax NOT INSIDE EXCL) (m2gu NOT INSIDE EXCL)
      LENGTH L34091 <10
}

#ENDIF
#IFDEF gteSwitch3_slot

m3gu = AND A3_drc a3_width35
m3ax = A3_drc NOT m3gu
SLOT.A3.c {
      @SLOT.A3.c: Minimum width of a metal3 line which is connected to wide metal3 line must be >=10um.
      L34092= COINCIDENT OUTSIDE EDGE (m3ax NOT INSIDE EXCL) (m3gu NOT INSIDE EXCL)
      LENGTH L34092 <10
}

#ENDIF
#IFDEF gteSwitch4_slot

m4gu = AND A4_drc a4_width35
m4ax = A4_drc NOT m4gu
SLOT.A4.c {
      @SLOT.A4.c: Minimum width of a metal4 line which is connected to wide metal4 line must be >=10um.
      L34093= COINCIDENT OUTSIDE EDGE (m4ax NOT INSIDE EXCL) (m4gu NOT INSIDE EXCL)
      LENGTH L34093 <10
}

#ENDIF
#IFDEF gteSwitch5_slot

m5gu = AND A5_drc a5_width35
m5ax = A5_drc NOT m5gu
SLOT.A5.c {
      @SLOT.A5.c: Minimum width of a metal5 line which is connected to wide metal5 line must be >=10um.
      L34094= COINCIDENT OUTSIDE EDGE (m5ax NOT INSIDE EXCL) (m5gu NOT INSIDE EXCL)
      LENGTH L34094 <10
}

#ENDIF
#ENDIF //;CHECK_SlotRule_C

SLOT.A1.a {
      @SLOT.A1.a: Minimum width of an open slot must be >=2.0m
      L1001=INTERNAL A1SLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A1.b {
      @SLOT.A1.b: Maximum width of an open slot must be <=5.0m
      L1001=SIZE A1SLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

SLOT.A1.d {
      @SLOT.A1.d: Minimum length of an open slot must be >=20.0m
      L1001=COPY A1_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.A1.e_f {
      @SLOT.A1.e_f: Minimum spacing between any two parallel open slots must be >=10.0m
      L1001=EXTERNAL A1SLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

SLOT.A1.h_i {
      @SLOT.A1.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE A1SLOT_slot_drc A1_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A1.j {
      @SLOT.A1.j: Maximum Metal1 width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_A1_j
      NOT INSIDE L1001 EXCL
}

#IFDEF gteSwitch2_slot

SLOT.A2.a {
      @SLOT.A2.a: Minimum width of an open slot must be >=2.0m
      L1001=INTERNAL A2SLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A2.b {
      @SLOT.A2.b: Maximum width of an open slot must be <=5.0m
      L1001=SIZE A2SLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

SLOT.A2.d {
      @SLOT.A2.d: Minimum length of an open slot must be >=20.0m
      L1001=COPY A2_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.A2.e_f {
      @SLOT.A2.e_f: Minimum spacing between any two parallel open slots must be >=10.0m
      L1001=EXTERNAL A2SLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

SLOT.A12.g {
      @SLOT.A12.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A1SLOT_slot_drc A2SLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A1SLOT_slot_drc A2SLOT_slot_drc 
}

SLOT.A2.h_i {
      @SLOT.A2.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE A2SLOT_slot_drc A2_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A2.j {
      @SLOT.A2.j: Maximum Metal2 width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_A2_j
      NOT INSIDE L1001 EXCL
}

#ENDIF //;gteSwitch2_slot
#IFDEF gteSwitch3_slot

SLOT.A3.a {
      @SLOT.A3.a: Minimum width of an open slot must be >=2.0m
      L1001=INTERNAL A3SLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A3.b {
      @SLOT.A3.b: Maximum width of an open slot must be <=5.0m
      L1001=SIZE A3SLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

SLOT.A3.d {
      @SLOT.A3.d: Minimum length of an open slot must be >=20.0m
      L1001=COPY A3_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.A3.e_f {
      @SLOT.A3.e_f: Minimum spacing between any two parallel open slots must be >=10.0m
      L1001=EXTERNAL A3SLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

SLOT.A23.g {
      @SLOT.A23.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A2SLOT_slot_drc A3SLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A2SLOT_slot_drc A3SLOT_slot_drc
}

SLOT.A3.h_i {
      @SLOT.A3.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE A3SLOT_slot_drc A3_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A3.j {
      @SLOT.A3.j: Maximum Metal3 width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_A3_j
      NOT INSIDE L1001 EXCL
}

#ENDIF //;gteSwitch3_slot
#IFDEF gteSwitch4_slot

SLOT.A4.a {
      @SLOT.A4.a: Minimum width of an open slot must be >=2.0m
      L1001=INTERNAL A4SLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A4.b {
      @SLOT.A4.b: Maximum width of an open slot must be <=5.0m
      L1001=SIZE A4SLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

SLOT.A4.d {
      @SLOT.A4.d: Minimum length of an open slot must be >=20.0m
      L1001=COPY A4_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.A4.e_f {
      @SLOT.A4.e_f: Minimum spacing between any two parallel open slots must be >=10.0m
      L1001=EXTERNAL A4SLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

SLOT.A34.g {
      @SLOT.A34.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A3SLOT_slot_drc A4SLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A3SLOT_slot_drc A4SLOT_slot_drc
}

SLOT.A4.h_i {
      @SLOT.A4.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE A4SLOT_slot_drc A4_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A4.j {
      @SLOT.A4.j: Maximum Metal4 width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_A4_j
      NOT INSIDE L1001 EXCL
}

#ENDIF //;gteSwitch4_slot
#IFDEF gteSwitch5_slot

SLOT.A5.a {
      @SLOT.A5.a: Minimum width of an open slot must be >=2.0m
      L1001=INTERNAL A5SLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A5.b {
      @SLOT.A5.b: Maximum width of an open slot must be <=5.0m
      L1001=SIZE A5SLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

SLOT.A5.d {
      @SLOT.A5.d: Minimum length of an open slot must be >=20.0m
      L1001=COPY A5_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.A5.e_f {
      @SLOT.A5.e_f: Minimum spacing between any two parallel open slots must be >=10.0m
      L1001=EXTERNAL A5SLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

SLOT.A45.g {
      @SLOT.A45.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A4SLOT_slot_drc A5SLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL      
      AND A4SLOT_slot_drc A5SLOT_slot_drc
}

SLOT.A5.h_i {
      @SLOT.A5.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE A5SLOT_slot_drc A5_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.A5.j {
      @SLOT.A5.j: Maximum Metal5 width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_A5_j
      NOT INSIDE L1001 EXCL
}

#ENDIF //;gteSwitch5_slot

//;SLOT.L/M don't check

// ; *****************************************************************
// ;                 II. Mixed-signal/RF layer layout design rule
// ; *****************************************************************

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.17  Deep-NWell (DN)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

DN.a {
     @DN.a: Min width of DNW must be >=3.0um
     L1001=INTERNAL DN_drc <3.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

DN.b {
     @DN.b: Min spacing of DNW to DNW must be >=5.0um
     L1001=EXTERNAL DN_drc <5.0 REGION SINGULAR ABUT<90     
     NOT INSIDE L1001 EXCL
}

DN.c {
     @DN.c: Min spacing of DNW to unrelated NW must be >=3.5um
     L1001=EXTERNAL DN_drc TB_drc <3.5 REGION SINGULAR ABUT<90     
     NOT INSIDE L1001 EXCL
}

DN.d {
     @DN.d: Min overlap of NW beyond DNW must be >=2.0um
     L1001=INTERNAL DN_drc TB_drc <2.0 REGION SINGULAR ABUT<90    
     NOT INSIDE L1001 EXCL
}

DN.e {
     @DN.e: Min extension of NW beyond DNW must be >=1.5um
     L1001=ENCLOSURE DN_drc TB_drc <1.5 REGION SINGULAR ABUT<90    
     NOT INSIDE L1001 EXCL
}

DN.f {
     @DN.f: Min spacing of PPLUS ACT to DNW must be >=1.5um
     L1001=EXTERNAL pdiff DN_drc <1.5 REGION SINGULAR ABUT<90    
     NOT INSIDE L1001 EXCL
     CUT pdiff DN_drc
}

/*
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.18  P-well Block layer (PWB)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

PWB.a {
     @PWB.a: Min width of PWBLK must be >=0.86um
     L1001=INTERNAL PWB_drc <0.86 REGION SINGULAR ABUT<90    
     NOT INSIDE L1001 EXCL
}

PWB.b {
     @PWB.b: Min spacing of PWBLK to PWBLK must be >=0.86um
     L1001=EXTERNAL PWB_drc <0.86 REGION SINGULAR ABUT<90    
     NOT INSIDE L1001 EXCL
}

ntgate=AND ngate PWB_drc
PWB.c {
     @PWB.c: Min channle length for 5v native NMOS must be >=1.2um
     lntgate18=COINCIDENT EDGE (ntgate NOT INSIDE EXCL) TO_drc
     LENGTH lntgate18 <1.2
}

PWB.d {
     @PWB.d: Min spacing of PWBLK to ACT must be >=0.52um
     L1001=EXTERNAL PWB_drc TO_drc <0.52 REGION SINGULAR ABUT<90    
     NOT INSIDE L1001 EXCL
}

PWB.e {
     @PWB.e: Min extension of PWBLK beyond ACT must be >=0.26um
     L1001=ENCLOSURE TO_drc PWB_drc <0.26 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     CUT TO_drc PWB_drc 
}

PWB.f {
     @PWB.f: Min spacing of PWBLK to NW must be >=1.66um
     L1001=EXTERNAL PWB_drc TB_drc<1.66 REGION SINGULAR ABUT<90 
     AND PWB_drc TB_drc
     NOT INSIDE L1001 EXCL
}

ntdiff=AND ndiff PWB_drc
PWB.g {
     @PWB.g: Min extension of Gate beyond the ACT of native NMOS device(end-cap) must be >=0.35um
     L1001=ENCLOSURE ntdiff GT_drc<0.35 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

PWB.i {
     @PWB.i: Only one active is allowed to put in PWBLK region
     L1001=ENCLOSE PWB_drc TO_drc >1
     NOT INSIDE L1001 EXCL
}

PWB.j {
     @PWB.j: A P+ active is not allowed to put in PWBLK region
     L1001=AND PWB_drc pdiff
     NOT INSIDE L1001 EXCL
}

PWB.l {
     @PWB.l: PWBLK overlap TB is not allowed
     L1001=AND PWB_drc TB_drc
     NOT INSIDE L1001 EXCL
}

PWB.m {
     @PWB.m: PWBLK overlap DNW is not allowed
     L1001=AND PWB_drc DN_drc
     NOT INSIDE L1001 EXCL
}
*/

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.22  Implant layer for High sheet Resistance poly resistor (HR)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

HR.a {
     @HR.a: Min width of HR must be >=0.44um
     L1001=INTERNAL HR_drc <0.44 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

HR.b {
     @HR.b: Min spacing of HR to HR must be >=0.44um
     L1001=EXTERNAL HR_drc <0.44 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

HR.c {
     @HR.c: Min spacing of HR to ACT must be >=0.3um
     L1001=EXTERNAL HR_drc TO_drc <0.3 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

mospoly=INTERACT GT_drc TO_drc
HR.d {
     @HR.d: Min spacing of HR to unrelated Gate must be >=0.32um
     L1001=EXTERNAL HR_drc mospoly <0.32 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

hrespoly=GT_drc INTERACT (SI_drc NOT OUTSIDE ((GT_drc INTERACT HR_drc) AND RES_HR_mark))
hrpoly=AND HR_drc hrespoly
HR.e {
     @HR.e: Min spacing of unrelated PPLUS or NPLUS to poly resistor with HR must be >=0.3um
     L1001=EXTERNAL imp_reg hrpoly <0.3 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

hrcont=AND W1_drc hrpoly
HR.f {
     @HR.f: Min and max spacing of SAB to W1 must be ==0.15um
     L1002=EXTERNAL hrcont SI_drc <0.15 REGION SINGULAR ABUT<90 OVERLAP 
     L1001=(SIZE SI_drc BY 0.15) AND hrpoly
     L1003=NOT TOUCH hrcont L1001
     hrcont CUT SI_drc
     NOT INSIDE L1002 EXCL
     NOT INSIDE L1003 EXCL
}

HR.g {
     @HR.g: Min spacing of HR resistor to HR resistor must be >=0.4um
     L1001=EXTERNAL hrpoly <0.4 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

HR.h {
     @HR.h: Min extension of HR beyond HR resistor must be >=0.3um
     L1001=ENCLOSURE hrpoly HR_drc <0.3 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     hrespoly NOT INSIDE HR_drc
}

hrsp=ENCLOSE SP_drc hrcont
hrsab=AND SI_drc HR_drc
hrsab_sp=AND hrsab hrsp
HR.i {
     @HR.i: Min and max overlap of PPLUS and SAB in HR region must be ==0.22um
     L1001=INTERNAL hrsab_sp <0.22 REGION SINGULAR ABUT<90 
     L46448=SIZE hrsab_sp BY -0.11
     L1002=SIZE L46448 BY 0.11
     TOUCH hrsp hrsab
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

HR.j {
     @HR.j: Min extension of PPLUS beyond poly GT must be >=0.18um
     L1002=ENCLOSURE hrpoly SP_drc <0.18 REGION SINGULAR ABUT<90 
     NOT INSIDE L1002 EXCL
     L1001=hrespoly NOT (SI_drc NOT OUTSIDE HR_drc)
     L1003=L1001 NOT INSIDE (SP_drc NOT OUTSIDE HR_drc)
     NOT INSIDE L1003 EXCL
}

HR.k {
     @HR.k: Min extension of SAB beyond HR resistor in width direction must be >=0.28um
     L1003=ENCLOSURE hrpoly SI_drc <0.28 REGION SINGULAR ABUT<90 
     L1001=hrpoly NOT (hrpoly AND SI_drc)
     L1002=(hrpoly AND SI_drc) TOUCH EDGE L1001
     L1004=(hrpoly AND SI_drc) WITH EDGE L1002 >2
     NOT INSIDE L1003 EXCL
     NOT INSIDE L1004 EXCL
}

HR.l {
     @HR.lMin width of GT used as poly HR must be >=0.42um
     L1001=INT (GT_drc INTERACT RES_HR_mark) <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

HR.m {
     @HR.m: Min area of HR must be >=0.38um2
     AREA HR_drc <0.38 
}

HR.n {
     @HR.n: Overlap of NPLUS and HR is not allowed
     INTERACT HR_drc SN_drc
}

HR.o {
     @HR.o: Overlap of ACT and HR is not allowed
     INTERACT HR_drc TO_drc 
}

/*
HR.s {
     @HR.s: Min extension of RPDMY to GT must be >=0.22um
     L1001=ENC hrpoly RPDMY <0.22 REGION SINGULAR ABUT<90  
     NOT INSIDE L1001 EXCL
}
*/

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.23  MIM Capacitor Top layer (MCT)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
mctcap=INTERACT MCT_drc WT_drc
mctring=NOT INTERACT MCT_drc WT_drc

forb_res1=((RES_TO_mark OR RES_PY_mark) OR (RES_M1_mark OR RES_M2_mark)) OR ((RES_M3_mark OR RES_M4_mark) OR (RES_M5_mark OR RES_MT_mark))
forb_res=forb_res1 OR (RES_HR_mark OR RES_NW_mark)
passive_dev=forb_res OR INDUM_mark
active_dev=((gate OR DIODE_mark) OR (BJT_mark OR VARMARK)) OR VARJUN_mark

#IFDEF Switch3456
#IFDEF Switch3

dumpm2=INTERACT A2_drc mctring
bpm2a=INTERACT A2_drc mctcap
bpm2=AND bpm2a MCTM2
capbotm2_m_edge=COIN EDGE bpm2 A2_drc

#ENDIF
#IFDEF Switch4

dumpm3=INTERACT A3_drc mctring
bpm3a=INTERACT A3_drc mctcap
bpm3=AND bpm3a MCTM3
capbotm3_m_edge=COIN EDGE bpm3 A3_drc

#ENDIF
#IFDEF Switch5

dumpm4=INTERACT A4_drc mctring
bpm4a=INTERACT A4_drc mctcap
bpm4=AND bpm4a MCTM4
capbotm4_m_edge=COIN EDGE bpm4 A4_drc

#ENDIF
#IFDEF Switch6

dumpm5=INTERACT A5_drc mctring
bpm5a=INTERACT A5_drc mctcap
bpm5=AND bpm5a MCTM5
capbotm5_m_edge=COIN EDGE bpm5 A5_drc

#ENDIF

MCT.a1 {
      @MCT.a1: Min width of MCT used for capacitor top plate must be >=4.0um
      L1001=INTERNAL mctcap <4.0  REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.a2 {
      @MCT.a2: Max dimension of MCT used for capacitor top plate must be <=30um
      L1001=ENCLOSE RECTANGLE mctcap 0.01 30.01 ORTHOGONAL ONLY 
      NOT INSIDE L1001 EXCL
}

MCT.b {
      @MCT.b: Min width of dummy MCT ring must be <=1.0um
      L1001=INTERNAL mctring <1.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

#IFDEF Switch3

MCT.c {
      @MCT.c: Max dimension of M2 used for capacitor bottom plate must be <=35um
      L1001=SIZE bpm2 BY 17.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

MCT.f {
      @MCT.f: Min spacing between two M2 used for capacitor bottom plates must be <=0.8um
      L1001=EXTERNAL bpm2 <0.8 REGION SINGULAR ABUT<90 
      L1002=EXTERNAL bpm2 dumpm2<0.8 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

capbotwt=(WT_drc AND bpm2) NOT MCT_drc
MCT.i {
      @MCT.i: Min spacing between two MV2 which are covered by M2 must be <=2.0um
      L1001=EXTERNAL capbotwt <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.k {
      @MCT.k: Min extension of M2 beyond MV2 or MV1 must be <=0.12um
      L1001=ENCLOSURE WT_drc bpm2 <0.12 REGION SINGULAR ABUT<90 
      L1002=ENCLOSURE W2_drc bpm2 <0.12 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

MCT.l {
      @MCT.l: Min extension of M2 beyond MCT must be <=0.4um
      L1001=ENCLOSURE MCT_drc A2_drc <0.4 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.m {
      @MCT.m: Min extension of MCTM2 beyond M2 must be >= 2.0um      
      L1001=ENCLOSURE capbotm2_m_edge MCTM2 <2.0 REGION ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.q {
      @MCT.q: Both the active and passive device under MIM region are not allowed
      AND passive_dev MCTM2
      AND active_dev MCTM2
}

MCT.r {
      @MCT.r: MCT without M2 cover is not allowed 
      NOT MCT_drc A2_drc
}

#ENDIF //;Switch3
#IFDEF Switch4

MCT.c {
      @MCT.c: Max dimension of M5 used for capacitor bottom plate must be <=35um
      L1001=SIZE bpm3 BY 17.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

MCT.f {
      @MCT.f: Min spacing between two M3 used for capacitor bottom plates must be <=0.8um
      L1001=EXTERNAL bpm3 <0.8 REGION SINGULAR ABUT<90 
      L1002=EXTERNAL bpm3 dumpm3<0.8 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

capbotwt=(WT_drc AND bpm3) NOT MCT_drc
MCT.i {
      @MCT.i: Min spacing between two MV2 which are covered by M3 must be <=2.0um
      L1001=EXTERNAL capbotwt <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.k {
      @MCT.k: Min extension of M3 beyond MV3 or MV4 must be <=0.12um
      L1001=ENCLOSURE WT_drc bpm3 <0.12 REGION SINGULAR ABUT<90 
      L1002=ENCLOSURE W3_drc bpm3 <0.12 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

MCT.l {
      @MCT.l: Min extension of M3 beyond MCT must be <=0.4um
      L1001=ENCLOSURE MCT_drc A3_drc <0.4 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.m {
      @MCT.m: Min extension of MCTM3 beyond M3 must be >= 2.0um      
      L1001=ENCLOSURE capbotm3_m_edge MCTM3 <2.0 REGION ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.q {
      @MCT.q: Both the active and passive device under MIM region are not allowed
      AND passive_dev MCTM3
      AND active_dev MCTM3
}

MCT.r {
      @MCT.r: MCT without M3 cover is not allowed 
      NOT MCT_drc A3_drc
}

#ENDIF //;Switch4
#IFDEF Switch5

MCT.c {
      @MCT.c: Max dimension of M4 used for capacitor bottom plate must be <=35um
      L1001=SIZE bpm4 BY 17.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

MCT.f {
      @MCT.f: Min spacing between two M4 used for capacitor bottom plates must be <=0.8um
      L1001=EXTERNAL bpm4 <0.8 REGION SINGULAR ABUT<90 
      L1002=EXTERNAL bpm4 dumpm4<0.8 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

capbotwt=(WT_drc AND bpm4) NOT MCT_drc
MCT.i {
      @MCT.i: Min spacing between two MV4 which are covered by M4 must be <=2.0um
      L1001=EXTERNAL capbotwt <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.k {
      @MCT.k: Min extension of M4 beyond MV4 or MV3 must be <=0.12um
      L1001=ENCLOSURE WT_drc bpm4 <0.12 REGION SINGULAR ABUT<90 
      L1002=ENCLOSURE W4_drc bpm4 <0.12 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

MCT.l {
      @MCT.l: Min extension of M4 beyond MCT must be <=0.4um
      L1001=ENCLOSURE MCT_drc A4_drc <0.4 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.m {
      @MCT.m: Min extension of MCTM4 beyond M4 must be >= 2.0um      
      L1001=ENCLOSURE capbotm4_m_edge MCTM4 <2.0 REGION ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.q {
      @MCT.q: Both the active and passive device under MIM region are not allowed
      AND passive_dev MCTM4
      AND active_dev MCTM4
}

MCT.r {
      @MCT.r: MCT without M4 cover is not allowed 
      NOT MCT_drc A4_drc
}

#ENDIF //;Switch5
#IFDEF Switch6

MCT.c {
      @MCT.c: Max dimension of M5 used for capacitor bottom plate must be <=35um
      L1001=SIZE bpm5 BY 17.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

MCT.f {
      @MCT.f: Min spacing between two M5 used for capacitor bottom plates must be <=0.8um
      L1001=EXTERNAL bpm5 <0.8 REGION SINGULAR ABUT<90 
      L1002=EXTERNAL bpm5 dumpm5<0.8 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

capbotwt=(WT_drc AND bpm5) NOT MCT_drc
MCT.i {
      @MCT.i: Min spacing between two MV4 which are covered by M4 must be <=2.0um
      L1001=EXTERNAL capbotwt <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.k {
      @MCT.k: Min extension of M5 beyond MV5 or MV4 must be <=0.12um
      L1001=ENCLOSURE WT_drc bpm5 <0.12 REGION SINGULAR ABUT<90 
      L1002=ENCLOSURE W5_drc bpm5 <0.12 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

MCT.l {
      @MCT.l: Min extension of M5 beyond MCT must be <=0.4um
      L1001=ENCLOSURE MCT_drc A5_drc <0.4 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.m {
      @MCT.m: Min extension of MCTM5 beyond M5 must be >= 2.0um      
      L1001=ENCLOSURE capbotm5_m_edge MCTM5 <2.0 REGION ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.q {
      @MCT.q: Both the active and passive device under MIM region are not allowed
      AND passive_dev MCTM5
      AND active_dev MCTM5
}

MCT.r {
      @MCT.r: MCT without M5 cover is not allowed 
      NOT MCT_drc A5_drc
}

#ENDIF //;Switch6

MCT.d {
      @MCT.d: Min spacing between two capacitor MCTs must be <=1.2um
      L1001=EXTERNAL mctcap <1.2 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.e {
      @MCT.e: Min spacing between capacitor MCT and dummy MCT ring must be <=0.8um
      L1001=EXTERNAL mctcap mctring <0.8 REGION SINGULAR ABUT<90 
      L1002=EXTERNAL mctring <0.8 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      NOT INSIDE L1002 EXCL
}

MCT.g {
      @MCT.g: Min spacing of MCT to WT must be <=0.4um
      L1001=EXTERNAL WT_drc MCT_drc <0.4 REGION SINGULAR ABUT<90  
      NOT INSIDE L1001 EXCL
      CUT WT_drc MCT_drc
}

captopwt=AND WT_drc MCT_drc
MCT.h {
      @MCT.h: Min spacing between two MV4 which are covered by MCT must be <=2.0um
      L1001=EXTERNAL captopwt <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.j {
      @MCT.j: Min extension of MCT beyond MV4 must be <=0.24um
      L1001=ENCLOSURE WT_drc MCT_drc <0.24 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

MCT.n {
      @MCT.n: Min density of MV3 which is covered by MCT must be >=1% 
      DENSITY captopwt >0<0.01 INSIDE OF LAYER mctcap PRINT density_report_MCT_n.log
}

MCT.o {
      @MCT.o: Min pattern density of MCT must be >=3%
      DENSITY MCT_drc>0<0.03 PRINT density_report_MCT_o.log
}

MCT.p {
      @MCT.s: Min area of MCT must be >=0.2 um*um
      AREA MCT_drc <0.2
}

#ENDIF //;Switch3456
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                     HVDMY design rule
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

HVDMY.a {
     @HVDMY.a: Min space between HVDMY must be >=0.8um
     L1001=EXTERNAL HVDMY_drc <0.8 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

//;HVDMY.b checked in TB.e

HVDMY.c {
     @HVDMY.c: Min extension of HVDMY beyond HN outside corner must be >=0um
     L1001= NOT HN_drc HVDMY_drc
     NOT INSIDE L1001 EXCL
}

nodmf_check=NODMF_mark NOT OUTSIDE HVDMY_drc
hvdmy_check=HVDMY_drc NOT OUTSIDE NODMF_mark

HVDMY.d{
     @HVDMY.d: Min and max extension of HVDMY beyond NODMF must be ==0um 
     L1001=nodmf_check NOT HVDMY_drc
     L1002=hvdmy_check NOT NODMF_mark
     NOT INSIDE L1001 EXCL
     NOT INSIDE L1002 EXCL
}

HVDMY.e{
     @HVDMY.e: Min HVDMY width must be >=0.8um 
     L1001=INTERNAL HVDMY_drc <0.8 REGION SINGULAR ABUT<90
     NOT INSIDE L1001 EXCL
}

//;HVDMY.f checked in HVDMY.c
//;HVDMY.g do not check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.30  Metal fuse design
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
m5fuse=AND FUSE_drc A5_drc
pifuse_ring=NOT PI_drc FUSE_drc

Ba1=AND pifuse_ring A1_drc
Ha1=HOLES Ba1
a1fuse_ring=TOUCH Ba1 Ha1

Ba2=AND pifuse_ring A2_drc
Ha2=HOLES Ba2
a2fuse_ring=TOUCH Ba2 Ha2

Ba3=AND pifuse_ring A3_drc
Ha3=HOLES Ba3
a3fuse_ring=TOUCH Ba3 Ha3

Ba4=AND pifuse_ring A4_drc
Ha4=HOLES Ba4
a4fuse_ring=TOUCH Ba4 Ha4

Ba5=AND pifuse_ring A5_drc
Ha5=HOLES Ba5
a5fuse_ring=TOUCH Ba5 Ha5

Bat=AND pifuse_ring AT_drc
Hat=HOLES Bat
atfuse_ring=TOUCH Bat Hat

Btt=AND pifuse_ring MTT_drc
Htt=HOLES Btt
ttfuse_ring=TOUCH Btt Htt

w1_fuse=AND W1_drc FUSE_drc
w2_fuse=AND W2_drc FUSE_drc
w3_fuse=AND W3_drc FUSE_drc
w4_fuse=AND W4_drc FUSE_drc
w5_fuse=AND W5_drc FUSE_drc
wt_fuse=AND WT_drc FUSE_drc
wtfuse_size03=SIZE wt_fuse BY 0.3

w2fuse_ring=INSIDE W2_drc a1fuse_ring
w3fuse_ring=INSIDE W3_drc a2fuse_ring
w4fuse_ring=INSIDE W4_drc a3fuse_ring
w5fuse_ring=INSIDE W5_drc a4fuse_ring
wtfuse_ring=INSIDE WT_drc a5fuse_ring

#IFDEF Switch2

metal_fuse=INTERACT A1_drc RES_FUSE_mark
L16452=INSIDE EDGE (A1_drc NOT INSIDE EXCL) (cp_fuse NOT INSIDE EXCL)
L92091=AND A1_drc L73697

#ENDIF
#IFDEF Switch3

metal_fuse=INTERACT A2_drc RES_FUSE_mark
L16452=INSIDE EDGE (A2_drc NOT INSIDE EXCL) (cp_fuse NOT INSIDE EXCL)
L92091=AND A2_drc L73697

#ENDIF
#IFDEF Switch4

metal_fuse=INTERACT A3_drc RES_FUSE_mark
L16452=INSIDE EDGE (A3_drc NOT INSIDE EXCL) (cp_fuse NOT INSIDE EXCL)
L92091=AND A3_drc L73697

#ENDIF
#IFDEF Switch5

metal_fuse=INTERACT A4_drc RES_FUSE_mark
L16452=INSIDE EDGE (A4_drc NOT INSIDE EXCL) (cp_fuse NOT INSIDE EXCL)
L92091=AND A4_drc L73697

#ENDIF
#IFDEF Switch6

metal_fuse=INTERACT A5_drc RES_FUSE_mark
L16452=INSIDE EDGE (A5_drc NOT INSIDE EXCL) (cp_fuse NOT INSIDE EXCL)
L92091=AND A5_drc L73697

#ENDIF

L78348=INSIDE EDGE metal_fuse cp_fuse
L34936=NOT ANGLE L78348 >0 <90
FU_METAL.W {
    @Minimum and Maximum metal fuse width == 0.6 um
    L1001=INTERNAL L34936 >0.6 <999.0 REGION OPPOSITE ABUT<90
    L1002=INTERNAL L34936 <0.6 REGION OPPOSITE ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

L56201=NOT ANGLE L16452 >0 <90
FU_METAL.L {
    @Minimum and Maximum metal fuse length == 8.0 um
    NOT LENGTH L56201 == 8.0 
}

FU_METAL.a {
    @Min extension between fuse window and fuse must be >=4.2um
    L1001=ENC L56201 cp_fuse <4.2 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

FU_METAL.b {
    @Fuse window dimension must be 9x9um
    cp_fuse_metal=INTERACT cp_fuse metal_fuse
    L1001=NOT RECTANGLE cp_fuse_metal ==9.0 BY ==9.0
    NOT INSIDE L1001 EXCL
}

FU_METAL.c {
    @Minimum extension between fuse window and N well must be >= 3.0 um
    L1001=ENCLOSURE cp_fuse TB_drc <3.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

L12929=OUTSIDE EDGE metal_fuse cp_fuse
L33388=NOT ANGLE L12929 >0 <90
FU_METAL.d {
    @Minimum fuse end width must be >= 10.0 um
    L1001=INTERNAL L33388 <10.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

L73697=NOT cp_fuse TB_drc
FU_METAL.f {
    @A floating Nwell is required under fuse window
    L1001=COPY L92091
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.15 Top Metal (AT)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
#IFDEF Switch_thin
#IFDEF at_thickness_8k

AT.a {
     @AT.a: Min AT width must be >=0.42um
     L1001=INTERNAL AT_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

AT.b {
     @AT.b: Min AT space if both metal width<10um must be >=0.42um
     L1001=EXTERNAL AT_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

AT.c12 {
      @AT.c1: Min enclosure of AT region over WT region must be >=0.07um
      @AT.c2: Min enclosure of AT line end region beyond WT region must be >=0.1um
      @(when via2 at 90 degree corner,one side of metal enclosure must be considered as line end region). 
      X1 = RECTANGLE ENC WT_drc AT_drc ABUT<90  OUTSIDE ALSO
      GOOD 0.07 OPPOSITE 0.1 OPPOSITE 0.07 OPPOSITE 0.1 OPPOSITE
      X = NOT INSIDE X1 EXCL_N
      ENC X AT_drc < 0.07 ABUT<90 SINGULAR OVERLAP OPPOSITE
      NOT WT_drc AT_drc
      Y = ENC [X] AT_drc < 0.1 OPPOSITE
      INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

at_gt_10=SIZE AT_drc BY 5 UNDEROVER
at_gt_10_y=COINCIDENT INSIDE EDGE AT_drc at_gt_10
AT.c3 {
     @AT.c3: Min enclosure of AT beyond WT,when the width of AT is large the 10um
     @must be >=0.1um
     L1001=ENCLOSURE WT_drc at_gt_10_y <0.1 ABUT<90 REGION
     NOT INSIDE L1001 EXCL_N
}

AT.d {
     @AT.d: Minimum space between Top metal lines with one or both metal line width
     @ and length are greater than 10um is 0.60um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     AT_S5 = SHRINK (SHRINK (SHRINK (SHRINK at_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     AT_G5 = GROW (GROW (GROW (GROW AT_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     AT_Wide = AT_G5 AND at_conn
     AT_Exp = SIZE AT_Wide BY 1 INSIDE OF at_conn STEP 0.322
     AT_Branch = AT_Exp NOT AT_Wide
     AT_Branch_edge = AT_Branch COIN INSIDE EDGE at_conn
     AT_Check = at_conn AND (SIZE AT_Exp BY 0.6)
     AT_Else = AT_Check NOT INTERACT AT_Exp
     AT_Extend = AT_Check NOT AT_Exp 
     AT_WideC = STAMP AT_Wide BY at_conn
     AT_ElseC = STAMP AT_Check BY at_conn

     L1001=EXT AT_WideC AT_ElseC < 0.6 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT AT_Branch_edge AT_Else < 0.6 ABUT >0 <89.5 OPPOSITE REGION
     L1003=EXT AT_Branch_edge AT_Else < 0.6 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT AT_Branch_edge AT_Else < 0.6 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT AT_Exp < 0.6 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT AT_Extend
     NOT INSIDE L1001 EXCL_N
     NOT INSIDE L1002 EXCL_N
     NOT INSIDE L1003 EXCL_N
     NOT INSIDE L1004 EXCL_N
     NOT INSIDE L1005 EXCL_N
}

AT.g {
     @AT.g: Min area of Mn island is 0.56um2 for 8K AT
     AREA AT_drc <0.56 
}

#ENDIF //;at_thickness_8k
#IFDEF at_thickness_12k

AT.a {
     @AT.a: Min AT width must be >=0.42um
     L1001=INTERNAL AT_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

AT.b {
     @AT.b: Min AT space if both metal width<10um must be >=0.42um
     L1001=EXTERNAL AT_drc <0.42 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL_N
}

AT.c12 {
      @AT.c1: Min enclosure of AT region over WT region must be >=0.07um
      @AT.c2: Min enclosure of AT line end region beyond WT region must be >=0.1um
      @(when via2 at 90 degree corner,one side of metal enclosure must be considered as line end region). 
      X1 = RECTANGLE ENC WT_drc AT_drc ABUT<90  OUTSIDE ALSO
      GOOD 0.07 OPPOSITE 0.1 OPPOSITE 0.07 OPPOSITE 0.1 OPPOSITE
      X = NOT INSIDE X1 EXCL_N
      ENC X AT_drc < 0.07 ABUT<90 SINGULAR OVERLAP OPPOSITE
      NOT WT_drc AT_drc
      Y = ENC [X] AT_drc < 0.1 OPPOSITE
      INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

at_gt_10=SIZE AT_drc BY 5 UNDEROVER
at_gt_10_y=COINCIDENT INSIDE EDGE AT_drc at_gt_10
AT.c3 {
     @AT.c3: Min enclosure of AT beyond WT,when the width of AT is large the 10um
     @must be >=0.1um
     L1001=ENCLOSURE WT_drc at_gt_10_y <0.1 ABUT<90 REGION
     NOT INSIDE L1001 EXCL_N
}

AT.d {
     @AT.d: Minimum space between Top metal lines with one or both metal line width
     @ and length are greater than 10um is 0.60um
     @ The minimum space must be maintained between a metal line and a
     @ small piece of metal(<10) that is connected to the wide metal
     @ within 1.0um range from the wide metal
     AT_S5 = SHRINK (SHRINK (SHRINK (SHRINK at_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     AT_G5 = GROW (GROW (GROW (GROW AT_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
     AT_Wide = AT_G5 AND at_conn
     AT_Exp = SIZE AT_Wide BY 1 INSIDE OF at_conn STEP 0.322
     AT_Branch = AT_Exp NOT AT_Wide
     AT_Branch_edge = AT_Branch COIN INSIDE EDGE at_conn
     AT_Check = at_conn AND (SIZE AT_Exp BY 0.6)
     AT_Else = AT_Check NOT INTERACT AT_Exp
     AT_Extend = AT_Check NOT AT_Exp 
     AT_WideC = STAMP AT_Wide BY at_conn
     AT_ElseC = STAMP AT_Check BY at_conn

     L1001=EXT AT_WideC AT_ElseC < 0.6 ABUT >0 <89.5 NOT CONNECTED REGION 
     L1002=EXT AT_Branch_edge AT_Else < 0.6 ABUT >0 <89.5 OPPOSITE REGION
     L1003=EXT AT_Branch_edge AT_Else < 0.6 ABUT >0 <89.5 CORNER REGION 
     L1004=EXT AT_Branch_edge AT_Else < 0.6 ABUT >0 <89.5 PROJ==0 REGION 
     A = EXT AT_Exp < 0.6 ABUT > 0 < 89.5 SPACE REGION 
     L1005=A NOT INTERACT AT_Extend
     NOT INSIDE L1001 EXCL_N
     NOT INSIDE L1002 EXCL_N
     NOT INSIDE L1003 EXCL_N
     NOT INSIDE L1004 EXCL_N
     NOT INSIDE L1005 EXCL_N
}

AT.g {
     @AT.g: Min area of Mn island is 0.56um2 for 8K AT
     AREA AT_drc <0.56 
}

#ENDIF //;at_thickness_12k

SLOT.AT.a {
      @SLOT.AT.a: Minimum width of an open slot must be >=2.0m
      L1001=INTERNAL ATSLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.AT.b {
      @SLOT.AT.b: Maximum width of an open slot must be <=5.0m
      L1001=SIZE ATSLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

#IFDEF CHECK_SlotRule_C
mtgu = AND AT_drc at_width35
mtax = AT_drc NOT mtgu
SLOT.AT.c {
      @SLOT.AT.c: Minimum width of a metal5 line which is connected to wide metal6 line must be >=10um.
      L34095= COINCIDENT OUTSIDE EDGE (mtax NOT INSIDE EXCL) (mtgu NOT INSIDE EXCL)
      LENGTH L34095 <10
}
#ENDIF //;CHECK_SlotRule_C

SLOT.AT.d {
      @SLOT.AT.d: Minimum length of an open slot must be >=20.0m
      L1001=COPY AT_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.AT.e_f {
      @SLOT.AT.e_f: Minimum spacing between any two parallel open slots must be >=10.0m
      L1001=EXTERNAL ATSLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

#IFDEF metal2_process

SLOT.AT.g {
      @SLOT.AT.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A1SLOT_slot_drc ATSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A1SLOT_slot_drc ATSLOT_slot_drc
}

#ENDIF
#IFDEF metal3_process

SLOT.AT.g {
      @SLOT.AT.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A2SLOT_slot_drc ATSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A2SLOT_slot_drc ATSLOT_slot_drc
}

#ENDIF
#IFDEF metal4_process

SLOT.AT.g {
      @SLOT.AT.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A3SLOT_slot_drc ATSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A3SLOT_slot_drc ATSLOT_slot_drc
}

#ENDIF
#IFDEF metal5_process

SLOT.AT.g {
      @SLOT.AT.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A4SLOT_slot_drc ATSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A4SLOT_slot_drc ATSLOT_slot_drc
}

#ENDIF
#IFDEF metal6_process

SLOT.AT.g {
      @SLOT.AT.g: Minimum clearance between two slots in neighbor layers must be >=2.0m
      L1001=EXTERNAL A5SLOT_slot_drc ATSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A5SLOT_slot_drc ATSLOT_slot_drc
}

#ENDIF

SLOT.AT.h_i {
      @SLOT.AT.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE ATSLOT_slot_drc AT_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.AT.j {
      @SLOT.AT.j: Maximum Top metal width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_AT_j
      NOT INSIDE L1001 EXCL
}
/*
FUSE.g.at {
       @FUSE.g.at: Min extension from M1 to Mn-1 to W1/V1~3 (stacked via) must be >=0.3um
       ENCLOSURE wt_fuse AT_drc < 0.3 ABUT<90 SINGULAR REGION
}

FUSE.j.at {
       @FUSE.j.at: Min separation from fuse window to protecting ring must be>=1.5um
       EXTERNAL atfuse_ring FUSE_drc < 1.5 ABUT<90 SINGULAR REGION
}

FUSE.l.at {
       @FUSE.l.at: Min.extension from M1~Mx to V1~Vx-1 in protection ring is 0.40
       ENCLOSURE wtfuse_ring atfuse_ring < 0.4 ABUT<90 SINGULAR REGION
}
*/
#ENDIF //;Switch_thin

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  8.24  Thick top metal layer (MTT)
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
#IFDEF Switch_thick
#IFDEF thickmetal2_process

indum7=SIZE INDUM_mark BY -7      //exclude M1 substrate pick up node
indm=AND INDUM_mark A1_drc
indume=COINCIDENT INSIDE EDGE indm INDUM_mark
inddmya=WITH EDGE INDUM_mark indume <2
inddmy3=ENCLOSE inddmya A1_drc      //for 3 terminals inductor(central tap)
inddmy2=INDUM_mark NOT inddmy3       //for 2 terminals inductor
MTT.i {
      @MTT.i: No via and metal layers inside INDDMY region are allowed expect
      @ underpass via and metal interconnect of inductor.
      AND indum7 A1_drc
      AND INDUM_mark W1_drc
      AND inddmy2 A1_drc
}

#ENDIF
#IFDEF thickmetal3_process

indum7=SIZE INDUM_mark BY -7      //exclude M1 substrate pick up node
indm=AND INDUM_mark A2_drc
indume=COINCIDENT INSIDE EDGE indm INDUM_mark
inddmya=WITH EDGE INDUM_mark indume <2
inddmy3=ENCLOSE inddmya A2_drc      //for 3 terminals inductor(central tap)
inddmy2=INDUM_mark NOT inddmy3       //for 2 terminals inductor
MTT.i {
      @MTT.i: No via and metal layers inside INDDMY region are allowed expect
      @ underpass via and metal interconnect of inductor.
      AND indum7 A1_drc
      AND INDUM_mark W2_drc
      AND inddmy2 A2_drc
}

#ENDIF
#IFDEF thickmetal4_process

indum7=SIZE INDUM_mark BY -7      //exclude M1 substrate pick up node
indm=AND INDUM_mark A2_drc
indume=COINCIDENT INSIDE EDGE indm INDUM_mark
inddmya=WITH EDGE INDUM_mark indume <2
inddmy3=ENCLOSE inddmya A3_drc      //for 3 terminals inductor(central tap)
inddmy2=INDUM_mark NOT inddmy3       //for 2 terminals inductor
MTT.i {
      @MTT.i: No via and metal layers inside INDDMY region are allowed expect
      @ underpass via and metal interconnect of inductor.
      AND indum7 A1_drc
      AND INDUM_mark W2_drc
      AND inddmy2 A2_drc
      AND inddmy2 W3_drc
}

#ENDIF
#IFDEF thickmetal5_process

indum7=SIZE INDUM_mark BY -7      //exclude M1 substrate pick up node
indm=AND INDUM_mark A3_drc
indume=COINCIDENT INSIDE EDGE indm INDUM_mark
inddmya=WITH EDGE INDUM_mark indume <2
inddmy3=ENCLOSE inddmya A4_drc      //for 3 terminals inductor(central tap)
inddmy2=INDUM_mark NOT inddmy3       //for 2 terminals inductor
MTT.i {
      @MTT.i: No via and metal layers inside INDDMY region are allowed expect
      @ underpass via and metal interconnect of inductor.
      AND indum7 A1_drc
      AND INDUM_mark W2_drc
      AND INDUM_mark A2_drc
      AND INDUM_mark W3_drc
      AND inddmy2 A3_drc
      AND inddmy2 W4_drc
}

#ENDIF
#IFDEF thickmetal6_process

indum7=SIZE INDUM_mark BY -7      //exclude M1 substrate pick up node
indm=AND INDUM_mark A4_drc
indume=COINCIDENT INSIDE EDGE indm INDUM_mark
inddmya=WITH EDGE INDUM_mark indume <2
inddmy3=ENCLOSE inddmya A5_drc      //for 3 terminals inductor(central tap)
inddmy2=INDUM_mark NOT inddmy3       //for 2 terminals inductor
MTT.i {
      @MTT.i: No via and metal layers inside INDDMY region are allowed expect
      @ underpass via and metal interconnect of inductor.
      AND indum7 A1_drc
      AND INDUM_mark W2_drc
      AND INDUM_mark A2_drc
      AND INDUM_mark W3_drc
      AND INDUM_mark A3_drc
      AND INDUM_mark W4_drc
      AND inddmy2 A4_drc
      AND inddmy2 W5_drc
}

#ENDIF

#IFDEF tt_thickness_25k

MTT.a {
      @MTT.a: Min width of MTT must be >=1.2um.
      L1001=INTERNAL (MTT_drc INTERACT INDUM_mark) <1.2 REGION SINGULAR  
      L1002=INTERNAL (MTT_drc NOT INTERACT INDUM_mark) <1.2 REGION SINGULAR ABUT<90      
      NOT INSIDE L1001 EXCL_N
      NOT INSIDE L1002 EXCL_N
}

MTT.b1 {
      @MTT.b1: Min spacing of MTT to MTT must be >=1.2um.
      @if the width of both metals less than 10um
      L1001=EXTERNAL tt_conn <1.2 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL_N
}

MTT.b2 {
      @MTT.b2: Min spacing of MTT to MTT must be >=1.5um
      @if the width and length of one metal both larger than 10um.
      MTT_NIND_S5 = SHRINK (SHRINK (SHRINK (SHRINK tt_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
      MTT_NIND_G5 = GROW (GROW (GROW (GROW MTT_NIND_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
      MTT_NIND_Wide = MTT_NIND_G5 AND tt_conn

      MTT_NIND_Exp = SIZE MTT_NIND_Wide BY 1 INSIDE OF tt_conn STEP 1.05
      MTT_NIND_Branch = MTT_NIND_Exp NOT MTT_NIND_Wide
      MTT_NIND_Branch_edge = MTT_NIND_Branch COIN INSIDE EDGE tt_conn
      MTT_NIND_Check = tt_conn AND (SIZE MTT_NIND_Exp BY 1.5)
      MTT_NIND_Else = MTT_NIND_Check NOT INTERACT MTT_NIND_Exp
      MTT_NIND_Extend = MTT_NIND_Check NOT MTT_NIND_Exp 

      L1001=EXT MTT_NIND_Wide MTT_NIND_Else < 1.5 ABUT >0 <89.5 REGION 
      L1002=EXT MTT_NIND_Branch_edge MTT_NIND_Else < 1.5 ABUT >0 <89.5 OPPOSITE REGION
      L1003=EXT MTT_NIND_Branch_edge MTT_NIND_Else < 1.5 ABUT >0 <89.5 CORNER REGION 
      L1004=EXT MTT_NIND_Branch_edge MTT_NIND_Else < 1.5 ABUT >0 <89.5 PROJ==0 REGION 
      A = EXT MTT_NIND_Exp < 1.5 ABUT > 0 < 89.5 SPACE REGION 
      L1005=A NOT INTERACT MTT_NIND_Extend
      NOT INSIDE L1001 EXCL_N
      NOT INSIDE L1002 EXCL_N
      NOT INSIDE L1003 EXCL_N
      NOT INSIDE L1004 EXCL_N
      NOT INSIDE L1005 EXCL_N
}

MTT.c {
      @MTT.c1: Min enclosure of MTT beyond MV5 
      @c1: in Line must be >=0.3um
      @c2: Line-end must be >=0.45um
      @c3: inner corner must be >=0.3um
      @c4: outer corner must be >=0.45
      tmp=NOT WT_drc PI_drc
      X1 = RECTANGLE ENC tmp MTT_drc ABUT<90  OUTSIDE ALSO
      GOOD 0.3 OPPOSITE 0.45 OPPOSITE 0.3 OPPOSITE 0.45 OPPOSITE
      X = NOT INSIDE X1 EXCL_N
      ENC X MTT_drc < 0.3 ABUT<90 SINGULAR OVERLAP
      NOT WT_drc MTT_drc
      Y = ENC [X] MTT_drc < 0.45 OPPOSITE
      INT Y < 0.01 ABUT==90 INTERSECTING ONLY
}

mtt_gt_10=SIZE MTT_drc BY 5 UNDEROVER
mtt_gt_10_y=COINCIDENT INSIDE EDGE MTT_drc mtt_gt_10
MTT.c5 {
      @MTT.c5: Min enclosure of MTT beyond WT,when the width of MTT is large the 10um
      @must be >=1.5um
      L1001=ENCLOSURE WT_drc mtt_gt_10_y <1.5 ABUT<90 REGION
      NOT INSIDE L1001 EXCL_N
}

indu_mtt=INTERACT MTT_drc INDUM_mark
not_indu_mtt=NOT INTERACT MTT_drc INDUM_mark
MTT.d {
      @MTT.d: Min enclosure of INDDMY beyond MTT must be >=50um
      L1001=ENCLOSURE MTT_drc INDUM_mark <50 REGION SINGULAR ABUT>0<90 
      NOT INSIDE L1001 EXCL_N
}

MTT.e {
      @MTT.e: Min spacing of MTT of inductor to other MTT spacing must be >=50um
      L1001=EXTERNAL not_indu_mtt indu_mtt <50 REGION SINGULAR ABUT>0<90 
      NOT INSIDE L1001 EXCL_N
}

MTT.f {
      @MTT.f: Min area of MTT island is 2.25um2.
      AREA MTT_drc < 2.25
}

//;MTT.g is checked by MTTDUM.m

forbiden_mtt=(GT_drc OR TO_drc) OR TB_drc
MTT.j {
      @MTT.j: Both active and passive device inside INDDMY region are not allowed.
      AND forbiden_mtt INDUM_mark
}

//;MTT.l do not check

#ENDIF //;tt_thickness_25k

#IFDEF tt_thickness_35k

MTT.a {
      @MTT.a: Min width of MTT must be >=2.0um.
      L1001=INTERNAL (MTT_drc INTERACT INDUM_mark) <2.0 REGION SINGULAR 
      L1002=INTERNAL (MTT_drc NOT INTERACT INDUM_mark) <2.0 REGION SINGULAR ABUT<90          
      NOT INSIDE L1001 EXCL_N
      NOT INSIDE L1002 EXCL_N
}

MTT.b1 {
      @MTT.b1: Min spacing of MTT to MTT must be >=2.0um.
      @if the width of both metals less than 10um
      L1001=EXTERNAL tt_conn <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL_N
}

MTT.b2 {
      @MTT.b2: Min spacing of MTT to MTT must be >=2.5um
      @if the width and length of one metal both larger than 10um.
      MTT_NIND_S5 = SHRINK (SHRINK (SHRINK (SHRINK tt_conn RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
      MTT_NIND_G5 = GROW (GROW (GROW (GROW MTT_NIND_S5 RIGHT BY 4.999) LEFT BY 4.999) TOP BY 4.999) BOTTOM BY 4.999
      MTT_NIND_Wide = MTT_NIND_G5 AND tt_conn

      MTT_NIND_Exp = SIZE MTT_NIND_Wide BY 1 INSIDE OF tt_conn STEP 1.05
      MTT_NIND_Branch = MTT_NIND_Exp NOT MTT_NIND_Wide
      MTT_NIND_Branch_edge = MTT_NIND_Branch COIN INSIDE EDGE tt_conn
      MTT_NIND_Check = tt_conn AND (SIZE MTT_NIND_Exp BY 2.5)
      MTT_NIND_Else = MTT_NIND_Check NOT INTERACT MTT_NIND_Exp
      MTT_NIND_Extend = MTT_NIND_Check NOT MTT_NIND_Exp 

      L1001=EXT MTT_NIND_Wide MTT_NIND_Else < 2.5 ABUT >0 <89.5 REGION 
      L1002=EXT MTT_NIND_Branch_edge MTT_NIND_Else < 2.5 ABUT >0 <89.5 OPPOSITE REGION
      L1003=EXT MTT_NIND_Branch_edge MTT_NIND_Else < 2.5 ABUT >0 <89.5 CORNER REGION 
      L1004=EXT MTT_NIND_Branch_edge MTT_NIND_Else < 2.5 ABUT >0 <89.5 PROJ==0 REGION 
      A = EXT MTT_NIND_Exp < 2.5 ABUT > 0 < 89.5 SPACE REGION 
      L1005=A NOT INTERACT MTT_NIND_Extend
      NOT INSIDE L1001 EXCL_N
      NOT INSIDE L1002 EXCL_N
      NOT INSIDE L1003 EXCL_N
      NOT INSIDE L1004 EXCL_N
      NOT INSIDE L1005 EXCL_N
}

MTT.c {
     @MTT.c:Min enclosure of MTT beyond WT must be >=0.5 um
     L1001=ENC WT_drc MTT_drc <0.5 REGION SINGULAR ABUT<90
     NOT INSIDE L1001 EXCL_N
     NOT WT_drc MTT_drc
}

mtt_gt_10=SIZE MTT_drc BY 5 UNDEROVER
mtt_gt_10_y=COINCIDENT INSIDE EDGE MTT_drc mtt_gt_10
MTT.c5 {
      @MTT.c5: Min enclosure of MTT beyond WT,when the width of MTT is large the 10um
      @must be >=1.5um
      L1001=ENCLOSURE WT_drc mtt_gt_10_y <1.5 ABUT<90 REGION
      NOT INSIDE L1001 EXCL_N
}

indu_mtt=INTERACT MTT_drc INDUM_mark
not_indu_mtt=NOT INTERACT MTT_drc INDUM_mark
MTT.d {
      @MTT.d: Min enclosure of INDDMY beyond MTT must be >=50um
      L1001=ENCLOSURE MTT_drc INDUM_mark <50 REGION SINGULAR ABUT>0<90 
      NOT INSIDE L1001 EXCL_N
}

MTT.e {
      @MTT.e: Min spacing of MTT of inductor to other MTT spacing must be >=50um
      L1001=EXTERNAL not_indu_mtt indu_mtt <50 REGION SINGULAR ABUT>0<90 
      NOT INSIDE L1001 EXCL_N
}

MTT.f {
      @MTT.h: Min area of MTT island is 6.67um2.
      AREA MTT_drc < 6.67
}

forbiden_mtt=(GT_drc OR TO_drc) OR TB_drc
MTT.j {
      @MTT.j: Both active and passive device inside INDDMY region are not allowed.
      AND forbiden_mtt INDUM_mark
}

#ENDIF //;tt_thickness_35k

SLOT.MTT.a {
      @SLOT.MTT.a: Minimum width of an open slot must be >=2.0um
      L1001=INTERNAL MTTSLOT_slot_drc <2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.MTT.b {
      @SLOT.MTT.b: Maximum width of an open slot must be <=5.0um
      L1001=SIZE MTTSLOT_slot_drc BY 2.5 UNDEROVER
      NOT INSIDE L1001 EXCL
}

#IFDEF CHECK_SlotRule_C
ttgu = AND MTT_drc tt_width35
ttax = MTT_drc NOT ttgu
SLOT.MTT.c {
      @SLOT.MTT.c: Minimum width of a metal5 line which is connected to wide metal5 line must be >=10um.
      L34096= COINCIDENT OUTSIDE EDGE (ttax NOT INSIDE EXCL) (ttgu NOT INSIDE EXCL)
      LENGTH L34096 <10
}
#ENDIF //;CHECK_SlotRule_C

SLOT.MTT.d {
      @SLOT.MTT.d: Minimum length of an open slot must be >=20.0um
      L1001=COPY MTT_short_slot
      NOT INSIDE L1001 EXCL
}

SLOT.MTT.e_f {
      @SLOT.MTT.e_f: Minimum spacing between any two parallel open slots must be >=10.0um
      L1001=EXTERNAL MTTSLOT_slot_drc <10.0 REGION SINGULAR PARA ONLY OPPOSITE
      NOT INSIDE L1001 EXCL
}

#IFDEF thickmetal2_process

SLOT.MTT.g {
      @SLOT.MTT.g: Minimum clearance between two slots in neighbor layers must be >=2.0um
      L1001=EXTERNAL A1SLOT_slot_drc MTTSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A1SLOT_slot_drc MTTSLOT_slot_drc
}

#ENDIF
#IFDEF thickmetal3_process

SLOT.MTT.g {
      @SLOT.MTT.g: Minimum clearance between two slots in neighbor layers must be >=2.0um
      L1001=EXTERNAL A2SLOT_slot_drc MTTSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A2SLOT_slot_drc MTTSLOT_slot_drc
}

#ENDIF
#IFDEF thickmetal4_process

SLOT.MTT.g {
      @SLOT.MTT.g: Minimum clearance between two slots in neighbor layers must be >=2.0um
      L1001=EXTERNAL A3SLOT_slot_drc MTTSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A3SLOT_slot_drc MTTSLOT_slot_drc
}

#ENDIF
#IFDEF thickmetal5_process

SLOT.MTT.g {
      @SLOT.MTT.g: Minimum clearance between two slots in neighbor layers must be >=2.0um
      L1001=EXTERNAL A4SLOT_slot_drc MTTSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A4SLOT_slot_drc MTTSLOT_slot_drc
}

#ENDIF
#IFDEF thickmetal6_process

SLOT.MTT.g {
      @SLOT.MTT.g: Minimum clearance between two slots in neighbor layers must be >=2.0um
      L1001=EXTERNAL A5SLOT_slot_drc MTTSLOT_slot_drc<2.0 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
      AND A5SLOT_slot_drc MTTSLOT_slot_drc
}

#ENDIF

SLOT.MTT.h_i {
      @SLOT.MTT.h_i: Minimum clearance between two any open slot to the inner/outer metal edge must be <=10.0m
      L1001=ENCLOSURE MTTSLOT_slot_drc MTT_drc <10 REGION SINGULAR ABUT<90 
      NOT INSIDE L1001 EXCL
}

SLOT.MTT.j {
      @SLOT.MTT.j: Maximum MTT width without sloting must be <=35.0m
      L1001=COPY rule_SLOT_MTT_j
      NOT INSIDE L1001 EXCL
}
/*
FUSE.g.tt {
       @FUSE.g.tt: Min extension from M1 to Mn-1 to W1/V1~3 (stacked via) must be >=0.3um
       ENCLOSURE wt_fuse MTT_drc < 0.3 ABUT<90 SINGULAR REGION
}

FUSE.j.tt {
       @FUSE.j.tt: Min separation from fuse window to protecting ring must be>=1.5um
       EXTERNAL ttfuse_ring FUSE_drc < 1.5 ABUT<90 SINGULAR REGION
}

FUSE.l.tt {
       @FUSE.l.tt: Min.extension from M1~Mx to V1~Vx-1 in protection ring is 0.40
       ENCLOSURE wtfuse_ring ttfuse_ring < 0.4 ABUT<90 SINGULAR REGION
}
*/
#ENDIF //;Switch_thick

#IFNDEF DISABLE_DENSITY
to_den_exc=((((RES_NW_mark OR FUSE) OR LMARK) OR LOGO) OR INDUM_mark) OR DUMBA_mark
chip_not_to_exc=NOT big_chip_to to_den_exc
to_not_exc=NOT all_to to_den_exc

TODUM.m {
     @TODUM.m: Min local density of (TO or DTO) across full chip must be >=20%.
     @ if the chip area >=62500um2
     DENSITY to_not_exc chip_not_to_exc >0<0.2 WINDOW 500 STEP 250 BACKUP PRINT density_report_DTO_m.log
     [AREA(to_not_exc)/AREA(chip_not_to_exc)]
}

TODUM.n {
     @TODUM.n: Max density of (TO or DTO) across full chip must be <=80%.
     @ if the chip area >=62500um2
     DENSITY to_not_exc chip_not_to_exc >0.8 WINDOW 500 STEP 250 BACKUP PRINT density_report_DTO_n.log
     [AREA(to_not_exc)/AREA(chip_not_to_exc)]
}

TODUM.o {
     @TODUM.o: Min density of (TO or DTO) across full chip must be >=25%.
     DENSITY all_to >0<0.25 PRINT density_report_DTO_o.log
}

TODUM.p {
     @TODUM.p: Max density of (TO or DTO) across full chip must be <=75%.
     DENSITY all_to >0.75 PRINT density_report_DTO_p.log
}

GTDUM.k {
     @GTDUM.k: Minimum poly pattern density must be greater than 15%. 
     @ If not, please add the dummy pattern on the STI region.
     DENSITY all_gt >0<0.15 PRINT density_report_DGT_k.log
}

//METAL DENSITY RULES 
//===================
metal_den_exc=(((FUSE OR LMARK) OR LOGO) OR INDUM_mark) OR DUMBM_mark
chip_not_metal_exc=NOT big_chip_metal metal_den_exc

a1_not_exc=(all_a1 NOT A1SLOT_slot) NOT metal_den_exc
A1DUM.k {
     @A1DUM.k: Min local density of (Ax or DAx) for A1-An(n<6) must be >=30% 
     DENSITY a1_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA1_k.log
     [AREA(a1_not_exc)/AREA(chip_not_metal_exc)]
}

A1DUM.o {
     @A1DUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY a1_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA1_o.log
     [AREA(a1_not_exc)/AREA(chip_not_metal_exc)]
}

A1DUM.p {
     @A1DUM.p: Min metal local density within DAxBLK for(A1-An)(n<6) must be >=30% 
     DENSITY A1 DA1BLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA1_p.log
     [AREA(A1)/AREA(DA1BLK)]
}

A1DUM.r {
     @A1DUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY A1 DA1BLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA1_r.log
     [AREA(A1)/AREA(DA1BLK)]
}

A1DUM.m {
      @A1DUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_a1 NOT A1SLOT_slot) >0 <0.3 PRINT density_report_DA1_m.log
}

A1DUM.n {
      @A1DUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_a1 NOT A1SLOT_slot) >0.7 PRINT density_report_DA1_n.log
}

#IFDEF Switch3456

a2_not_exc=(all_a2 NOT A2SLOT_slot) NOT metal_den_exc
A2DUM.k {
     @A2DUM.k: Min local density of (Ax or DAx) for A1-An(n<6) must be >=30% 
     DENSITY a2_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA2_k.log
     [AREA(a2_not_exc)/AREA(chip_not_metal_exc)]
}

A2DUM.o {
     @A2DUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY a2_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA2_o.log
     [AREA(a2_not_exc)/AREA(chip_not_metal_exc)]
}

A2DUM.p {
     @A2DUM.p: Min metal local density within DAxBLK for(A1-An)(n<6) must be >=30% 
     DENSITY A2 DA2BLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA2_p.log
     [AREA(A2)/AREA(DA2BLK)]
}

A2DUM.r {
     @A2DUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY A2 DA2BLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA2_r.log
     [AREA(A2)/AREA(DA2BLK)]
}

A2DUM.m {
      @A2DUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_a2 NOT A2SLOT_slot) >0 <0.3 PRINT density_report_DA2_m.log
}

A2DUM.n {
      @A2DUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_a2 NOT A2SLOT_slot) >0.7 PRINT density_report_DA2_n.log
}

#ENDIF //;Switch3456
#IFDEF Switch456

a3_not_exc=(all_a3 NOT A3SLOT_slot) NOT metal_den_exc
A3DUM.k {
     @A3DUM.k: Min local density of (Ax or DAx) for A1-An(n<6) must be >=30% 
     DENSITY a3_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA3_k.log
     [AREA(a3_not_exc)/AREA(chip_not_metal_exc)]
}

A3DUM.o {
     @A3DUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY a3_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA3_o.log
     [AREA(a3_not_exc)/AREA(chip_not_metal_exc)]
}

A3DUM.p {
     @A3DUM.p: Min metal local density within DAxBLK for(A1-An)(n<6) must be >=30% 
     DENSITY A3 DA3BLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA3_p.log
     [AREA(A3)/AREA(DA3BLK)]
}

A3DUM.r {
     @A3DUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY A3 DA3BLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA3_r.log
     [AREA(A3)/AREA(DA3BLK)]
}

A3DUM.m {
      @A3DUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_a3 NOT A3SLOT_slot) >0 <0.3 PRINT density_report_DA3_m.log
}

A3DUM.n {
      @A3DUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_a3 NOT A3SLOT_slot) >0.7 PRINT density_report_DA3_n.log
}

#ENDIF //;Switch456
#IFDEF Switch56

a4_not_exc=(all_a4 NOT A4SLOT_slot) NOT metal_den_exc
A4DUM.k {
     @A4DUM.k: Min local density of (Ax or DAx) for A1-An(n<6) must be >=30% 
     DENSITY a4_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA4_k.log
     [AREA(a4_not_exc)/AREA(chip_not_metal_exc)]
}

A4DUM.o {
     @A4DUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY a4_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA4_o.log
     [AREA(a4_not_exc)/AREA(chip_not_metal_exc)]
}

A4DUM.p {
     @A4DUM.p: Min metal local density within DAxBLK for(A1-An)(n<6) must be >=30% 
     DENSITY A4 DA4BLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA4_p.log
     [AREA(A4)/AREA(DA4BLK)]
}

A4DUM.r {
     @A4DUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY A4 DA4BLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA4_r.log
     [AREA(A4)/AREA(DA4BLK)]
}

A4DUM.m {
      @A3DUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_a4 NOT A4SLOT_slot) >0 <0.3 PRINT density_report_DA4_m.log
}

A4DUM.n {
      @A3DUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_a4 NOT A4SLOT_slot) >0.7 PRINT density_report_DA4_n.log
}

#ENDIF //;Switch56
#IFDEF Switch6

a5_not_exc=(all_a5 NOT A5SLOT_slot) NOT metal_den_exc
A5DUM.k {
     @A5DUM.k: Min local density of (Ax or DAx) for A1-An(n<6) must be >=30% 
     DENSITY a5_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA5_k.log
     [AREA(a5_not_exc)/AREA(chip_not_metal_exc)]
}

A5DUM.o {
     @A5DUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY a5_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA5_o.log
     [AREA(a5_not_exc)/AREA(chip_not_metal_exc)]
}

A5DUM.p {
     @A5DUM.p: Min metal local density within DAxBLK for(A1-An)(n<6) must be >=30% 
     DENSITY A5 DA5BLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA5_p.log
     [AREA(A5)/AREA(DA5BLK)]
}

A5DUM.r {
     @A5DUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY A5 DA5BLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DA5_r.log
     [AREA(A5)/AREA(DA5BLK)]
}

A5DUM.m {
      @A3DUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_a5 NOT A5SLOT_slot) >0 <0.3 PRINT density_report_DA5_m.log
}

A5DUM.n {
      @A3DUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_a5 NOT A5SLOT_slot) >0.7 PRINT density_report_DA5_n.log
}

#ENDIF //;Switch6

#IFDEF Switch_thin

at_not_exc=(all_at NOT ATSLOT_slot) NOT metal_den_exc
ATDUM.l {
     @ATDUM.l: Min local density of (AT or DAT) or (TT or DTT)must be >=30% 
     DENSITY at_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DAT_l.log
     [AREA(at_not_exc)/AREA(chip_not_metal_exc)]
}

ATDUM.o {
     @ATDUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY at_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DAT_o.log
     [AREA(at_not_exc)/AREA(chip_not_metal_exc)]
}

ATDUM.q {
     @ATDUM.q: Min metal local density within DAxBLK for AT or TT must be >=30% 
     DENSITY AT DATBLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DAT_q.log
     [AREA(AT)/AREA(DATBLK)]
}

ATDUM.r {
     @ATDUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY AT DATBLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DAT_r.log
     [AREA(AT)/AREA(DATBLK)]
}

ATDUM.m {
      @ATDUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_at NOT ATSLOT_slot) >0 <0.3 PRINT density_report_DAT_m.log
}

ATDUM.n {
      @ATDUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_at NOT ATSLOT_slot) >0.7 PRINT density_report_DAT_n.log
}

#ENDIF //;Switch_thin
#IFDEF Switch_thick

mtt_not_exc=(all_mtt NOT MTTSLOT_slot) NOT metal_den_exc
MTTDUM.l {
     @MTTDUM.l: Min local density of (AT or DAT) or (TT or DTT)must be >=30% 
     DENSITY mtt_not_exc chip_not_metal_exc >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DMTT_l.log
     [AREA(mtt_not_exc)/AREA(chip_not_metal_exc)]
}

MTTDUM.o {
     @MTTDUM.o: Max local density of (Ax or DAx)must be <=80% 
     DENSITY mtt_not_exc chip_not_metal_exc >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DMTT_o.log
     [AREA(mtt_not_exc)/AREA(chip_not_metal_exc)]
}

MTTDUM.q {
     @MTTDUM.q: Min metal local density within DAxBLK for AT or TT must be >=30% 
     DENSITY MTT DTTBLK >0<0.3 WINDOW 200 STEP 100 BACKUP PRINT density_report_DMTT_q.log
     [AREA(MTT)/AREA(DTTBLK)]
}

MTTDUM.r {
     @MTTDUM.r: Max metal local density within DAxBLK must be <=80% 
     DENSITY MTT DTTBLK >0.8 WINDOW 200 STEP 100 BACKUP PRINT density_report_DMTT_r.log
     [AREA(MTT)/AREA(DTTBLK)]
}

#IFDEF tt_thickness_25k

MTTDUM.m {
      @MTTDUM.m:Min density of (An to AnDUM) across full chip must be >=30%
      DENSITY (all_mtt NOT MTTSLOT_slot) >0 <0.3 PRINT density_report_DMTT_m.log
}

#ENDIF //;tt_thickness_25k

#IFDEF tt_thickness_35k

MTTDUM.m {
      @MTTDUM.m:Min density of (An to AnDUM) across full chip must be >=40%
      DENSITY (all_mtt NOT MTTSLOT_slot) >0 <0.4 PRINT density_report_DMTT_m.log
}

#ENDIF //;tt_thickness_35k

MTTDUM.n {
      @MTTDUM.n:Max density of (An to AnDUM) across full chip must be <=70%
      DENSITY (all_mtt NOT MTTSLOT_slot) >0.7 PRINT density_report_DMTT_n.log
}

#ENDIF //;Switch_thick
#ENDIF //;DISABLE_DENSITY

#IFNDEF DISABLE_DUMMY

TODUM.a {
     @TODUM.a: Min width of TODUM must be >=2.0um
     L1001=INT TODUM < 2.0 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

TODUM.b {
     @TODUM.b: Min space of TODUM must be >=1.2um
     L1001=EXT TODUM < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

TODUM.c {
     @TODUM.c: Min clearance from DTO to TO(overlap is not allowed) must be >=1.2um
     L1001=EXT TODUM TO < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM TO
}

TODUM.d {
     @TODUM.d: Min clearance from DTO to GT(overlap is not allowed) must be >=1.2um
     L1001=EXT TODUM GT < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM GT
}

TODUM.e {
     @TODUM.e: Min clearance from DTO to TB(overlap is not allowed) must be >=0.6um
     L1001=EXT TODUM TB < 0.6 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     CUT TODUM TB
}

TODUM.f {
     @TODUM.f: Min clearance from DTO to FU(metal fuse)(overlap is not allowed) must be >=1.2um
     L1001=EXT TODUM FUSE < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM FUSE
}

TODUM.g {
     @TODUM.g: Min clearance from DTO to NWBLK(overlap is not allowed) must be >=1.2um
     L1001=EXT TODUM RES_NW_mark < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM RES_NW_mark
}

TODUM.h {
     @TODUM.h: Min clearance from DTO to NODMF(overlap is not allowed) must be >=0um
     L1001=AND TODUM NODMF_mark
     NOT INSIDE L1001 EXCL
}

TODUM.i {
     @TODUM.i: Min clearance from DTO to INDDMY(inductor)(overlap is not allowed) must be >=1.2um
     L1001=EXT TODUM INDUM_mark < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM INDUM_mark
}

TODUM.j {
     @TODUM.j: Min clearance from DTO to DUMBA(overlap is not allowed) must be >=1.2um
     L1001=EXT TODUM DUMBA_mark < 1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM DUMBA_mark
}

TODUM.k {
     @TODUM.k: Min extension of TB beyond DTO must be >=0.6um
     L1001=ENC TODUM TB < 0.6 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

chip_region=NOT bulk SCRIBE
TODUM.l {
     @TODUM.l: Min extension of chip edge beyond DTO must be >=2.5um
     L1001=NOT TODUM (SIZE chip_region BY -2.5)
     NOT INSIDE L1001 EXCL
}

// ;Note: Special TODUM rule please refer LDR---> SPECIAL TODUM

TODUM.q {
     @TODUM.q: TODUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE TODUM 
     NOT INSIDE L1001 EXCL
}

TODUM.s {
     @TODUM.s: Min clearance from DTO to HVDMY (overlap is not allowed) must be >=2.5um
     L1001=EXT TODUM HVDMY_drc < 2.5 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT TODUM HVDMY_drc
}

GTDUM.a {
     @GTDUM.a: Min width of DGT must be >=0.6um
     L1001=INT GTDUM <0.6 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GTDUM.b {
     @GTDUM.b: Min space of DGT must be >=0.3um
     L1001=EXT GTDUM <0.3 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
}

GTDUM.c {
     @GTDUM.c: Min clearance from DGT to TO(overlap is not allowed) must be >=1.2um
     L1001=EXT GTDUM TO <1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM TO
}

GTDUM.d {
     @GTDUM.d: Min clearance from DGT to GT(overlap is not allowed) must be >=1.2um
     L1001=EXT GTDUM GT <1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM GT
}

GTDUM.e {
     @GTDUM.e: Min clearance from DGT to FU(overlap is not allowed) must be >=1.2um
     L1001=EXT GTDUM FUSE <1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM FUSE
}

GTDUM.f {
     @GTDUM.f: Min clearance from DGT to NODMF(overlap is not allowed) must be >=0um
     L1001=AND GTDUM NODMF_mark
     NOT INSIDE L1001 EXCL
}

GTDUM.g {
     @GTDUM.g: Min clearance from DGT to INDDMY(overlap is not allowed) must be >=1.2um
     L1001=EXT GTDUM INDUM_mark <1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM INDUM_mark
}

GTDUM.h {
     @GTDUM.h: Min clearance from DGT to DTO(overlap is not allowed) must be >=0.3um
     L1001=EXT GTDUM TODUM <0.3 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM TODUM
}

GTDUM.i {
     @GTDUM.i: Min extension of chip edge beyond DGT must be >=2.5um
     L1001=NOT GTDUM (SIZE chip_region BY -2.5)
     NOT INSIDE L1001 EXCL
}

GTDUM.j {
     @GTDUM.j: Min clearance from DGT to DUMBP(overlap is not allowed) must be >=1.2um
     L1001=EXT GTDUM DUMBP_mark <1.2 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM DUMBP_mark
}

GTDUM.m {
     @GTDUM.m: GTDUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE GTDUM
     NOT INSIDE L1001 EXCL
}

GTDUM.n {
     @GTDUM.n: Min area of DGT must be >=1.2um
     L1001=AREA GTDUM <1.2 
     NOT INSIDE L1001 EXCL
}

GTDUM.o {
     @GTDUM.o: Min clearance from DGT to HVDMY (overlap is not allowed) must be >=2.5um
     L1001=EXT GTDUM HVDMY_drc < 2.5 REGION SINGULAR ABUT<90 
     NOT INSIDE L1001 EXCL
     INTERACT GTDUM HVDMY_drc
}

A1DUM.a1 {
       @A1DUM.a1: Min width of A1DUM must be >=0.4um
       L1001=INTERNAL A1DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A1DUM.a2 {
       @A1DUM.a2: Max width of A1DUM must be <=3.0um
       L1001=SIZE A1DUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

A1DUM.b {
       @A1DUM.b: Min space of A1DUM must be <=0.4um
       L1001=EXTERNAL A1DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A1DUM.c {
       @A1DUM.c: Min clearance from A1DUM to A1(Overlap is not allowed) must be <=0.6um
       L1001=EXTERNAL A1DUM A1 <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM A1
}

A1DUM.d {
       @A1DUM.d: Min clearance from A1DUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL A1DUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM FUSE
}

A1DUM.e {
       @A1DUM.e: Min clearance from A1DUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND A1DUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

A1DUM.f {
       @A1DUM.f: Min clearance from A1DUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL A1DUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM INDUM_mark
}

#IFDEF Switch2

A1DUM.g {
       @A1DUM.g: Min clearance from A1DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A1DUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM MCTM2
}

#ENDIF
#IFDEF Switch3

A1DUM.g {
       @A1DUM.g: Min clearance from A1DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A1DUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM MCTM2
}

#ENDIF
#IFDEF Switch4

A1DUM.g {
       @A1DUM.g: Min clearance from A1DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A1DUM MCTM3 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM MCTM3
}

#ENDIF
#IFDEF Switch5

A1DUM.g {
       @A1DUM.g: Min clearance from A1DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A1DUM MCTM4 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM MCTM4
}

#ENDIF
#IFDEF Switch6

A1DUM.g {
       @A1DUM.g: Min clearance from A1DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A1DUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM MCTM5
}

#ENDIF

A1DUM.h {
       @A1DUM.h: Min extension of chip edge beyond A1DUM must be <=2.5um
       L1001=NOT A1DUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

A1DUM.i1 {
       @A1DUM.i1: Min area of A1DUM must be >=0.36um2
       L1001=AREA A1DUM <0.36
       NOT INSIDE L1001 EXCL
}

A1DUM.i2 {
       @A1DUM.i2: Max area of A1DUM must be <=80um2
       L1001=AREA A1DUM >80
       NOT INSIDE L1001 EXCL
}

A1DUM.j {
       @A1DUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       L1001=EXT A1DUM DA1BLK <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM DA1BLK
}

A1DUM.x {
       @A1DUM.x: Min clearance from A1DUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL A1DUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A1DUM HVDMY_drc
}

A1DUM.s {
     @A1DUM.s: A1DUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE A1DUM
     NOT INSIDE L1001 EXCL
}

#IFDEF Switch3456

A2DUM.a1 {
       @A2DUM.a1: Min width of A2DUM must be >=0.4um
       L1001=INTERNAL A2DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A2DUM.a2 {
       @A2DUM.a2: Max width of A2DUM must be <=3.0um
       L1001=SIZE A2DUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

A2DUM.b {
       @A2DUM.b: Min space of A2DUM must be <=0.4um
       L1001=EXTERNAL A2DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A2DUM.c {
       @A2DUM.c: Min clearance from A2DUM to A2(Overlap is not allowed) must be <=0.6um
       L1001=EXTERNAL A2DUM A2 <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM A2
}

A2DUM.d {
       @A2DUM.d: Min clearance from A2DUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL A2DUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM FUSE
}

A2DUM.e {
       @A2DUM.e: Min clearance from A2DUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND A2DUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

A2DUM.f {
       @A2DUM.f: Min clearance from A2DUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL A2DUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM INDUM_mark
}

#IFDEF Switch3

A2DUM.g {
       @A2DUM.g: Min clearance from A2DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A2DUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM MCTM2
}

#ENDIF
#IFDEF Switch4

A2DUM.g {
       @A2DUM.g: Min clearance from A2DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A2DUM MCTM3 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM MCTM3
}

#ENDIF
#IFDEF Switch5

A2DUM.g {
       @A2DUM.g: Min clearance from A2DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A2DUM MCTM4 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM MCTM4
}

#ENDIF
#IFDEF Switch6

A2DUM.g {
       @A2DUM.g: Min clearance from A2DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A2DUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM MCTM5
}

#ENDIF

A2DUM.h {
       @A2DUM.h: Min extension of chip edge beyond A2DUM must be <=2.5um
       L1001=NOT A2DUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

A2DUM.i1 {
       @A2DUM.i1: Min area of A2DUM must be >=0.36um2
       L1001=AREA A2DUM <0.36
       NOT INSIDE L1001 EXCL
}

A2DUM.i2 {
       @A2DUM.i2: Max area of A2DUM must be <=80um2
       L1001=AREA A2DUM >80
       NOT INSIDE L1001 EXCL
}

A2DUM.j {
       @A2DUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       L1001=EXT A2DUM DA2BLK <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM DA2BLK
}

A2DUM.x {
       @A2DUM.x: Min clearance from A2DUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL A2DUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A2DUM HVDMY_drc
}

A2DUM.s {
     @A2DUM.s: A2DUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE A2DUM
     NOT INSIDE L1001 EXCL
}

#ENDIF //;Switch3456
#IFDEF Switch456

A3DUM.a1 {
       @A3DUM.a1: Min width of A3DUM must be >=0.4um
       L1001=INTERNAL A3DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A3DUM.a2 {
       @A3DUM.a2: Max width of A3DUM must be <=3.0um
       L1001=SIZE A3DUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

A3DUM.b {
       @A3DUM.b: Min space of A3DUM must be <=0.4um
       L1001=EXTERNAL A3DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A3DUM.c {
       @A3DUM.c: Min clearance from A3DUM to A3(Overlap is not allowed) must be <=0.6um
       L1001=EXTERNAL A3DUM A3 <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL 
       INTERACT A3DUM A3
}

A3DUM.d {
       @A3DUM.d: Min clearance from A3DUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL A3DUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM FUSE
}

A3DUM.e {
       @A3DUM.e: Min clearance from A3DUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND A3DUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

A3DUM.f {
       @A3DUM.f: Min clearance from A3DUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL A3DUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM INDUM_mark
}

#IFDEF Switch4

A3DUM.g {
       @A3DUM.g: Min clearance from A3DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A3DUM MCTM3 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM MCTM3
}

#ENDIF
#IFDEF Switch5

A3DUM.g {
       @A3DUM.g: Min clearance from A3DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A3DUM MCTM4 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM MCTM4
}

#ENDIF
#IFDEF Switch6

A3DUM.g {
       @A3DUM.g: Min clearance from A3DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A3DUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM MCTM5
}

#ENDIF

A3DUM.h {
       @A3DUM.h: Min extension of chip edge beyond A3DUM must be <=2.5um
       L1001=NOT A3DUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

A3DUM.i1 {
       @A3DUM.i1: Min area of A3DUM must be >=0.36um2
       L1001=AREA A3DUM <0.36
       NOT INSIDE L1001 EXCL
}

A3DUM.i2 {
       @A3DUM.i2: Max area of A3DUM must be <=80um2
       L1001=AREA A3DUM >80
       NOT INSIDE L1001 EXCL
}

A3DUM.j {
       @A3DUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       L1001=EXT A3DUM DA3BLK <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM DA3BLK
}

A3DUM.x {
       @A3DUM.x: Min clearance from A3DUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL A3DUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A3DUM HVDMY_drc
}

A3DUM.s {
     @A3DUM.s: A3DUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE A3DUM
     NOT INSIDE L1001 EXCL
}

#ENDIF //;Switch456
#IFDEF Switch56

A4DUM.a1 {
       @A4DUM.a1: Min width of A4DUM must be >=0.4um
       L1001=INTERNAL A4DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A4DUM.a2 {
       @A4DUM.a2: Max width of A4DUM must be <=3.0um
       L1001=SIZE A4DUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

A4DUM.b {
       @A4DUM.b: Min space of A4DUM must be <=0.4um
       L1001=EXTERNAL A4DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A4DUM.c {
       @A4DUM.c: Min clearance from A4DUM to A4(Overlap is not allowed) must be <=0.6um
       L1001=EXTERNAL A4DUM A4 <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM A4
}

A4DUM.d {
       @A4DUM.d: Min clearance from A4DUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL A4DUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM FUSE
}

A4DUM.e {
       @A4DUM.e: Min clearance from A4DUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND A4DUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

A4DUM.f {
       @A4DUM.f: Min clearance from A4DUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL A4DUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM INDUM_mark
}

#IFDEF Switch5

A4DUM.g {
       @A4DUM.g: Min clearance from A4DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A4DUM MCTM4 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM MCTM4
}

#ENDIF
#IFDEF Switch6

A4DUM.g {
       @A4DUM.g: Min clearance from A4DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A4DUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM MCTM5
}

#ENDIF

A4DUM.h {
       @A4DUM.h: Min extension of chip edge beyond A4DUM must be <=2.5um
       L1001=NOT A4DUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

A4DUM.i1 {
       @A4DUM.i1: Min area of A4DUM must be >=0.36um2
       L1001=AREA A4DUM <0.36
       NOT INSIDE L1001 EXCL
}

A4DUM.j2 {
       @A4DUM.j2: Max area of A4DUM must be <=80um2
       L1001=AREA A4DUM >80
       NOT INSIDE L1001 EXCL
}

A4DUM.j {
       @A4DUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       L1001=EXT A4DUM DA4BLK <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM DA4BLK
}

A4DUM.x {
       @A4DUM.x: Min clearance from A4DUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL A4DUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A4DUM HVDMY_drc
}

A4DUM.s {
     @A4DUM.s: A4DUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE A4DUM
     NOT INSIDE L1001 EXCL
}

#ENDIF //;Switch56
#IFDEF Switch6

A5DUM.a1 {
       @A5DUM.a1: Min width of A5DUM must be >=0.4um
       L1001=INTERNAL A5DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A5DUM.a2 {
       @A5DUM.a2: Max width of A5DUM must be <=3.0um
       L1001=SIZE A5DUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

A5DUM.b {
       @A5DUM.b: Min space of A5DUM must be <=0.4um
       L1001=EXTERNAL A5DUM <0.4 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

A5DUM.c {
       @A5DUM.c: Min clearance from A5DUM to A5(Overlap is not allowed) must be <=0.6um
       L1001=EXTERNAL A5DUM A5 <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A5DUM A5
}

A5DUM.d {
       @A5DUM.d: Min clearance from A5DUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL A5DUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A5DUM FUSE
}

A5DUM.e {
       @A5DUM.e: Min clearance from A5DUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND A5DUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

A5DUM.f {
       @A5DUM.f: Min clearance from A5DUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL A5DUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A5DUM INDUM_mark
}

A5DUM.g {
       @A5DUM.g: Min clearance from A5DUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL A5DUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A5DUM MCTM5
}

A5DUM.h {
       @A5DUM.h: Min extension of chip edge beyond A5DUM must be <=2.5um
       L1001=NOT A5DUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

A5DUM.i1 {
       @A5DUM.i1: Min area of A5DUM must be >=0.36um2
       L1001=AREA A5DUM <0.36
       NOT INSIDE L1001 EXCL
}

A5DUM.i2 {
       @A5DUM.i2: Max area of A5DUM must be <=80um2
       L1001=AREA A5DUM >80
       NOT INSIDE L1001 EXCL
}

A5DUM.j {
       @A5DUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       EXT A5DUM DA5BLK <0.6 REGION SINGULAR ABUT<90
       INTERACT A5DUM DA5BLK
}

A5DUM.x {
       @A5DUM.x: Min clearance from A5DUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL A5DUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT A5DUM HVDMY_drc
}

A5DUM.s {
     @A5DUM.s: A5DUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE A5DUM
     NOT INSIDE L1001 EXCL
}

#ENDIF //;Switch6
#IFDEF Switch_thin

ATDUM.a1 {
       @ATDUM.a1: Min width of ATDUM must be >=0.8um
       L1001=INTERNAL ATDUM <0.8 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

ATDUM.a2 {
       @ATDUM.a2: Max width of ATDUM must be <=3.0um
       L1001=SIZE ATDUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

ATDUM.b {
       @ATDUM.b: Min space of ATDUM must be <=0.8um
       L1001=EXTERNAL ATDUM <0.8 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

ATDUM.c {
       @ATDUM.c: Min clearance from ATDUM to AT(Overlap is not allowed) must be <=0.6um
       L1001=EXTERNAL ATDUM AT <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM AT
}

ATDUM.d {
       @ATDUM.d: Min clearance from ATDUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL ATDUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM FUSE
}

ATDUM.e {
       @ATDUM.e: Min clearance from ATDUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND ATDUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

ATDUM.f {
       @ATDUM.f: Min clearance from ATDUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL ATDUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM INDUM_mark
}

#IFDEF Switch2

ATDUM.g {
       @ATDUM.g: Min clearance from ATDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL ATDUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM MCTM2
}

#ENDIF
#IFDEF Switch3

ATDUM.g {
       @ATDUM.g: Min clearance from ATDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL ATDUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM MCTM2
}

#ENDIF
#IFDEF Switch4

ATDUM.g {
       @ATDUM.g: Min clearance from ATDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL ATDUM MCTM3 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM MCTM3
}

#ENDIF
#IFDEF Switch5

ATDUM.g {
       @ATDUM.g: Min clearance from ATDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL ATDUM MCTM4 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM MCTM4
}

#ENDIF
#IFDEF Switch6

ATDUM.g {
       @ATDUM.g: Min clearance from ATDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL ATDUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM MCTM5
}

#ENDIF

ATDUM.h {
       @ATDUM.h: Min extension of chip edge beyond ATDUM must be <=2.5um
       L1001=NOT ATDUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

ATDUM.i1 {
       @ATDUM.i1: Min area of ATDUM must be >=0.8um2
       L1001=AREA ATDUM <0.8
       NOT INSIDE L1001 EXCL
}

ATDUM.i2 {
       @ATDUM.i2: Max area of ATDUM must be <=160um2
       L1001=AREA ATDUM >160
       NOT INSIDE L1001 EXCL
}

ATDUM.j {
       @ATDUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       L1001=EXT ATDUM DATBLK <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM DATBLK
}

ATDUM.x {
       @ATDUM.x: Min clearance from ATDUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL ATDUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT ATDUM HVDMY_drc
}

ATDUM.s {
     @ATDUM.s: ATDUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE ATDUM
     NOT INSIDE L1001 EXCL
}

#ENDIF //;Switch_thin

#IFDEF Switch_thick

MTTDUM.a1 {
       @MTTDUM.a1: Min width of MTTDUM must be >=3.0um
       L1001=INTERNAL MTTDUM <3.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

MTTDUM.a2 {
       @MTTDUM.a2: Max width of MTTDUM must be <=3.0um
       L1001=SIZE MTTDUM BY 1.5 UNDEROVER  
       NOT INSIDE L1001 EXCL
}

MTTDUM.b {
       @MTTDUM.b: Min space of MTTDUM must be <=3.0um
       L1001=EXTERNAL MTTDUM <3.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
}

MTTDUM.c {
       @MTTDUM.c: Min clearance from MTTDUM to TT(Overlap is not allowed) must be <=3.0um
       L1001=EXTERNAL MTTDUM MTT <3.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM MTT
}

MTTDUM.d {
       @MTTDUM.d: Min clearance from MTTDUM to FU (metal fuse)(Overlap is not allowed) must be <=5.0um
       L1001=EXTERNAL MTTDUM FUSE <5.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM FUSE
}

MTTDUM.e {
       @MTTDUM.e: Min clearance from MTTDUM to NODMF (metal fuse)(Overlap is not allowed) must be <=0um
       L1001=AND MTTDUM NODMF_mark
       NOT INSIDE L1001 EXCL
}

MTTDUM.g {
       @MTTDUM.g: Min clearance from MTTDUM to INDDMY (inductor)(Overlap is not allowed) must be <=18.0um
       L1001=EXTERNAL MTTDUM INDUM_mark <18.0 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM INDUM_mark
}

#IFDEF Switch2

MTTDUM.h {
       @MTTDUM.h: Min clearance from MTTDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL MTTDUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM MCTM2
}

#ENDIF
#IFDEF Switch3

MTTDUM.h {
       @MTTDUM.h: Min clearance from MTTDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL MTTDUM MCTM2 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM MCTM2
}

#ENDIF
#IFDEF Switch4

MTTDUM.h {
       @MTTDUM.h: Min clearance from MTTDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL MTTDUM MCTM3 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM MCTM3
}

#ENDIF
#IFDEF Switch5

MTTDUM.h {
       @MTTDUM.h: Min clearance from MTTDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL MTTDUM MCTM4 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM MCTM4
}

#ENDIF
#IFDEF Switch6

MTTDUM.h {
       @MTTDUM.h: Min clearance from MTTDUM to CTDMY (MIM Capacotor)(Overlap is not allowed) must be <=1.5um
       L1001=EXTERNAL MTTDUM MCTM5 <1.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM MCTM5
}

#ENDIF

MTTDUM.i {
       @MTTDUM.i: Min extension of chip edge beyond MTTDUM must be <=2.5um
       L1001=NOT MTTDUM (SIZE chip_region BY -2.5)
       NOT INSIDE L1001 EXCL
}

MTTDUM.j1 {
       @MTTDUM.j1: Min area of MTTDUM must be >=9.0 um2
       L1001=AREA MTTDUM <9.0
       NOT INSIDE L1001 EXCL
}

MTTDUM.j2 {
       @MTTDUM.j2: Max area of MTTDUM must be <=600um2
       L1001=AREA MTTDUM >600
       NOT INSIDE L1001 EXCL
}

MTTDUM.j {
       @MTTDUM.j: Min clearance from DAx to DAxBLK(Dummy metal block)(overlap is not allowed) must be >=0.6
       L1001=EXT MTTDUM DTTBLK <0.6 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM DTTBLK
}

MTTDUM.x {
       @MTTDUM.x: Min clearance from MTTDUM to HVDMY(Overlap is not allowed) must be >=2.5um
       L1001=EXTERNAL MTTDUM HVDMY_drc <2.5 REGION SINGULAR ABUT<90 
       NOT INSIDE L1001 EXCL
       INTERACT MTTDUM HVDMY_drc
}

MTTDUM.s {
     @MTTDUM.s: MTTDUM only shape allowed are square or rectangular
     L1001=NOT RECTANGLE MTTDUM
     NOT INSIDE L1001 EXCL
}

#ENDIF //;Switch_thick
#ENDIF //;DISABLE_DUMMY

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//  (NG): N-Grade 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

NG.a {
    @NG.a: Minimum NG width must be >=0.9um
    L1001=INTERNAL NG_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NG.b {
    @NG.b: Min space between NG must be >= 0.9um
    L1001=EXTERNAL NG_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NG.c {
    @NG.c: Min overlap from NG to TO must be >= 0.8um
    L1001=INTERNAL NG_drc (TO_drc NOT 12v_gate_to) <0.8 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NG.d {
    @NG.d: Min extension from NG beyond TO must be >= 0.3um
    L1001=ENCLOSURE TO_drc NG_drc <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (TU) :mini_locos area
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

TU.a {
    @TU.a: Minimum TU width must be >=0.35um
    L1001=INTERNAL TU_drc <0.35 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

TU.b {
    @TU.b: Min space between TU must be >= 0.35um
    L1001=(EXTERNAL TU_drc <0.35 REGION SINGULAR ABUT<90) NOT INTERACT 18v_gate_to
    NOT INSIDE L1001 EXCL
}

TU.c {
    @TU.c: Min overlap from TU to TO must be >= 1.27um
    L1001=INTERNAL TU_drc TO_drc <1.27 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

TU.d {
    @TU.d: Min extension from TU beyond TO must be >= 1.0um
    L1001=(ENCLOSURE TO_drc TU_drc <1.0 REGION SINGULAR ABUT<90) NOT INTERACT mp1218vt_gt
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (PB)  P-body
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

PB.a {
    @PB.a: Minimum PB width must be >=0.52um
    L1001=INTERNAL PB_drc <0.52 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PB.b {
    @PB.b: Min space between PB must be >= 0.52um
    L1001=EXTERNAL PB_drc <0.52 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

pb_c_check=PB_drc AND GT_drc
PB.c {
    @PB.c: Min and max overlap of PB and GT must be == 0.2um
    L1001=INTERNAL pb_c_check <0.2 REGION SINGULAR ABUT<90 
    L46495=SIZE pb_c_check BY -0.1
    L1002=SIZE L46495 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

PB.d {
    @PB.d: Min extension from PB beyond TO must be >= 0.5um
    L1001=ENCLOSURE TO_drc PB_drc <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (HN)  HV Nwell implant area
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

HN.a {
    @HN.a: Minimum HN width must be >=2.4um
    L1001=INTERNAL HN_drc <2.4 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

HN.b {
    @HN.b: Min space between HN with different potential must be >= 5.36um
    L1001=EXTERNAL HN_drc <5.36 REGION SINGULAR ABUT<90 SPACE
    NOT INSIDE L1001 EXCL
}

HN.c {
    @HN.c: Min space between HN and PTM within HV area must be >= 2.0um
    L1001=EXTERNAL HN_drc hv_ptm <2.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

HN.d {
    @HN.d: Min extension from HN to TB in HN must be >= 1.5um
    L1001=ENCLOSURE TB_drc HN_drc <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

HN.e {
    @HN.e: Min extension from HN to NG in HN must be >= 1.5um
    L1001=ENCLOSURE NG_drc HN_drc <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

12v_gate_to=18v_gate_to INTERACT HV_12V
gate_to_exc=(12v_gate_to OR 9v_gate_to) OR qvppb_nwell
HN.f {
    @HN.f: Min extension from HN to PB must be >= 3.3um
    L1001=(ENCLOSURE PB_drc HN_drc <3.3 REGION SINGULAR ABUT<90) NOT INTERACT gate_to_exc
    NOT INSIDE L1001 EXCL
}

HN.g {
    @HN.g: Min extension from HN to PM must be >= 3.0um
    L1001=ENCLOSURE PM_drc HN_drc <3.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

HN.h {
    @HN.h: Min extension from HN to N+TO must be >= 1.6um
    L1001=ENCLOSURE ndiff HN_drc <1.6 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (PTM)  Pwell dummy
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

PTM.a {
    @PTM.a: Minimum PTM width must be >=1.36um
    L1001=INTERNAL (PTM_drc NOT mp7vt_drain_ptm) <1.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PTM.b {
    @PTM.b: Min extension from PTM beyond TO must be >= 0.5um
    L1001=ENCLOSURE TO_drc PTM_drc <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PTM.c {
    @PTM.c: Min extension from HVDMY beyond PTM must be >= 2.0um
    L1001=ENCLOSURE PTM_drc HVDMY_drc <2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

ptm_d_exc1=(((zener_nwell_ring OR mp7vt_tb) OR mn10vt_nwell) OR mn10vta_nwell) OR mp10vt_tb
ptm_d_exc=ptm_d_exc1 OR qvpptm_nwell
PTM.d {
    @PTM.d: Min space from TB to PTM must be >= 1.5um
    L1001=EXT PTM_drc (TB_drc NOT ptm_d_exc) <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PTM.s1 {
    @PTM.s1: Min space between two PTM with same potential must be >= 0.8um
    L1001=EXTERNAL PTM_drc <0.8 REGION CONNECTED SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

PTM.s2 {
    @PTM.s2: Min space between two PTM with different potential must be >= 3.5um
    L1001=EXTERNAL PTM_drc <3.5 REGION NOT CONNECTED SINGULAR SPACE
    L1002=NOT INTERACT L1001 (OR mn10vt_to mn10vta_to)
    NOT INSIDE L1002 EXCL
}

PTM.e {
    @PTM.e: HVDMY and PTM overlap is forbidden
    L1001=CUT PTM_drc HVDMY_drc
    NOT INSIDE L1001 EXCL
}

PTM.f {
    @PTM.f: PTM not in HVDMY is forbidden
    L1001=OUTSIDE PTM_drc HVDMY_drc
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (PM)  P-Drift
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

PM.a {
    @PM.a: Minimum PM width must be >=1.2um
    L1001=INTERNAL PM_drc <1.2 REGION SINGULAR ABUT<90 PARA ONLY
    NOT INSIDE L1001 EXCL
}

PM.b {
    @PM.b: Min space between PM must be >= 1.2um
    L1001=EXTERNAL PM_drc <1.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PM.c {
    @PM.c: Min overlap from PM to TO must be >= 0.3um
    L1001=INTERNAL PM_drc TO_drc <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PM.d {
    @PM.d: Min extension from PM to TO must be >= 0.5um
    L1001=ENCLOSURE TO_drc PM_drc <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (NM)  N-Drift
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

NM.a {
    @Minimum NM width must be >=0.9um
    L1001=INTERNAL NM_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NM.b {
    @Min space between NM must be >= 0.9um
    L1001=EXTERNAL NM_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NM.c {
    @Min overlap from NM to TO must be >= 0.97um
    L1001=INTERNAL NM_drc TO_drc <0.97 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NM.d {
    @Min extension from NM to TO must be >= 0.3um
    L1001=ENCLOSURE TO_drc NM_drc <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (NK)  N-Sinker
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

NK.a {
    @Minimum NK width must be >=0.9um
    L1001=INTERNAL NK_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NK.b {
    @Min space between NK must be >= 0.9um
    L1001=EXTERNAL NK_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NK.c {
    @Min overlap from NK to TO must be >= 0.97um
    L1001=INTERNAL NK_drc TO_drc <0.97 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

NK.d {
    @Min extension from NK to TO must be >= 0.3um
    L1001=ENCLOSURE TO_drc NK_drc <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (PK)  P-Sinker
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

PK.a {
    @PK.a: Minimum PK width must be >=1.2um
    L1001=INTERNAL PK_drc <1.2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

PK.b {
    @PK.b: Min space between PK must be >= 1.2um
    L1001=EXTERNAL PK_drc <1.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PK.c {
    @PK.c: Min overlap from PK to TO must be >= 0.3um
    L1001=INTERNAL PK_drc TO_drc <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

PK.d {
    @PK.d: Min extension from PK to TO must be >= 0.5um
    L1001=ENCLOSURE TO_drc PK_drc <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         (ZP)  P-Sinker
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

ZP.a {
    @ZP.a: Minimum ZP width must be >=0.9um
    L1001=INTERNAL ZP_drc <0.9 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

ZP.b {
    @ZP.b: Min ZP to ZP space must be >= 0.9um
    L1001=EXTERNAL ZP_drc <0.9 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

ZP.c {
    @ZP.c: Min ZP overlap TO must be >= 0.3um
    L1001=INTERNAL ZP_drc TO_drc <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

ZP.d {
    @ZP.d: Min extension from ZP beyond TO must be >= 0.5um
    L1001=ENCLOSURE TO_drc ZP_drc <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn7vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

N1001=HOLES GT_drc INNER
gt_ring=GT_drc TOUCH N1001
N1002=(gt_ring AND HVDMY_drc) AND HN_drc
gt_nld1=N1002 AND (HOLES PTM_drc INNER)
gt_nld=gt_nld1 INTERACT hvmos_mark

ptm_hole=HOLES PTM_drc INNER
hn_tb=HN_drc ENCLOSE TB_drc

7v_gt1=(gt_nld INTERACT HV_7V) INTERACT PB_drc
7v_gt2=7v_gt1 NOT INTERACT TB_drc
7v_gt=(7v_gt2 NOT INTERACT PTM_drc) NOT INTERACT DN_drc
7v_gate_to=TO_drc CUT 7v_gt

7v_pb=PB_drc INTERACT 7v_gt
7v_length=7v_gt AND 7v_pb
MN7VT.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL 7v_length <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 7v_length BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

7v_width=(7v_gt NOT INSIDE EXCL) INSIDE EDGE (7v_gate_to NOT INSIDE EXCL)
MN7VT.W {
    @Channel width must be >= 3.0um <=200um
    LENGTH 7v_width < 3.0
    LENGTH 7v_width > 200.0
}

7v_l1_check=HOLES 7v_gt INNER
MN7VT.l1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 0.52um
    L1001=INTERNAL 7v_l1_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE 7v_l1_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

7v_l2_check=7v_gate_to AND 7v_gt
MN7VT.l2 {
    @Min and max GT width in the length direction must be == 0.7um
    L1001=INTERNAL 7v_l2_check <0.7 REGION SINGULAR ABUT<90 
    L46475=SIZE 7v_l2_check BY -0.35
    L1002=SIZE L46475 BY 0.35
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

7v_l3_check=7v_l1_check NOT 7v_gate_to
MN7VT.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE 7v_l3_check ==0.52 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

7v_pb_short=LENGTH 7v_pb < 1.0
7v_pb_short_block=EXPAND EDGE 7v_pb_short OUTSIDE BY 0.8
7v_pb_gt_con=7v_pb_short_block COIN EDGE 7v_gt
MN7VT.l4 {
    @Min and max extension from GT to PB in the width direction must be == 0.8um
    L1001=7v_pb_short_block NOT WITH EDGE 7v_pb_gt_con
    NOT INSIDE L1001 EXCL
}

7v_bulk_sp=SP_drc CUT 7v_gt
L5828=(HOLES 7v_gt INNER) NOT 7v_bulk_sp
7v_bulk_sp_space=(L5828 NOT INSIDE EXCL) COIN EDGE (7v_gt NOT INSIDE EXCL)
MN7VT.h1 {
    @Min and max space of SP (bulk terminal) must be == 0.75um
    LENGTH 7v_bulk_sp_space !=0.75
}

7v_h2_check=7v_bulk_sp AND 7v_gt
MN7VT.h2 {
    @Min and max overlap of SP and GT must be == 0.15um
    L1001=INTERNAL 7v_h2_check <0.15 REGION SINGULAR ABUT<90 
    L46475=SIZE 7v_h2_check BY -0.075
    L1002=SIZE L46475 BY 0.075
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN7VT.h3 has been checked by TO.note

7v_bulk_sp_mid=7v_bulk_sp NOT INTERACT (7v_bulk_sp NOT 7v_gate_to)
7v_bulk_sp_end=7v_bulk_sp NOT 7v_bulk_sp_mid
7v_h4_check=((HOLES 7v_gt INNER) AND 7v_gate_to) AND 7v_bulk_sp_end
7v_h4_check_edge=(7v_h4_check NOT INSIDE EXCL) COIN EDGE (7v_gt NOT INSIDE EXCL)
MN7VT.h4 {
    @Min and Max overlap of SP and TO in the width end region must be == 0.5um 
    LENGTH 7v_h4_check_edge !=0.5
}

MN7VT.h5 {
    @Min and max width of SP (bulk terminal) must be == 0.5um 
    L1001=INTERNAL 7v_bulk_sp_mid <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 7v_bulk_sp_mid BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

7v_hn=HN_drc ENCLOSE 7v_gate_to
MN7VT.m1 {
    @Min extension from HN to TO in the length direction must be >= 2.5um
    L1001=ENC 7v_gate_to 7v_hn <2.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN7VT.m2 has been checked by HN.c

S10033=7v_gate_to INSIDE EDGE 7v_gt
S10044=7v_gate_to TOUCH EDGE S10033
MN7VT.m3 {
    @Min extension from HN to TO in the width direction must be >= 5.5um
    L1001=ENC S10044 7v_hn <5.5 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN7VT.n1 has been checked by PTM.b

//;;;MN7VT.n2 has been checked by PTM.c

//;;;MN7VT.W1 no check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp7vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
N10025=(gt_ring AND HVDMY_drc) AND (HOLES PTM_drc INNER)
gt_pld=(N10025 NOT HN_drc) INTERACT hvmos_mark
mp7vt_gt1=gt_pld INTERACT HV_7V
mp7vt_gt2=(mp7vt_gt1 INTERACT PTM_drc) INTERACT TB_drc
mp7vt_gt=(mp7vt_gt2 INTERACT DN_drc) NOT INTERACT PB_drc
mp7vt_gate_to=TO_drc CUT mp7vt_gt

mp7vt_tb=TB_drc INTERACT mp7vt_gt
mp7vt_length=mp7vt_gt AND mp7vt_tb
MP7VT.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 0.5um
    L1001=INTERNAL mp7vt_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp7vt_width=(mp7vt_gt NOT INSIDE EXCL) INSIDE EDGE (mp7vt_gate_to NOT INSIDE EXCL)
MP7VT.W {
    @Min channel width must be >= 3.0um
    LENGTH mp7vt_width < 3.0
}

mp7vt_drain_ptm=PTM_drc CUT mp7vt_gt
mp7vt_a_check=(HOLES mp7vt_tb INNER) NOT mp7vt_drain_ptm
MP7VT.a {
    @Min and max space from TB to PTM in the length direction must be == 0.3um
    L1001=INTERNAL mp7vt_a_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp7vt_a_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp7vt_b_check=mp7vt_drain_ptm AND mp7vt_gt
MP7VT.b {
    @Min and max overlap of GT and PTM must be == 0.3um
    L1001=INTERNAL mp7vt_b_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp7vt_b_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp7vt_c_check=HOLES mp7vt_gt INNER
MP7VT.c {
    @Min and max space from GT to GT in the length direction must be == 0.52um
    L1001=INTERNAL mp7vt_c_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE mp7vt_c_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp7vt_bulk_to=ndiff INSIDE mp7vt_tb
MP7VT.d {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp7vt_gate_to mp7vt_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

MP7VT.e {
    @Min extension from TB to bulk TO must be >= 2.0um
    L1001=(ENC mp7vt_bulk_to mp7vt_tb <2.0 REGION SINGULAR ABUT<90) NOT INSIDE DN_drc
    NOT INSIDE L1001 EXCL
}

//;;; MP7VT.f has been checked by PTM.b

mp7vt_ptm_ring=PTM_drc TOUCH (ptm_hole ENCLOSE mp7vt_gt)
MP7VT.g {
    @Min space from TB to PTM iso ring must be >= 0.8um
    L1001=EXT mp7vt_ptm_ring mp7vt_tb <0.8 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mp7vt_dn=DN_drc ENCLOSE mp7vt_gt
mp7vt_h_check=mp7vt_tb NOT mp7vt_dn
MP7VT.h {
    @Min and max extension from TB to DN must be == 1.5um
    L1001=INTERNAL mp7vt_h_check <1.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mp7vt_h_check BY -0.75
    L1002=SIZE L46475 BY 0.75
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; MP7VT.i has been checked by PTM.c

mp7vt_tb_hole=HOLES mp7vt_tb INNER
L58548=mp7vt_tb_hole INSIDE EDGE mp7vt_gate_to
mp7vt_tb_check_edge=mp7vt_tb_hole NOT TOUCH EDGE L58548
MP7VT.n1 {
    @Min clearance from TB to bulk TO in the width direction must be >= 1.3um
    L1001=EXT mp7vt_tb_check_edge mp7vt_bulk_to <1.3 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

mp7vt_tb_hole_exp=EXPAND EDGE mp7vt_tb_check_edge OUTSIDE BY 0.5
mp7vt_tb_gt_con=mp7vt_tb_hole_exp COIN EDGE mp7vt_gt
MP7VT.n2 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=mp7vt_tb_hole_exp NOT WITH EDGE mp7vt_tb_gt_con
    NOT INSIDE L1001 EXCL
}

mp7vt_n3_check=mp7vt_c_check NOT mp7vt_gate_to
MP7VT.n3 {
    @Min and max space from GT to TO in the width direction must be == 0.35um
    L1001=NOT RECTANGLE mp7vt_n3_check ==0.52 BY ==0.35 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn9vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

9v_gt1=(gt_nld INTERACT HV_9V) INTERACT PB_drc
9v_gt2=9v_gt1 INTERACT TB_drc
9v_gt=(9v_gt2 NOT INTERACT SI_drc) NOT INTERACT PM_drc
9v_gate_to=TO_drc CUT 9v_gt

9v_pb=PB_drc INTERACT 9v_gt
9v_length=9v_gt AND 9v_pb
MN9VT.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL 9v_length <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 9v_length BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

9v_width=(9v_gt NOT INSIDE EXCL) INSIDE EDGE (9v_gate_to NOT INSIDE EXCL)
MN9VT.W {
    @Channel width must be >= 3.0um <=200um
    LENGTH 9v_width < 3.0
    LENGTH 9v_width > 200.0
}

9v_l1_check=HOLES 9v_gt INNER
MN9VT.l1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 0.52um
    L1001=INTERNAL 9v_l1_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE 9v_l1_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

9v_l2_check=9v_gate_to AND 9v_gt
MN9VT.l2 {
    @Min and max GT width in the length direction must be == 0.9um
    L1001=INTERNAL 9v_l2_check <0.9 REGION SINGULAR ABUT<90 
    L46475=SIZE 9v_l2_check BY -0.45
    L1002=SIZE L46475 BY 0.45
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

9v_l3_check=9v_l1_check NOT 9v_gate_to
MN9VT.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE 9v_l3_check ==0.52 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

9v_pb_short=LENGTH 9v_pb < 1.0
9v_pb_short_block=EXPAND EDGE 9v_pb_short OUTSIDE BY 0.8
9v_pb_gt_con=9v_pb_short_block COIN EDGE 9v_gt
MN9VT.l4 {
    @Min and max extension from GT to PB in the width direction must be == 0.8um
    L1001=9v_pb_short_block NOT WITH EDGE 9v_pb_gt_con
    NOT INSIDE L1001 EXCL
}

9v_nwell=TB_drc CUT 9v_gt
9v_v_check=9v_nwell AND 9v_gt
MN9VT.v {
    @Min and max overlap from TB to GT must be == 0.2um
    L1001=INTERNAL 9v_v_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 9v_v_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MN9VT.b1 {
    @Min clearance from TB to TO must be >= 0.3um
    L1001=ENC 9v_gate_to 9v_nwell <0.3 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;MN9VT.w2 has been checked by W1.e

9v_bulk_sp=SP_drc CUT 9v_gt
L582=(HOLES 9v_gt INNER) NOT 9v_bulk_sp
9v_bulk_sp_space=(L582 NOT INSIDE EXCL) COIN EDGE (9v_gt NOT INSIDE EXCL)
MN9VT.h1 {
    @Min and max space of SP (bulk terminal) must be == 0.75um
    LENGTH 9v_bulk_sp_space !=0.75
}

9v_h2_check=9v_bulk_sp AND 9v_gt
MN9VT.h2 {
    @Min and max overlap of SP and GT must be == 0.15um
    L1001=INTERNAL 9v_h2_check <0.15 REGION SINGULAR ABUT<90 
    L46475=SIZE 9v_h2_check BY -0.075
    L1002=SIZE L46475 BY 0.075
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN9VT.h3 has been checked by TO.note
9v_bulk_sp_mid=9v_bulk_sp NOT INTERACT (9v_bulk_sp NOT 9v_gate_to)
9v_bulk_sp_end=9v_bulk_sp NOT 9v_bulk_sp_mid
9v_h4_check=((HOLES 9v_gt INNER) AND 9v_gate_to) AND 9v_bulk_sp_end
9v_h4_check_edge=(9v_h4_check NOT INSIDE EXCL) COIN EDGE (9v_gt NOT INSIDE EXCL)
MN9VT.h4 {
    @Min and Max overlap of SP and TO in the width end region must be == 0.5um 
    LENGTH 9v_h4_check_edge !=0.5
}

MN9VT.h5 {
    @Min and max width of SP (bulk terminal) must be == 0.5um 
    L1001=INTERNAL 9v_bulk_sp_mid <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 9v_bulk_sp_mid BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

9v_hn=HN_drc ENCLOSE 9v_gate_to
MN9VT.m1 {
    @Min extension from HN to TO in the length direction must be >= 1.5um
    L1001=ENC 9v_gate_to 9v_hn <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN9VT.m2 has been checked by HN.c

S10043=9v_gate_to INSIDE EDGE 9v_gt
S10056=9v_gate_to TOUCH EDGE S10043
MN9VT.m3 {
    @Min extension from HN to TO in the width direction must be >= 5.5um
    L1001=ENC S10056 9v_hn <5.5 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN9VT.n1 has been checked by PTM.b

//;;;MN9VT.n2 has been checked by PTM.c

//;;;MN9VT.W1 no check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp9vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
mp9vt_gt1=gt_nld INTERACT HV_9V
mp9vt_gt2=(mp9vt_gt1 INTERACT PM_drc) INTERACT TB_drc
mp9vt_gt=(mp9vt_gt2 INTERACT SI_drc) NOT INTERACT PB_drc
mp9vt_gate_to=TO_drc CUT mp9vt_gt

mp9vt_tb=TB_drc INTERACT mp9vt_gt
mp9vt_length=(mp9vt_gt AND mp9vt_gate_to) AND mp9vt_tb
MP9VT.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 0.5um
    L1001=INTERNAL mp9vt_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp9vt_width=(mp9vt_gt NOT INSIDE EXCL) INSIDE EDGE (mp9vt_gate_to NOT INSIDE EXCL)
MP9VT.W {
    @Min channel width must be >= 3.0um
    LENGTH mp9vt_width < 3.0
}

mp9vt_tb_hole=HOLES mp9vt_tb INNER
L20037=mp9vt_tb_hole INSIDE EDGE mp9vt_gate_to
L20019=mp9vt_tb_hole NOT TOUCH EDGE L20037
mp9vt_tb_hole_exp=EXPAND EDGE L20019 OUTSIDE BY 0.5
mp9vt_gt_tb_edge=mp9vt_tb_hole_exp COIN EDGE mp9vt_gt
MP9VT.l1 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=mp9vt_tb_hole_exp NOT WITH EDGE mp9vt_gt_tb_edge
    NOT INSIDE L1001 EXCL
}

mp9vt_pm=PM_drc INTERACT mp9vt_gt
MP9VT.a {
    @TB must cut PM
    L1001=mp9vt_tb_hole NOT mp9vt_pm
    L1002=mp9vt_pm NOT mp9vt_tb_hole
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp9vt_bulk_to=ndiff INSIDE mp9vt_tb
MP9VT.a1 {
    @Min extension from TB to bulk TO must be >= 0.18um
    L1001=ENC mp9vt_bulk_to mp9vt_tb <0.18 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MP9VT.v has no check

mp9vt_gt_hole=HOLES mp9vt_gt INNER
mp9vt_v1_block=mp9vt_gt_hole NOT mp9vt_gate_to
mp9vt_v1_edge1=mp9vt_v1_block COIN EDGE mp9vt_gate_to
mp9vt_v1_edge2=mp9vt_gt_hole NOT TOUCH EDGE (mp9vt_gt_hole INSIDE EDGE mp9vt_gate_to)
mp9vt_v1_check=((mp9vt_v1_block NOT INSIDE EXCL) NOT TOUCH EDGE mp9vt_v1_edge1) NOT TOUCH EDGE mp9vt_v1_edge2
MP9VT.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 0.5um
    LENGTH mp9vt_v1_check !=0.5
}

L20088=mp9vt_gt_hole INSIDE EDGE mp9vt_gate_to
L20077=mp9vt_gt_hole NOT TOUCH EDGE L20088
mp9vt_gt_hole_exp=EXPAND EDGE L20077 OUTSIDE BY 1.0
mp9vt_gt_pm_con=mp9vt_gt_hole_exp COIN EDGE mp9vt_pm
MP9VT.v2 {
    @Min and max overlap of PM and GT in the width direction must be == 1.0um
    L1001=mp9vt_gt_hole_exp NOT WITH EDGE mp9vt_gt_pm_con
    NOT INSIDE L1001 EXCL
}

mp9vt_sp=SP_drc CUT mp9vt_gt

mp9vt_c_check=(HOLES mp9vt_sp INNER) NOT mp9vt_gt
MP9VT.c {
    @Min and max space from SP to GT in the length direction must be == 0.4um
    L1001=INTERNAL mp9vt_c_check <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mp9vt_c_check BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp9vt_sab=SI_drc CUT mp9vt_sp
mp9vt_r1_check=mp9vt_sab AND mp9vt_gt
MP9VT.r1 {
    @Min and max overlap from SI to GT in the length direction must be == 0.2um
    L1001=INTERNAL mp9vt_r1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mp9vt_r1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MP9VT.w2 has been checked by SAB.d

mp9vt_r2_check=mp9vt_sab AND mp9vt_sp
MP9VT.r2 {
    @Min and max overlap from SI to SP in drain side must be == 0.12um
    L1001=INTERNAL mp9vt_r2_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mp9vt_r2_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MP9VT.t {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp9vt_gate_to mp9vt_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP9VT.m1 has been checked by HN.e

//;;; MP9VT.m2 has been checked by HN.c

L58577=mp9vt_pm INSIDE EDGE mp9vt_gate_to
mp9vt_pm_check_edge=mp9vt_pm NOT TOUCH EDGE L58577
MP9VT.m3 {
    @Min clearance from PM to bulk TO in the width direction must be >= 1.0um
    L1001=EXT mp9vt_pm_check_edge mp9vt_bulk_to <1.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP9VT.n1 has been checked by PTM.b

//;;; MP9VT.n2 has been checked by PTM.c

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn12vt/mn18vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

12_18_mark=HV_12V OR HV_18V
18v_gt1=(gt_nld INTERACT 12_18_mark) INTERACT PB_drc
18v_gt2=18v_gt1 INTERACT NG_drc
18v_gt=18v_gt2 INTERACT TU_drc
18v_gate_to=TO_drc CUT 18v_gt

18v_pb=PB_drc INTERACT 18v_gt
18v_length=18v_gt AND 18v_pb
MN1218VT.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL 18v_length <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_length BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_width=(18v_gt NOT INSIDE EXCL) INSIDE EDGE (18v_gate_to NOT INSIDE EXCL)
MN1218VT.W {
    @Channel width must be >= 3.0um <=200um
    LENGTH 18v_width < 3.0
    LENGTH 18v_width > 200.0
}

18v_l1_check=HOLES 18v_gt INNER
MN1218VT.l1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 0.52um
    L1001=INTERNAL 18v_l1_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_l1_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_tu=TU_drc INTERACT 18v_gt
18v_l2_check=(18v_gate_to AND 18v_gt) NOT 18v_tu
MN1218VT.l2 {
    @Min and max extension from GT to TU in the length direction must be == 0.5um
    L1001=INTERNAL 18v_l2_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_l2_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_l3_check=18v_l1_check NOT 18v_gate_to
MN1218VT.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE 18v_l3_check ==0.52 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

18v_pb_short=LENGTH 18v_pb < 1.0
18v_pb_short_block=EXPAND EDGE 18v_pb_short OUTSIDE BY 1.8
18v_pb_gt_con=18v_pb_short_block COIN EDGE 18v_gt
MN1218VT.l4 {
    @Min and max extension from GT to PB in the width direction must be == 1.8um
    L1001=18v_pb_short_block NOT WITH EDGE 18v_pb_gt_con
    NOT INSIDE L1001 EXCL
}

18v_ng=NG_drc INTERACT 18v_gt
12v_b1_check=(18v_ng AND 18v_gt) INTERACT HV_12V
MN12VT.b1 {
    @Min and max overlap of NG and GT must be == 0.3um
    L1001=INTERNAL 12v_b1_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE 12v_b1_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_b1_check=(18v_ng AND 18v_gt) INTERACT HV_18V
MN18VT.b1 {
    @Min and max overlap of NG and GT must be == 0.6um
    L1001=INTERNAL 18v_b1_check <0.6 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_b1_check BY -0.3
    L1002=SIZE L46475 BY 0.3
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_b2_check=18v_ng NOT 18v_gate_to
MN1218VT.b2 {
    @Min and max extension from NG to TO must be == 0.3um
    L1001=INTERNAL 18v_b2_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_b2_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

12v_r1_check=(18v_tu AND 18v_gt) INTERACT HV_12V
MN12VT.r1 {
    @Min and max overlap of TU and GT must be == 0.6um
    L1001=INTERNAL 12v_r1_check <0.6 REGION SINGULAR ABUT<90 
    L46475=SIZE 12v_r1_check BY -0.3
    L1002=SIZE L46475 BY 0.3
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_r1_check=(18v_tu AND 18v_gt) INTERACT HV_18V
MN18VT.r1 {
    @Min and max overlap of TU and GT must be == 0.9um
    L1001=INTERNAL 18v_r1_check <0.9 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_r1_check BY -0.45
    L1002=SIZE L46475 BY 0.45
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_r2_check=18v_tu NOT 18v_gt
MN1218VT.r2 {
    @Min and max clearance from TU to GT must be == 0.25um
    L1001=INTERNAL 18v_r2_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_r2_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

18v_bulk_sp=SP_drc CUT 18v_gt
L58288=(HOLES 18v_gt INNER) NOT 18v_bulk_sp
18v_bulk_sp_space=(L58288 NOT INSIDE EXCL) COIN EDGE (18v_gt NOT INSIDE EXCL)
MN1218VT.h1 {
    @Min and max space of SP (bulk terminal) must be == 0.75um
    LENGTH 18v_bulk_sp_space !=0.75
}

18v_h2_check=18v_bulk_sp AND 18v_gt
MN1218VT.h2 {
    @Min and max overlap of SP and GT must be == 0.25um
    L1001=INTERNAL 18v_h2_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_h2_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN1218VT.h3 has been checked by TO.note

18v_bulk_sp_mid=18v_bulk_sp NOT INTERACT (18v_bulk_sp NOT 18v_gate_to)
18v_bulk_sp_end=18v_bulk_sp NOT 18v_bulk_sp_mid
18v_h4_check=((HOLES 18v_gt INNER) AND 18v_gate_to) AND 18v_bulk_sp_end
18v_h4_check_edge=(18v_h4_check NOT INSIDE EXCL) COIN EDGE (18v_gt NOT INSIDE EXCL)
MN1218VT.h4 {
    @Min and Max overlap of SP and TO in the width end region must be == 0.5um 
    LENGTH 18v_h4_check_edge !=0.5
}

MN1218VT.h5 {
    @Min and max width of SP (bulk terminal) must be == 0.5um 
    L1001=INTERNAL 18v_bulk_sp_mid <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 18v_bulk_sp_mid BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN1218VT.m1 has been checked by HN.e

//;;;MN1218VT.m2 has been checked by HN.c

18v_hn=HN_drc ENCLOSE 18v_gate_to
S1003=18v_gate_to INSIDE EDGE 18v_gt
S1004=18v_gate_to TOUCH EDGE S1003
MN1218VT.m3 {
    @Min extension from HN to TO in the width direction must be >= 5.5um
    L1001=ENC S1004 18v_hn <5.5 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN1218VT.n1 has been checked by PTM.b

//;;;MN1218VT.n2 has been checked by PTM.c

//;;;MN1218VT.w1 has been checked by W1.f.1

//;;;MN1218VT.W1 no check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp12vt/mp18vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mp1218vt_gt1=((gt_nld AND TO_drc) INTERACT 12_18_mark) INTERACT pgate
mp1218vt_gt2=(mp1218vt_gt1 INTERACT PM_drc) INTERACT TU_drc
mp1218vt_gt3=(mp1218vt_gt2 INTERACT TB_drc) NOT INTERACT PB_drc
mp1218vt_gt=gt_nld ENCLOSE mp1218vt_gt3
mp1218vt_gate_to=TO_drc CUT mp1218vt_gt

mp1218vt_tb=TB_drc INTERACT mp1218vt_gt
mp1218vt_length=(mp1218vt_gt AND mp1218vt_gate_to) AND mp1218vt_tb
MP1218VT.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 0.5um
    L1001=INTERNAL mp1218vt_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp1218vt_width=(mp1218vt_gt NOT INSIDE EXCL) INSIDE EDGE (mp1218vt_gate_to NOT INSIDE EXCL)
MP1218VT.W {
    @Min channel width must be >= 3.0um
    LENGTH mp1218vt_width < 3.0
}

mp1218vt_tb_hole=HOLES mp1218vt_tb INNER
L20005=mp1218vt_tb_hole INSIDE EDGE mp1218vt_gate_to
L20015=mp1218vt_tb_hole NOT TOUCH EDGE L20005
mp1218vt_tb_hole_exp=EXPAND EDGE L20015 OUTSIDE BY 0.5
mp1218vt_gt_tb_edge=mp1218vt_tb_hole_exp COIN EDGE mp1218vt_gt
MP1218VT.l1 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=mp1218vt_tb_hole_exp NOT WITH EDGE mp1218vt_gt_tb_edge
    NOT INSIDE L1001 EXCL
}

mp1218vt_pm=PM_drc INTERACT mp1218vt_gt
MP1218VT.a {
    @TB must cut PM
    L1001=mp1218vt_tb_hole NOT mp1218vt_pm
    L1002=mp1218vt_pm NOT mp1218vt_tb_hole
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp1218vt_bulk_to=ndiff INSIDE mp1218vt_tb
MP1218VT.a1 {
    @Min extension from TB to bulk TO must be >= 0.18um
    L1001=ENC mp1218vt_bulk_to mp1218vt_tb <0.18 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mp1218vt_tu=TU_drc INTERACT mp1218vt_gt
mp1218vt_v_check=((mp1218vt_pm NOT mp1218vt_tu) AND mp1218vt_gate_to) NOT INTERACT SI_drc
MP1218VT.v {
    @Min and max extension from PM to TU must be == 0.3um
    L1001=INTERNAL mp1218vt_v_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp1218vt_v_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp1218vt_gt_hole=HOLES mp1218vt_gt INNER
mp12vt_v1_block=(HOLES (mp1218vt_gt INTERACT HV_12V) INNER) NOT mp1218vt_gate_to
mp12vt_v1_edge1=mp12vt_v1_block COIN EDGE mp1218vt_gate_to
mp12vt_v1_edge2=mp1218vt_gt_hole NOT TOUCH EDGE (mp1218vt_gt_hole INSIDE EDGE mp1218vt_gate_to)
mp12vt_v1_check=((mp12vt_v1_block NOT INSIDE EXCL) NOT TOUCH EDGE mp12vt_v1_edge1) NOT TOUCH EDGE mp12vt_v1_edge2
MP12VT.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 0.5um
    LENGTH mp12vt_v1_check !=0.5
}

mp18vt_v1_block=(HOLES (mp1218vt_gt INTERACT HV_18V) INNER) NOT mp1218vt_gate_to
mp18vt_v1_edge1=mp18vt_v1_block COIN EDGE mp1218vt_gate_to
mp18vt_v1_edge2=mp1218vt_gt_hole NOT TOUCH EDGE (mp1218vt_gt_hole INSIDE EDGE mp1218vt_gate_to)
mp18vt_v1_check=((mp18vt_v1_block NOT INSIDE EXCL) NOT TOUCH EDGE mp18vt_v1_edge1) NOT TOUCH EDGE mp18vt_v1_edge2
MP18VT.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 0.8um
    LENGTH mp18vt_v1_check !=0.8   
}

L20085=mp1218vt_gt_hole INSIDE EDGE mp1218vt_gate_to
L20076=mp1218vt_gt_hole NOT TOUCH EDGE L20085
mp1218vt_gt_hole_exp=EXPAND EDGE L20076 OUTSIDE BY 1.8
mp1218vt_gt_pm_con=mp1218vt_gt_hole_exp COIN EDGE mp1218vt_pm
MP1218VT.v2 {
    @Min and max overlap of PM and GT in the width direction must be == 1.8um
    L1001=mp1218vt_gt_hole_exp NOT WITH EDGE mp1218vt_gt_pm_con
    NOT INSIDE L1001 EXCL
}

mp12vt_b_check1=mp1218vt_gt AND mp1218vt_tu
mp12vt_b_check=mp12vt_b_check1 INTERACT HV_12V
MP12VT.b {
    @Min and max overlap of GT and TU must be == 0.3um
    L1001=INTERNAL mp12vt_b_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp12vt_b_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp18vt_b_check=mp12vt_b_check1 INTERACT HV_18V
MP18VT.b {
    @Min and max overlap of GT and TU must be == 0.4um
    L1001=INTERNAL mp18vt_b_check <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mp18vt_b_check BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp1218vt_b1_check=mp1218vt_tu NOT mp1218vt_gt
MP1218VT.b1 {
    @Min and max extension from TU to GT must be == 0.25um
    L1001=INTERNAL mp1218vt_b1_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE mp1218vt_b1_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp12vt_sp=SP_drc CUT (mp1218vt_gt INTERACT HV_12V)
mp12vt_c_check=(HOLES mp12vt_sp INNER) NOT mp1218vt_gt
MP12VT.c {
    @Min and max space from SP to GT in the length direction must be == 0.4um
    L1001=INTERNAL mp12vt_c_check <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mp12vt_c_check BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp18vt_sp=SP_drc CUT (mp1218vt_gt INTERACT HV_18V)
mp18vt_c_check=(HOLES mp18vt_sp INNER) NOT mp1218vt_gt
MP18VT.c {
    @Min and max space from SP to GT in the length direction must be == 0.6um
    L1001=INTERNAL mp18vt_c_check <0.6 REGION SINGULAR ABUT<90 
    L46475=SIZE mp18vt_c_check BY -0.3
    L1002=SIZE L46475 BY 0.3
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp1218vt_sab=SI_drc CUT (mp12vt_sp OR mp18vt_sp)
mp18vt_r1_check=mp1218vt_sab AND mp1218vt_gt
MP1218VT.r1 {
    @Min and max overlap from SI to GT in the length direction must be == 0.2um
    L1001=INTERNAL mp18vt_r1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mp18vt_r1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MP1218VT.w2 has been checked by SAB.d

mp18vt_r2_check=(mp1218vt_sab AND mp18vt_sp) OR (mp1218vt_sab AND mp12vt_sp)
MP1218VT.r2 {
    @Min and max overlap from SI to SP in drain side must be == 0.12um
    L1001=INTERNAL mp18vt_r2_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mp18vt_r2_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MP1218VT.t {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp1218vt_gate_to mp1218vt_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP1218VT.m1 has been checked by HN.e

//;;; MP1218VT.m2 has been checked by HN.c

//;;; MP1218VT.n1 has been checked by PTM.b

//;;; MP1218VT.n2 has been checked by PTM.c

L58542=mp1218vt_pm INSIDE EDGE mp1218vt_gate_to
mp1218vt_pm_check_edge=mp1218vt_pm NOT TOUCH EDGE L58542
MP1218VT.m3 {
    @Min clearance from PM to bulk TO in the width direction must be >= 1.0um
    L1001=EXT mp1218vt_pm_check_edge mp1218vt_bulk_to <1.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn23vta rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

23v_gt1=gt_nld INTERACT HV_23V
23v_gt2=23v_gt1 INTERACT PM_drc
23v_gt3=23v_gt2 INTERACT hn_tb
23v_gt=23v_gt3 INTERACT PB_drc
23v_gate_to=TO_drc CUT 23v_gt

23v_pb=PB_drc INTERACT 23v_gt
23v_a_check=23v_pb AND 23v_gt
MN23VTA.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL 23v_a_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_a_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_width=(23v_gt NOT INSIDE EXCL) INSIDE EDGE (23v_gate_to NOT INSIDE EXCL)
MN23VTA.W {
    @Min channel width must be >= 3.0um
    LENGTH 23v_width < 3.0
}

23v_pb_short1=23v_pb INSIDE EDGE 23v_gate_to
23v_pb_short2=23v_pb NOT TOUCH EDGE 23v_pb_short1
23v_pb_short=NOT ANGLE 23v_pb_short2 >0 <90
23v_pb_short_block=EXPAND EDGE 23v_pb_short OUTSIDE BY 1.8
23v_pb_gt_con=23v_pb_short_block COIN EDGE 23v_gt
MN23VTA.l1 {
    @Min and max extension from GT to PB in the width direction must be == 1.8um
    L1001=23v_pb_short_block NOT WITH EDGE 23v_pb_gt_con
    NOT INSIDE L1001 EXCL
}

23v_l2_check=23v_gate_to AND 23v_gt
MN23VTA.l2 {
    @Min and max GT overlap TO in the length direction must be == 1.2um
    L1001=INTERNAL 23v_l2_check <1.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_l2_check BY -0.6
    L1002=SIZE L46475 BY 0.6
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_gt_hole=HOLES 23v_gt INNER
23v_gt_short1=23v_gt_hole INSIDE EDGE 23v_gate_to
23v_gt_short2=23v_gt_hole NOT TOUCH EDGE 23v_gt_short1
23v_gt_short=NOT ANGLE 23v_gt_short2 >0 <90
23v_gate_to_outside=23v_gate_to OUTSIDE EDGE 23v_gt
23v_gate_to_outside_block=EXPAND EDGE 23v_gate_to_outside OUTSIDE BY 0.5
MN23VTA.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=23v_gate_to_outside_block NOT WITH EDGE 23v_gt_short
    NOT INSIDE L1001 EXCL
}

23vnmos_pm=PM_drc INTERACT 23v_gt
23v_d_check=23vnmos_pm AND 23v_pb
MN23VTA.e1 {
    @Min and max overlap from PM to PB must be == 0.5um
    L1001=INTERNAL 23v_d_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_d_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_pb_pm_short_block=EXPAND EDGE 23v_pb_short OUTSIDE BY 1.0
23v_pb_pm_con=23v_pb_pm_short_block COIN EDGE 23vnmos_pm
MN23VTA.e2 {
    @Min and max clearance from PM to PB in the width direction must be == 1.0um
    L1001=23v_pb_pm_short_block NOT WITH EDGE 23v_pb_pm_con
    NOT INSIDE L1001 EXCL
}

23v_pb_expand_5=EXPAND EDGE 23v_pb_short OUTSIDE BY 5.0
23vnmos_pm_cut=(23vnmos_pm NOT 23v_pb_expand_5) NOT 23v_pb
23vnmos_pm_cut_check=INT 23vnmos_pm_cut <5.0 PARA ONLY OPPOSITE REGION 
MN23VTA.e3 {
    @Min and max clearance from PM to PB in the length direction must be == 0.5um
    L1001=INTERNAL 23vnmos_pm_cut_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 23vnmos_pm_cut_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_hn=HN_drc ENCLOSE 23v_gt
23v_tb=TB_drc INSIDE 23v_hn
23v_drain_to=TO_drc INSIDE 23v_tb
23v_gate_to_long1=23v_gate_to OUTSIDE EDGE 23v_gt
23v_gate_to_long=23v_gate_to NOT TOUCH EDGE 23v_gate_to_long1
23v_gate_to_long_block=EXPAND EDGE 23v_gate_to_long OUTSIDE BY 2.0
23v_sou_dra_con=23v_gate_to_long_block COIN EDGE 23v_drain_to
MN23VTA.c {
    @Min and max drift width (source TO space to drain TO) must be == 2.0um
    L1001=23v_gate_to_long_block NOT WITH EDGE 23v_sou_dra_con
    L1002=EXT 23v_gate_to 23v_drain_to <2.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_gate_to_width_block=EXPAND EDGE 23v_gate_to_long OUTSIDE BY 1.0
23v_gt_to_con=23v_gate_to_width_block COIN EDGE 23v_gt
MN23VTA.b {
    @Min and max extension from GT to TO in the length direction must be == 1.0um
    L1001=23v_gate_to_width_block NOT WITH EDGE 23v_gt_to_con
    NOT INSIDE L1001 EXCL
}

23v_i_check=23v_tb NOT 23v_drain_to
MN23VTA.b1 {
    @Min and max extension from TB to drain TO must be == 0.3um
    L1001=INTERNAL 23v_i_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_i_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; MN23VTA.h3 has been checked by TO.note

MN23VTA.m1 {
    @Min extension from HN to TB in the length direction must be >= 1.5um
    L1001=ENC 23v_tb 23v_hn <1.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

23v_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE 23v_gt
23v_ptm=PTM_drc TOUCH 23v_ptm_hole
//;;; MN23VTA.m2 has been checked by HN.c

L4586=23v_gate_to OUTSIDE EDGE 23v_gt
23v_gate_short=23v_gate_to TOUCH EDGE L4586
MN23VTA.m3 {
    @Min extension from HN to TO in the width direction must be >= 6.7um
    L1001=ENC 23v_gate_short 23v_hn <6.7 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;; MN23VTA.n1 has been checked by PTM.b

//;;; MN23VTA.n2 has been checked by PTM.c

MN23VTA.w2 {
    @Min and max GT space in channel length direction must be == 1.46um
    L1001=INTERNAL 23v_gt_hole <1.46 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_gt_hole BY -0.73
    L1002=SIZE L46475 BY 0.73
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn23vta2 rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mn23vta2_gt1=gt_nld INTERACT HV_23V
mn23vta2_gt2=mn23vta2_gt1 CUT PTM_drc
mn23vta2_gt3=mn23vta2_gt2 INTERACT hn_tb
mn23vta2_gt=mn23vta2_gt3 NOT INTERACT PB_drc
mn23vta2_gate_to=TO_drc CUT mn23vta2_gt

mn23vta2_gate_ptm=PTM_drc CUT mn23vta2_gate_to
mn23vta2_a_check=mn23vta2_gt AND mn23vta2_gate_ptm
MN23VTA2.L {
    @Min overlap of GT and PTM must be >= 0.6um
    L1001=INTERNAL mn23vta2_a_check <0.6 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

23v_ptm_short1=mn23vta2_gate_ptm INSIDE EDGE mn23vta2_gate_to
23v_ptm_short=mn23vta2_gate_ptm NOT TOUCH EDGE 23v_ptm_short1
23v_ptm_short_block=EXPAND EDGE 23v_ptm_short OUTSIDE BY 1.4
23v_ptm_gt_con=23v_ptm_short_block COIN EDGE mn23vta2_gt
MN23VTA2.l1 {
    @Min and max extension from GT to PTM in the width direction must be == 1.4um
    L1001=23v_ptm_short_block NOT WITH EDGE 23v_ptm_gt_con
    NOT INSIDE L1001 EXCL
}

mn23vta2_l2_check=mn23vta2_gate_to NOT mn23vta2_gate_ptm
MN23VTA2.l2 {
    @Min and max space from source PTM to TO edge in the length direction must be == 1.4um
    L1001=INTERNAL mn23vta2_l2_check <1.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mn23vta2_l2_check BY -0.7
    L1002=SIZE L46475 BY 0.7
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn23vta2_l3_check=(HOLES mn23vta2_gt INNER) NOT mn23vta2_gate_to
MN23VTA2.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=INTERNAL mn23vta2_l3_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn23vta2_l3_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn23vta2_hn=HN_drc ENCLOSE mn23vta2_gt
mn23vta2_tb=TB_drc INSIDE mn23vta2_hn
mn23vta2_drain_to=ndiff INSIDE mn23vta2_tb
mn23vta2_gate_to_long1=mn23vta2_gate_to OUTSIDE EDGE mn23vta2_gt
mn23vta2_gate_to_long=mn23vta2_gate_to NOT TOUCH EDGE mn23vta2_gate_to_long1
mn23vta2_gate_to_long_block=EXPAND EDGE mn23vta2_gate_to_long OUTSIDE BY 1.5
mn23vta2_sou_dra_con=mn23vta2_gate_to_long_block COIN EDGE mn23vta2_drain_to
MN23VTA2.c {
    @Min and max space from source TO to drain TO must be == 1.5um
    L1001=mn23vta2_gate_to_long_block NOT WITH EDGE mn23vta2_sou_dra_con
    L1002=EXT mn23vta2_gate_to mn23vta2_drain_to <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn23vta2_sab=SI_drc INSIDE (HOLES mn23vta2_gt INNER)
mn23vta2_sn=SN_drc CUT mn23vta2_gt
mn23vta2_sp1=SP_drc INSIDE (HOLES mn23vta2_gt INNER)
mn23vta2_c1_check=(mn23vta2_sab AND mn23vta2_sn) OR (mn23vta2_sab AND mn23vta2_sp1)
MN23VTA2.c1 {
    @Min and max overlap from SN/SP to SI must be == 0.12um
    L1001=INTERNAL mn23vta2_c1_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mn23vta2_c1_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; MN23VTA2.c2 has been checked by SAB.f

mn23vta2_gt_hole1=(HOLES mn23vta2_gt INNER) ENCLOSE SI_drc
mn23vta2_source_cont=(W1_drc AND mn23vta2_gt_hole1) AND SN_drc
mn23vta2_bulk_cont=(W1_drc AND mn23vta2_gt_hole1) AND SP_drc
mn23vta2_cont_space=EXT mn23vta2_source_cont mn23vta2_bulk_cont ==1.04 OPPOSITE REGION PARA ONLY

/*
MN23VTA2.c3 {
    @Min and max space from source W1 to bulk W1 must be == 1.04um
    L1001=mn23vta2_source_cont NOT INTERACT mn23vta2_cont_space
    NOT INSIDE L1001 EXCL
}
*/

23v2_h3_check1=(mn23vta2_gt_hole1 NOT mn23vta2_sn) NOT mn23vta2_sp1
MN23VTA2.h3.1 {
    @Min and max space from source SN to bulk SP must be == 0.5um
    L1001=INTERNAL 23v2_h3_check1 <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v2_h3_check1 BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn23vta2_sn_holes=(HOLES mn23vta2_sn INNER) NOT INTERACT SI_drc
mn23vta2_sp2=INSIDE SP_drc mn23vta2_sn_holes
MN23VTA2.h3.2 {
    @Min and max space from source SN to bulk SP must be == 0um
    L1001=mn23vta2_sn_holes NOT mn23vta2_sp2
    L1002=mn23vta2_sp2 NOT mn23vta2_sn_holes
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn23vta2_gate_to_long_exp=EXPAND EDGE mn23vta2_gate_to_long OUTSIDE BY 0.75
mn23vta2_gt_enc_to=mn23vta2_gate_to_long_exp COIN EDGE mn23vta2_gt
MN23VTA2.b {
    @Min and max extension from GT to TO in the length direction must be == 0.75um
    L1001=mn23vta2_gate_to_long_exp NOT WITH EDGE mn23vta2_gt_enc_to
    NOT INSIDE L1001 EXCL
}

mn23vta2_source_long_exp=EXPAND EDGE mn23vta2_gate_to_long OUTSIDE BY 1.2
mn23vta2_tb_ext_to=mn23vta2_source_long_exp COIN EDGE mn23vta2_tb
MN23VTA2.v {
    @Min and max space from TB to source TO must be == 1.2um
    L1001=mn23vta2_source_long_exp NOT WITH EDGE mn23vta2_tb_ext_to
    NOT INSIDE L1001 EXCL
}

mn23vta2_b1_check=mn23vta2_tb NOT mn23vta2_drain_to
MN23VTA2.b1 {
    @Min and max extension from TB to drain TO must be == 0.3um
    L1001=INTERNAL mn23vta2_b1_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn23vta2_b1_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; MN23VTA2.m1 has been checked by HN.d

//;;; MN23VTA2.m2 has been checked by HN.c

L45886=mn23vta2_gate_to OUTSIDE EDGE mn23vta2_gt
mn23vta2_gate_short=mn23vta2_gate_to TOUCH EDGE L45886
MN23VTA2.m3 {
    @Min extension from HN to TO in the width direction must be >= 6.5um
    L1001=ENC mn23vta2_gate_short mn23vta2_hn <6.5 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MN23VTA2.n1 has been checked by PTM.b

//;;; MN23VTA2.n2 has been checked by PTM.c

MN23VTA2.w2.1 {
    @Min and max GT space in the length direction must be == 3.04um
    L1001=INTERNAL mn23vta2_gt_hole1 <3.04 REGION SINGULAR ABUT<90 
    L46475=SIZE mn23vta2_gt_hole1 BY -1.52
    L1002=SIZE L46475 BY 1.52
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn23vta2_gt_hole2=(HOLES mn23vta2_gt INNER) NOT ENCLOSE SI_drc

MN23VTA2.w2.2 {
    @Min and max GT space in the length direction must be == 1.46um
    L1001=INTERNAL mn23vta2_gt_hole2 <1.46 REGION SINGULAR ABUT<90 
    L46475=SIZE mn23vta2_gt_hole2 BY -0.73
    L1002=SIZE L46475 BY 0.73
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp23vta rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

23v_pgt1=(gt_nld INTERACT HV_23V) INTERACT PM_drc
23v_gt_p=(23v_pgt1 NOT INTERACT PB_drc) NOT INTERACT PTM_drc
23v_gate_to_p=TO_drc CUT 23v_gt_p

23v_tb_p=TB_drc INTERACT 23v_gt_p
23v_length_p=(23v_gt_p AND 23v_gate_to_p) AND 23v_tb_p
MP23VTA.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 0.8um
    L1001=INTERNAL 23v_length_p <0.8 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

23v_width_p=(23v_gt_p NOT INSIDE EXCL) INSIDE EDGE (23v_gate_to_p NOT INSIDE EXCL)
MP23VTA.W {
    @Min channel width must be >= 3.0um
    LENGTH 23v_width_p < 3.0
}

23v_tb_hole=HOLES 23v_tb_p INNER
L2000=23v_tb_hole INSIDE EDGE 23v_gate_to_p
L2001=23v_tb_hole NOT TOUCH EDGE L2000
23v_tb_hole_exp=EXPAND EDGE L2001 OUTSIDE BY 0.5
23v_gt_tb_edge=23v_tb_hole_exp COIN EDGE 23v_gt_p
MP23VTA.l1 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=23v_tb_hole_exp NOT WITH EDGE 23v_gt_tb_edge
    NOT INSIDE L1001 EXCL
}

23v_pm=PM_drc INTERACT 23v_gt_p
MP23VTA.a {
    @Min and max space between TB and PM must be ==0
    L1001=23v_tb_hole NOT 23v_pm
    L1002=23v_pm NOT 23v_tb_hole
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_bulk_to=ndiff INSIDE 23v_tb_p
MP23VTA.a1 {
    @Min extension from TB to bulk TO must be >= 0.18um
    L1001=ENC 23v_bulk_to 23v_tb_p <0.18 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

23v_drain_to_p=TO_drc INSIDE (HOLES 23v_gt_p INNER)
L2002=23v_drain_to_p OR 23v_gate_to_p
L2003=SIZE L2002 BY 2.0 OVERUNDER
23v_to_space=(L2003 NOT L2002) INTERACT 23v_gt_p
23v_c_check_p=23v_to_space AND 23v_gt_p
MP23VTA.b {
    @Min and max extension from GT to TO in the length direction must be == 0.35um
    L1001=INTERNAL 23v_c_check_p <0.35 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_c_check_p BY -0.175
    L1002=SIZE L46475 BY 0.175
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_drain_to_p_long=LENGTH 23v_drain_to_p > 2.9
23v_drain_to_p_long_exp=EXPAND EDGE 23v_drain_to_p_long OUTSIDE BY 0.7
23v_drain_sou_p=23v_drain_to_p_long_exp COIN EDGE 23v_gate_to_p
MP23VTA.c {
    @Min and max drift width (source TO space to drain TO) must be == 0.7um
    L1001=EXT 23v_drain_to_p 23v_gate_to_p <0.7 REGION SINGULAR ABUT<90
    L1002=23v_drain_to_p_long_exp NOT WITH EDGE 23v_drain_sou_p
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL 
}

23v_d_check_p=23v_pm AND 23v_gate_to_p
MP23VTA.v {
    @Min and max overlap of PM and TO in the length direction must be == 0.8um
    L1001=INTERNAL 23v_d_check_p <0.8 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_d_check_p BY -0.4
    L1002=SIZE L46475 BY 0.4
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_e_check_p=(HOLES 23v_gt_p INNER) NOT 23v_drain_to_p
MP23VTA.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 0.35um
    L1001=INTERNAL 23v_e_check_p <0.35 REGION SINGULAR ABUT<90 
    L46475=SIZE 23v_e_check_p BY -0.175
    L1002=SIZE L46475 BY 0.175
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

23v_gt_hole_p=HOLES 23v_gt_p INNER
L2005=23v_gt_hole_p INSIDE EDGE 23v_to_space
L2006=23v_gt_hole_p NOT TOUCH EDGE L2005
23v_gt_hole_p_exp=EXPAND EDGE L2006 OUTSIDE BY 1.15
23v_gt_pm_con=23v_gt_hole_p_exp COIN EDGE 23v_pm
MP23VTA.v2 {
    @Min and max overlap of PM and GT in the width direction must be == 1.15um
    L1001=23v_gt_hole_p_exp NOT WITH EDGE 23v_gt_pm_con
    NOT INSIDE L1001 EXCL
}

23v_hn_p=HN_drc ENCLOSE 23v_gt_p
MP23VTA.m1 {
    @Min extension from HN to TB must be >= 1.5um
    L1001=ENC 23v_tb_p 23v_hn_p <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP23VTA.m2 has been checked by HN.c

L58962=23v_pm INSIDE EDGE 23v_gate_to_p
23v_pm_check_edge=23v_pm NOT TOUCH EDGE L58962
MP23VTA.m3 {
    @Min clearance from PM to bulk TO in the width direction must be >= 1.0um
    L1001=EXT 23v_pm_check_edge 23v_bulk_to <1.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP23VTA.n1 has been checked by PTM.b

//;;; MP23VTA.n2 has been checked by PTM.c

MP23VTA.t {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT 23v_gate_to_p 23v_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn35vta rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

35v_gt1=gt_nld INTERACT HV_35V
35v_gt2=35v_gt1 INTERACT PM_drc
35v_gt3=35v_gt2 NOT INTERACT TB_drc
mn35vta_gt=35v_gt3 INTERACT PB_drc
mn35vta_gate_to=TO_drc CUT mn35vta_gt

mn35vta_pb=PB_drc INTERACT mn35vta_gt
35v_a_check=mn35vta_pb AND mn35vta_gt
MN35VTA.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL 35v_a_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE 35v_a_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

35v_width=(mn35vta_gt NOT INSIDE EXCL) INSIDE EDGE (mn35vta_gate_to NOT INSIDE EXCL)
MN35VTA.W {
    @Min channel width must be >= 3.0um
    LENGTH 35v_width < 3.0
}

35v_pb_short1=mn35vta_pb INSIDE EDGE mn35vta_gate_to
35v_pb_short2=mn35vta_pb NOT TOUCH EDGE 35v_pb_short1
35v_pb_short=NOT ANGLE 35v_pb_short2 >0 <90
35v_pb_short_block=EXPAND EDGE 35v_pb_short OUTSIDE BY 1.8
35v_pb_gt_con=35v_pb_short_block COIN EDGE mn35vta_gt
MN35VTA.l1 {
    @Min and max extension from GT to PB in the width direction must be == 1.8um
    L1001=35v_pb_short_block NOT WITH EDGE 35v_pb_gt_con
    NOT INSIDE L1001 EXCL
}

35v_l2_check=mn35vta_gate_to AND mn35vta_gt
MN35VTA.l2 {
    @Min and max GT overlap TO in the length direction must be == 1.3um
    L1001=INTERNAL 35v_l2_check <1.3 REGION SINGULAR ABUT<90 
    L46475=SIZE 35v_l2_check BY -0.65
    L1002=SIZE L46475 BY 0.65
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

35v_gt_hole=HOLES mn35vta_gt INNER
35v_gt_short1=35v_gt_hole INSIDE EDGE mn35vta_gate_to
35v_gt_short2=35v_gt_hole NOT TOUCH EDGE 35v_gt_short1
35v_gt_short=NOT ANGLE 35v_gt_short2 >0 <90
35v_gate_to_outside=mn35vta_gate_to OUTSIDE EDGE mn35vta_gt
35v_gate_to_outside_block=EXPAND EDGE 35v_gate_to_outside OUTSIDE BY 0.5
MN35VTA.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=35v_gate_to_outside_block NOT WITH EDGE 35v_gt_short
    NOT INSIDE L1001 EXCL
}

35vnmos_pm=PM_drc INTERACT mn35vta_gt
35v_e1_check=35vnmos_pm AND mn35vta_pb
MN35VTA.e1 {
    @Min and max overlap from PM to PB must be == 0.5um
    L1001=INTERNAL 35v_e1_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 35v_e1_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

35v_pb_pm_short_block=EXPAND EDGE 35v_pb_short OUTSIDE BY 1.0
35v_pb_pm_con=35v_pb_pm_short_block COIN EDGE 35vnmos_pm
MN35VTA.e2 {
    @Min and max clearance from PM to PB in the width direction must be == 1.0um
    L1001=35v_pb_pm_short_block NOT WITH EDGE 35v_pb_pm_con
    NOT INSIDE L1001 EXCL
}

35v_pb_expand_5=EXPAND EDGE 35v_pb_short OUTSIDE BY 5.0
35vnmos_pm_cut=(35vnmos_pm NOT 35v_pb_expand_5) NOT mn35vta_pb
35vnmos_pm_cut_check=INT 35vnmos_pm_cut <5.0 PARA ONLY OPPOSITE REGION 
MN35VTA.e3 {
    @Min and max clearance from PM to PB in the length direction must be == 0.5um
    L1001=INTERNAL 35vnmos_pm_cut_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 35vnmos_pm_cut_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn35vta_hn=HN_drc ENCLOSE mn35vta_gt
mn35vta_tb=TB_drc INSIDE mn35vta_hn
35v_drain_to=TO_drc INSIDE mn35vta_tb
35v_gate_to_long1=mn35vta_gate_to OUTSIDE EDGE mn35vta_gt
35v_gate_to_long=mn35vta_gate_to NOT TOUCH EDGE 35v_gate_to_long1
35v_gate_to_long_block=EXPAND EDGE 35v_gate_to_long OUTSIDE BY 3.0
35v_sou_dra_con=35v_gate_to_long_block COIN EDGE 35v_drain_to
MN35VTA.c {
    @Min and max drift width (source TO space to drain TO) must be == 3.0um
    L1001=35v_gate_to_long_block NOT WITH EDGE 35v_sou_dra_con
    L1002=EXT mn35vta_gate_to 35v_drain_to <3.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

35v_gate_to_width_block=EXPAND EDGE 35v_gate_to_long OUTSIDE BY 1.5
35v_gt_to_con=35v_gate_to_width_block COIN EDGE mn35vta_gt
MN35VTA.b {
    @Min and max extension from GT to TO in the length direction must be == 1.5um
    L1001=35v_gate_to_width_block NOT WITH EDGE 35v_gt_to_con
    NOT INSIDE L1001 EXCL
}

35v_b1_check=mn35vta_tb NOT 35v_drain_to
MN35VTA.b1 {
    @Min and max extension from TB to drain TO must be == 0.3um
    L1001=INTERNAL 35v_b1_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE 35v_b1_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; MN35VTA.h3 has been checked by TO.note

//;;; MN35VTA.m1 has been checked by HN.d

//;;; MN35VTA.m2 has been checked by HN.c

L45865=mn35vta_gate_to OUTSIDE EDGE mn35vta_gt
35v_gate_short=mn35vta_gate_to TOUCH EDGE L45865
MN35VTA.m3 {
    @Min extension from HN to TO in the width direction must be >= 6.7um
    L1001=ENC 35v_gate_short mn35vta_hn <6.7 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;; MN35VTA.n1 has been checked by PTM.b

//;;; MN35VTA.n2 has been checked by PTM.c

MN35VTA.w2 {
    @Min and max GT space in channel length direction must be == 1.46um
    L1001=INTERNAL 35v_gt_hole <1.46 REGION SINGULAR ABUT<90 
    L46475=SIZE 35v_gt_hole BY -0.73
    L1002=SIZE L46475 BY 0.73
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp35vta rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
35v_pgt1=(gt_nld INTERACT HV_35V) INTERACT PM_drc
mp35vta_gt=(35v_pgt1 NOT INTERACT PB_drc) INTERACT TB_drc
mp35vta_gate_to=TO_drc CUT mp35vta_gt

mp35vta_tb=TB_drc INTERACT mp35vta_gt
mp35vta_length=(mp35vta_gt AND mp35vta_gate_to) AND mp35vta_tb
MP35VTA.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 1.0um
    L1001=INTERNAL mp35vta_length <1.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp35vta_width=(mp35vta_gt NOT INSIDE EXCL) INSIDE EDGE (mp35vta_gate_to NOT INSIDE EXCL)
MP35VTA.W {
    @Min channel width must be >= 3.0um
    LENGTH mp35vta_width < 3.0
}

mp35vta_tb_hole=HOLES mp35vta_tb INNER
L20008=mp35vta_tb_hole INSIDE EDGE mp35vta_gate_to
L20018=mp35vta_tb_hole NOT TOUCH EDGE L20008
35v_tb_hole_exp=EXPAND EDGE L20018 OUTSIDE BY 0.5
35v_gt_tb_edge=35v_tb_hole_exp COIN EDGE mp35vta_gt
MP35VTA.l1 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=35v_tb_hole_exp NOT WITH EDGE 35v_gt_tb_edge
    NOT INSIDE L1001 EXCL
}

mp35vta_pm=PM_drc INTERACT mp35vta_gt
MP35VTA.a {
    @Min and max space between TB and PM must be ==0
    L1001=mp35vta_tb_hole NOT mp35vta_pm
    L1002=mp35vta_pm NOT mp35vta_tb_hole
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp35vta_bulk_to=ndiff INSIDE mp35vta_tb
MP35VTA.a1 {
    @Min extension from TB to bulk TO must be >= 0.18um
    L1001=ENC mp35vta_bulk_to mp35vta_tb <0.18 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mp35vta_drain_to=TO_drc INSIDE (HOLES mp35vta_gt INNER)
mp35vta_all_to=mp35vta_drain_to OR mp35vta_gate_to
mp35vta_to_block=SIZE mp35vta_all_to BY 2.0 OVERUNDER
mp35vta_to_space=(mp35vta_to_block NOT mp35vta_all_to) INTERACT mp35vta_gt
mp35vta_b_check=mp35vta_to_space AND mp35vta_gt
MP35VTA.b {
    @Min and max extension from GT to TO in the length direction must be == 0.75um
    L1001=INTERNAL mp35vta_b_check <0.75 REGION SINGULAR ABUT<90 
    L46475=SIZE mp35vta_b_check BY -0.375
    L1002=SIZE L46475 BY 0.375
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

35v_drain_to_p_long=LENGTH mp35vta_drain_to > 2.9
35v_drain_to_p_long_exp=EXPAND EDGE 35v_drain_to_p_long OUTSIDE BY 1.5
35v_drain_sou_p=35v_drain_to_p_long_exp COIN EDGE mp35vta_gate_to
MP35VTA.c {
    @Min and max drift width (source TO space to drain TO) must be == 1.5um
    L1001=EXT mp35vta_drain_to mp35vta_gate_to <1.5 REGION SINGULAR ABUT<90
    L1002=35v_drain_to_p_long_exp NOT WITH EDGE 35v_drain_sou_p
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL 
}

mp35vta_v_check=mp35vta_pm AND mp35vta_gate_to
MP35VTA.v {
    @Min and max overlap of PM and TO in the length direction must be == 0.8um
    L1001=INTERNAL mp35vta_v_check <0.8 REGION SINGULAR ABUT<90 
    L46475=SIZE mp35vta_v_check BY -0.4
    L1002=SIZE L46475 BY 0.4
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp35vta_v1_check=(HOLES mp35vta_gt INNER) NOT mp35vta_drain_to
MP35VTA.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 0.75um
    L1001=INTERNAL mp35vta_v1_check <0.75 REGION SINGULAR ABUT<90 
    L46475=SIZE mp35vta_v1_check BY -0.375
    L1002=SIZE L46475 BY 0.375
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp35vta_gt_hole=HOLES mp35vta_gt INNER
L20059=mp35vta_gt_hole INSIDE EDGE mp35vta_to_space
L20067=mp35vta_gt_hole NOT TOUCH EDGE L20059
35v_gt_hole_p_exp=EXPAND EDGE L20067 OUTSIDE BY 1.35
35v_gt_pm_con=35v_gt_hole_p_exp COIN EDGE mp35vta_pm
MP35VTA.v2 {
    @Min and max overlap of PM and GT in the width direction must be == 1.35um
    L1001=35v_gt_hole_p_exp NOT WITH EDGE 35v_gt_pm_con
    NOT INSIDE L1001 EXCL
}

//;;; MP35VTA.m1 has been checked by HN.d

//;;; MP35VTA.m2 has been checked by HN.c

L58974=mp35vta_pm INSIDE EDGE mp35vta_gate_to
35v_pm_check_edge=mp35vta_pm NOT TOUCH EDGE L58974
MP35VTA.m3 {
    @Min clearance from PM to bulk TO in the width direction must be >= 1.0um
    L1001=EXT 35v_pm_check_edge mp35vta_bulk_to <1.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP35VTA.n1 has been checked by PTM.b

//;;; MP35VTA.n2 has been checked by PTM.c

MP35VTA.t {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp35vta_gate_to mp35vta_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp40vta rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
/*
40v_pgt1=(gt_nld INTERACT HV_40V) INTERACT PM_drc
mp40vta_gt=((40v_pgt1 NOT INTERACT PB_drc) INTERACT TB_drc) NOT INTERACT PTM_drc
mp40vta_gate_to=TO_drc CUT mp40vta_gt

mp40vta_tb=TB_drc INTERACT mp40vta_gt
mp40vta_length=(mp40vta_gt AND mp40vta_gate_to) AND mp40vta_tb
MP40VTA.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 1.0um
    L1001=INTERNAL mp40vta_length <1.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp40vta_width=(mp40vta_gt NOT INSIDE EXCL) INSIDE EDGE (mp40vta_gate_to NOT INSIDE EXCL)
MP40VTA.W {
    @Min channel width must be >= 3.0um
    LENGTH mp40vta_width < 3.0
}

mp40vta_tb_hole=HOLES mp40vta_tb INNER
L20056=mp40vta_tb_hole INSIDE EDGE mp40vta_gate_to
L20057=mp40vta_tb_hole NOT TOUCH EDGE L20056
40v_tb_hole_exp=EXPAND EDGE L20057 OUTSIDE BY 0.5
40v_gt_tb_edge=40v_tb_hole_exp COIN EDGE mp40vta_gt
MP40VTA.l1 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=40v_tb_hole_exp NOT WITH EDGE 40v_gt_tb_edge
    NOT INSIDE L1001 EXCL
}

mp40vta_pm=PM_drc INTERACT mp40vta_gt
MP40VTA.a {
    @TB must cut PM
    L1001=mp40vta_tb_hole NOT mp40vta_pm
    L1002=mp40vta_pm NOT mp40vta_tb_hole
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp40vta_bulk_to=ndiff INSIDE mp40vta_tb
MP40VTA.a1 {
    @Min extension from TB to bulk TO must be >= 0.18um
    L1001=ENC mp40vta_bulk_to mp40vta_tb <0.18 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mp40vta_drain_to=TO_drc INSIDE (HOLES mp40vta_gt INNER)
mp40vta_all_to=mp40vta_drain_to OR mp40vta_gate_to
mp40vta_to_block=SIZE mp40vta_all_to BY 3.5 OVERUNDER
mp40vta_to_space=(mp40vta_to_block NOT mp40vta_all_to) INTERACT mp40vta_gt
mp40vta_b_check=mp40vta_to_space AND mp40vta_gt
MP40VTA.b {
    @Min and max extension from GT to TO in the length direction must be == 1.75um
    L1001=INTERNAL mp40vta_b_check <1.75 REGION SINGULAR ABUT<90 
    L46475=SIZE mp40vta_b_check BY -0.875
    L1002=SIZE L46475 BY 0.875
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

40v_drain_to_p_long=LENGTH mp40vta_drain_to > 2.9
40v_drain_to_p_long_exp=EXPAND EDGE 40v_drain_to_p_long OUTSIDE BY 3.5
40v_drain_sou_p=40v_drain_to_p_long_exp COIN EDGE mp40vta_gate_to
MP40VTA.c {
    @Min and max drift width (source TO space to drain TO) must be == 3.5um
    L1001=EXT mp40vta_drain_to mp40vta_gate_to <3.5 REGION SINGULAR ABUT<90
    L1002=40v_drain_to_p_long_exp NOT WITH EDGE 40v_drain_sou_p
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL 
}

mp40vta_v_check=mp40vta_pm AND mp40vta_gate_to
MP40VTA.v {
    @Min and max overlap of PM and TO in the length direction must be == 0.8um
    L1001=INTERNAL mp40vta_v_check <0.8 REGION SINGULAR ABUT<90 
    L46475=SIZE mp40vta_v_check BY -0.4
    L1002=SIZE L46475 BY 0.4
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

40v_drain_to_p_short=LENGTH mp40vta_drain_to < 2.9
40v_drain_to_p_short_exp=EXPAND EDGE 40v_drain_to_p_short OUTSIDE BY 1.0
40v_drain_short_p=40v_drain_to_p_short_exp COIN EDGE mp40vta_gt
MP40VTA.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 1.0um
    L1001=40v_drain_to_p_short_exp NOT WITH EDGE 40v_drain_short_p
    NOT INSIDE L1001 EXCL
}

mp40vta_gt_hole=HOLES mp40vta_gt INNER
L20089=mp40vta_gt_hole INSIDE EDGE mp40vta_to_space
L20058=mp40vta_gt_hole NOT TOUCH EDGE L20089
40v_gt_hole_p_exp=EXPAND EDGE L20058 OUTSIDE BY 2.0
40v_gt_pm_con=40v_gt_hole_p_exp COIN EDGE mp40vta_pm
MP40VTA.v2 {
    @Min and max overlap of PM and GT in the width direction must be == 2.0um
    L1001=40v_gt_hole_p_exp NOT WITH EDGE 40v_gt_pm_con
    NOT INSIDE L1001 EXCL
}

mp40vta_hn=HN_drc ENCLOSE mp40vta_gt
MP40VTA.m1 {
    @Min extension from HN to TB in the length direction must be >= 2.5um
    L1001=ENC mp40vta_tb mp40vta_hn <2.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp40vta_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE mp40vta_gt
mp40vta_ptm=PTM_drc TOUCH mp40vta_ptm_hole
MP40VTA.m2 {
    @Min space from HN to PTM must be >= 3.0um
    L1001=EXT mp40vta_hn mp40vta_ptm <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

L58978=mp40vta_pm INSIDE EDGE mp40vta_gate_to
40v_pm_check_edge=mp40vta_pm NOT TOUCH EDGE L58978
MP40VTA.m3 {
    @Min clearance from PM to bulk TO in the width direction must be >= 1.0um
    L1001=EXT 40v_pm_check_edge mp40vta_bulk_to <1.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP40VTA.n1 has been checked by PTM.b

//;;; MP40VTA.n2 has been checked by PTM.c

MP40VTA.t {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp40vta_gate_to mp40vta_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}
*/
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn24vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

24_30_mark=HV_24V OR HV_30V
24v_gt1=((gt_nld INTERACT HV_24V) INTERACT PB_drc) INTERACT PM_drc
24v_gt2=24v_gt1 INTERACT SI_drc
mn2430vt_gt=(24v_gt2 INTERACT (TU_drc INTERACT GT_drc ==1)) INTERACT NM_drc
mn2430vt_gate_to=TO_drc CUT mn2430vt_gt

mn2430vt_tu=TU_drc INTERACT mn2430vt_gt
mn2430vt_l2_check=(mn2430vt_gate_to AND mn2430vt_gt) NOT mn2430vt_tu
MN24VT.l2 {
    @Min and max extension from GT to TU in the length direction must be == 0.5um
    L1001=INTERNAL mn2430vt_l2_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_l2_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_l1_check=HOLES mn2430vt_gt INNER
MN24VT.l1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 0.52um
    L1001=INTERNAL mn2430vt_l1_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_l1_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_pb=PB_drc INTERACT mn2430vt_gt
mn2430vt_length=mn2430vt_gt AND mn2430vt_pb
MN24VT.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL mn2430vt_length <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_length BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_width=(mn2430vt_gt NOT INSIDE EXCL) INSIDE EDGE (mn2430vt_gate_to NOT INSIDE EXCL)
MN24VT.W {
    @Channel width must be >= 3.0um <=200um
    LENGTH mn2430vt_width < 3.0
    LENGTH mn2430vt_width > 200.0
}

mn2430vt_l3_check=mn2430vt_l1_check NOT mn2430vt_gate_to
MN24VT.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE mn2430vt_l3_check ==0.52 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

24v_pb_short=LENGTH mn2430vt_pb < 1.0
24v_pb_short_block=EXPAND EDGE 24v_pb_short OUTSIDE BY 1.8
24v_pb_gt_con=24v_pb_short_block COIN EDGE mn2430vt_gt
MN24VT.l4 {
    @Min and max extension from GT to PB in the width direction must be == 1.8um
    L1001=24v_pb_short_block NOT WITH EDGE 24v_pb_gt_con
    NOT INSIDE L1001 EXCL
}

mn24vt_gt=mn2430vt_gt INTERACT HV_24V
mn30vt_gt=mn2430vt_gt INTERACT HV_30V
mn24vt_tu=mn2430vt_tu CUT mn24vt_gt
mn30vt_tu=mn2430vt_tu CUT mn30vt_gt
mn24vt_s_check=mn24vt_tu NOT mn24vt_gt
MN24VT.s {
    @Min and max clearance from TU to GT must be == 0.6um
    L1001=INTERNAL mn24vt_s_check <0.6 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_s_check BY -0.3
    L1002=SIZE L46475 BY 0.3
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_nm=NM_drc INTERACT mn2430vt_gt
mn24vt_nm=mn2430vt_nm CUT mn24vt_gt
mn30vt_nm=mn2430vt_nm CUT mn30vt_gt
mn24vt_b1_check=mn24vt_nm AND mn24vt_gt
MN24VT.b1 {
    @Min and max overlap of NM and GT must be == 0.8um
    L1001=INTERNAL mn24vt_b1_check <0.8 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_b1_check BY -0.4
    L1002=SIZE L46475 BY 0.4
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_b2_check=mn2430vt_nm NOT mn2430vt_gate_to
MN24VT.b2 {
    @Min and max extension from NM to TO must be == 0.3um
    L1001=INTERNAL mn2430vt_b2_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_b2_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_sab=SI_drc INTERACT mn2430vt_gt
mn2430vt_b3_check=mn2430vt_sab NOT mn2430vt_tu
MN24VT.b3 {
    @Min and max extension from SAB to TU must be == 0.1um
    L1001=INTERNAL mn2430vt_b3_check <0.1 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_b3_check BY -0.05
    L1002=SIZE L46475 BY 0.05
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_drain_cont=(W1_drc AND mn2430vt_gate_to) AND mn2430vt_nm
L56214=mn2430vt_sab OUTSIDE EDGE mn2430vt_tu
mn2430vt_sab_edge=LENGTH L56214 >= 3.0
mn2430vt_sab_edge_exp=EXPAND EDGE mn2430vt_sab_edge OUTSIDE BY 0.12
L58490=mn2430vt_gate_to NOT (mn2430vt_gt OR mn2430vt_pb)
mn2430vt_gate_to_end=L58490 INTERACT mn2430vt_sab ==1
mn2430vt_gate_to_mid=L58490 INTERACT mn2430vt_sab ==2
mn2430vt_drain_cont_end=mn2430vt_drain_cont AND mn2430vt_gate_to_end
mn2430vt_drain_cont_mid=mn2430vt_drain_cont AND mn2430vt_gate_to_mid
MN24VT.b4 {
    @Min extension space from W1 to SAB must be >= 0.12um
    L1001=EXT mn2430vt_drain_cont mn2430vt_sab <0.12 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mn2430vt_sn=SN_drc INTERACT mn2430vt_gt
mn2430vt_sn_hole_drain=(HOLES mn2430vt_sn INNER) NOT INTERACT mn2430vt_pb
mn2430vt_b5_check=mn2430vt_sn_hole_drain AND mn2430vt_gt
MN24VT.b5 {
    @Min and max clearance from SN to GT in the length direction must be == 0.2um
    L1001=INTERNAL mn2430vt_b5_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_b5_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_r1_check=mn2430vt_tu AND mn2430vt_gt
MN24VT.r1 {
    @Min and max overlap of TU and GT must be == 0.7um
    L1001=INTERNAL mn2430vt_r1_check <0.7 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_r1_check BY -0.35
    L1002=SIZE L46475 BY 0.35
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_r3_check=mn2430vt_sn AND mn2430vt_sab
MN24VT.r3 {
    @Min and max overlap of SAB and SN must be == 0.1um
    L1001=INTERNAL mn2430vt_r3_check <0.1 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_r3_check BY -0.05
    L1002=SIZE L46475 BY 0.05
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_r4_check=mn2430vt_gt AND mn2430vt_sab
MN24VT.r4 {
    @Min and max overlap of SAB and GT in the length direction must be == 0.2um
    L1001=INTERNAL mn2430vt_r4_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_r4_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_pm=PM_drc INTERACT mn2430vt_gt
mn2430vt_e1_check=mn2430vt_pm AND mn2430vt_pb
MN24VT.e1 {
    @Min and max overlap from PM to PB must be == 0.5um
    L1001=INTERNAL mn2430vt_e1_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn2430vt_e1_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

24v_pb_pm_short_block=EXPAND EDGE 24v_pb_short OUTSIDE BY 1.0
24v_pb_pm_con=24v_pb_pm_short_block COIN EDGE mn2430vt_pm
MN24VT.e2 {
    @Min and max clearance from PM to PB in the width direction must be == 1.0um
    L1001=24v_pb_pm_short_block NOT WITH EDGE 24v_pb_pm_con
    NOT INSIDE L1001 EXCL
}

24v_pb_expand_5=EXPAND EDGE 24v_pb_short OUTSIDE BY 5.0
24vnmos_pm_cut=(mn2430vt_pm NOT 24v_pb_expand_5) NOT mn2430vt_pb
24vnmos_pm_cut_check=INT 24vnmos_pm_cut <5.0 PARA ONLY OPPOSITE REGION 
MN24VT.e3 {
    @Min and max clearance from PM to PB in the length direction must be == 0.5um
    L1001=INTERNAL 24vnmos_pm_cut_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 24vnmos_pm_cut_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_bulk_sp=SP_drc CUT mn2430vt_gt
L58258=(HOLES mn2430vt_gt INNER) NOT mn2430vt_bulk_sp
24v_bulk_sp_space=(L58258 NOT INSIDE EXCL) COIN EDGE (mn2430vt_gt NOT INSIDE EXCL)
MN24VT.h1 {
    @Min and max space of SP (bulk terminal) must be == 0.75um
    LENGTH 24v_bulk_sp_space !=0.75
}

24v_h2_check=mn2430vt_bulk_sp AND mn2430vt_gt
MN24VT.h2 {
    @Min and max overlap of SP and GT must be == 0.25um
    L1001=INTERNAL 24v_h2_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE 24v_h2_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN24VT.h3 has been checked by TO.note

24v_bulk_sp_mid=mn2430vt_bulk_sp NOT INTERACT (mn2430vt_bulk_sp NOT mn2430vt_gate_to)
24v_bulk_sp_end=mn2430vt_bulk_sp NOT 24v_bulk_sp_mid
24v_h4_check=((HOLES mn2430vt_gt INNER) AND mn2430vt_gate_to) AND 24v_bulk_sp_end
24v_h4_check_edge=(24v_h4_check NOT INSIDE EXCL) COIN EDGE (mn2430vt_gt NOT INSIDE EXCL)
MN24VT.h4 {
    @Min and Max overlap of SP and TO in the width end region must be == 0.5um 
    LENGTH 24v_h4_check_edge !=0.5
}

MN24VT.h5 {
    @Min and max width of SP (bulk terminal) must be == 0.5um 
    L1001=INTERNAL 24v_bulk_sp_mid <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 24v_bulk_sp_mid BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn2430vt_hn=HN_drc ENCLOSE mn2430vt_gt
MN24VT.m1 {
    @Min extension from HN to NM in the length direction must be >= 1.5um 
    L1001=ENC mn2430vt_nm mn2430vt_hn <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN24VT.m2 has been checked by HN.c

S10856=mn2430vt_gate_to INSIDE EDGE mn2430vt_gt
S10869=mn2430vt_gate_to TOUCH EDGE S10856
MN24VT.m3 {
    @Min extension from HN to TO in the width direction must be >= 6.5um
    L1001=ENC S10869 mn2430vt_hn <6.5 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN24VT.n1 has been checked by PTM.b

//;;;MN24VT.n2 has been checked by PTM.c

//;;;MN24VT.W1 no check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn24vt_hbv rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

24v_hbv_gt1=((gt_nld INTERACT HV_24V) INTERACT PB_drc) INTERACT PM_drc
24v_hbv_gt2=24v_hbv_gt1 INTERACT SI_drc
mn24vt_hbv_gt=(24v_hbv_gt2 INTERACT (TU_drc INTERACT GT_drc ==3)) INTERACT NM_drc
mn24vt_hbv_gate_to=TO_drc CUT mn24vt_hbv_gt

mn24vt_hbv_tu=TU_drc INTERACT mn24vt_hbv_gt
mn24vt_hbv_l2_check=(mn24vt_hbv_gate_to AND mn24vt_hbv_gt) NOT mn24vt_hbv_tu
MN24VT_hbv.l2 {
    @Min and max extension from GT to TU in the length direction must be == 0.5um
    L1001=INTERNAL mn24vt_hbv_l2_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_l2_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_l1_check=HOLES mn24vt_hbv_gt INNER
MN24VT_hbv.l1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 0.52um
    L1001=INTERNAL mn24vt_hbv_l1_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_l1_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_pb=PB_drc INTERACT mn24vt_hbv_gt
mn24vt_hbv_length=mn24vt_hbv_gt AND mn24vt_hbv_pb
MN24VT_hbv.L {
    @Min and max overlap of GT and PB must be == 0.2um
    L1001=INTERNAL mn24vt_hbv_length <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_length BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_width=(mn24vt_hbv_gt NOT INSIDE EXCL) INSIDE EDGE (mn24vt_hbv_gate_to NOT INSIDE EXCL)
MN24VT_hbv.W {
    @Channel width must be >= 3.0um <=200um
    LENGTH mn24vt_hbv_width < 3.0
    LENGTH mn24vt_hbv_width > 200.0
}

mn24vt_hbv_l3_check=mn24vt_hbv_l1_check NOT mn24vt_hbv_gate_to
MN24VT_hbv.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE mn24vt_hbv_l3_check ==0.52 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

24v_hbv_pb_short=LENGTH mn24vt_hbv_pb < 1.0
24v_hbv_pb_short_block=EXPAND EDGE 24v_hbv_pb_short OUTSIDE BY 1.8
24v_hbv_pb_gt_con=24v_hbv_pb_short_block COIN EDGE mn24vt_hbv_gt
MN24VT_hbv.l4 {
    @Min and max extension from GT to PB in the width direction must be == 1.8um
    L1001=24v_hbv_pb_short_block NOT WITH EDGE 24v_hbv_pb_gt_con
    NOT INSIDE L1001 EXCL
}

mn24vt_hbv_s_check=mn24vt_hbv_tu NOT mn24vt_hbv_gt
MN24VT_hbv.s {
    @Min and max clearance from TU to GT must be == 1.0um
    L1001=INTERNAL mn24vt_hbv_s_check <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_s_check BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_nm=NM_drc INTERACT mn24vt_hbv_gt
mn24vt_hbv_b1_check=mn24vt_hbv_nm AND mn24vt_hbv_gt
MN24VT_hbv.b1 {
    @Min and max overlap of NM and GT must be == 0.8um
    L1001=INTERNAL mn24vt_hbv_b1_check <0.8 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_b1_check BY -0.4
    L1002=SIZE L46475 BY 0.4
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_b2_check=mn24vt_hbv_nm NOT mn24vt_hbv_gate_to
MN24VT_hbv.b2 {
    @Min and max extension from NM to TO must be == 0.3um
    L1001=INTERNAL mn24vt_hbv_b2_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_b2_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_sab=SI_drc INTERACT mn24vt_hbv_gt
mn24vt_hbv_b3_check=mn24vt_hbv_sab NOT mn24vt_hbv_tu
MN24VT_hbv.b3 {
    @Min and max extension from SAB to TU must be == 0.12um
    L1001=INTERNAL mn24vt_hbv_b3_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_b3_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN24VT_hbv.b4 has been checked by SAB.d

mn24vt_hbv_sn=SN_drc INTERACT mn24vt_hbv_gt
mn24vt_hbv_sn_hole_drain=(HOLES mn24vt_hbv_sn INNER) NOT INTERACT mn24vt_hbv_pb
mn24vt_hbv_b5_check=mn24vt_hbv_sn_hole_drain AND mn24vt_hbv_gt
MN24VT_hbv.b5 {
    @Min and max clearance from SN to GT in the length direction must be == 0.2um
    L1001=INTERNAL mn24vt_hbv_b5_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_b5_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_r1_check=mn24vt_hbv_tu AND mn24vt_hbv_gt
MN24VT_hbv.r1 {
    @Min and max overlap of TU and GT must be == 0.7um
    L1001=INTERNAL mn24vt_hbv_r1_check <0.7 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_r1_check BY -0.35
    L1002=SIZE L46475 BY 0.35
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_r2_check=mn24vt_hbv_tu NOT mn24vt_hbv_gate_to
MN24VT_hbv.r2 {
    @Min and max extension from TU to TO in the width direction must be == 1.0um
    L1001=INTERNAL mn24vt_hbv_r2_check <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_r2_check BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_r3_check=mn24vt_hbv_sn AND mn24vt_hbv_sab
MN24VT_hbv.r3 {
    @Min and max overlap of SAB and NSD must be == 0.12um
    L1001=INTERNAL mn24vt_hbv_r3_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_r3_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_r4_check=mn24vt_hbv_gt AND mn24vt_hbv_sab
MN24VT_hbv.r4 {
    @Min and max overlap of SAB and GT in the length direction must be == 0.2um
    L1001=INTERNAL mn24vt_hbv_r4_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_r4_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_pm=PM_drc INTERACT mn24vt_hbv_gt
mn24vt_hbv_e1_check=mn24vt_hbv_pm AND mn24vt_hbv_pb
MN24VT_hbv.e1 {
    @Min and max overlap from PM to PB must be == 0.5um
    L1001=INTERNAL mn24vt_hbv_e1_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_e1_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

24v_hbv_pb_pm_short_block=EXPAND EDGE 24v_hbv_pb_short OUTSIDE BY 1.0
24v_hbv_pb_pm_con=24v_hbv_pb_pm_short_block COIN EDGE mn24vt_hbv_pm
MN24VT_hbv.e2 {
    @Min and max clearance from PM to PB in the width direction must be == 1.0um
    L1001=24v_hbv_pb_pm_short_block NOT WITH EDGE 24v_hbv_pb_pm_con
    NOT INSIDE L1001 EXCL
}

24v_hbv_pb_expand_5=EXPAND EDGE 24v_hbv_pb_short OUTSIDE BY 5.0
24vnmos_hbv_pm_cut=(mn24vt_hbv_pm NOT 24v_hbv_pb_expand_5) NOT mn24vt_hbv_pb
24vnmos_hbv_pm_cut_check=INT 24vnmos_hbv_pm_cut <5.0 PARA ONLY OPPOSITE REGION 
MN24VT_hbv.e3 {
    @Min and max clearance from PM to PB in the length direction must be == 0.5um
    L1001=INTERNAL 24vnmos_hbv_pm_cut_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 24vnmos_hbv_pm_cut_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_bulk_sp=SP_drc CUT mn24vt_hbv_gt
L55561=(HOLES mn24vt_hbv_gt INNER) NOT mn24vt_hbv_bulk_sp
24v_hbv_bulk_sp_space=(L55561 NOT INSIDE EXCL) COIN EDGE (mn24vt_hbv_gt NOT INSIDE EXCL)
MN24VT_hbv.h1 {
    @Min and max space of SP (bulk terminal) must be == 0.75um
    LENGTH 24v_hbv_bulk_sp_space !=0.75
}

24v_hbv_h2_check=mn24vt_hbv_bulk_sp AND mn24vt_hbv_gt
MN24VT_hbv.h2 {
    @Min and max overlap of SP and GT must be == 0.25um
    L1001=INTERNAL 24v_hbv_h2_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE 24v_hbv_h2_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN24VT_hbv.h3 has been checked by TO.note

24v_hbv_bulk_sp_mid=mn24vt_hbv_bulk_sp NOT INTERACT (mn24vt_hbv_bulk_sp NOT mn24vt_hbv_gate_to)
24v_hbv_bulk_sp_end=mn24vt_hbv_bulk_sp NOT 24v_hbv_bulk_sp_mid
24v_hbv_h4_check=((HOLES mn24vt_hbv_gt INNER) AND mn24vt_hbv_gate_to) AND 24v_hbv_bulk_sp_end
24v_hbv_h4_check_edge=(24v_hbv_h4_check NOT INSIDE EXCL) COIN EDGE (mn24vt_hbv_gt NOT INSIDE EXCL)
MN24VT_hbv.h4 {
    @Min and max overlap of SP and TO in the width end region must be == 0.5um
    LENGTH 24v_hbv_h4_check_edge !=0.5
}

MN24VT_hbv.h5 {
    @Min and max width of SP (bulk terminal) must be == 0.5um 
    L1001=INTERNAL 24v_hbv_bulk_sp_mid <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 24v_hbv_bulk_sp_mid BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_hn=HN_drc ENCLOSE mn24vt_hbv_gt
MN24VT_hbv.m1 {
    @Min extension from HN to NM in the length direction must be >= 1.5um 
    L1001=ENC mn24vt_hbv_nm mn24vt_hbv_hn <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN24VT_hbv.m2 has been checked by HN.c

S10901=mn24vt_hbv_gate_to INSIDE EDGE mn24vt_hbv_gt
S10902=mn24vt_hbv_gate_to TOUCH EDGE S10901
MN24VT_hbv.m3 {
    @Min extension from HN to TO in the width direction must be >= 6.5um
    L1001=ENC S10902 mn24vt_hbv_hn <6.5 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN24VT_hbv.n1 has been checked by PTM.b

//;;;MN24VT_hbv.n2 has been checked by PTM.c

mn24vt_hbv_split_space_tmp=(mn24vt_hbv_tu AND mn24vt_hbv_gate_to) NOT GT_drc
mn24vt_hbv_split_space=mn24vt_hbv_split_space_tmp TOUCH GT_drc ==2
MN24VT_hbv.s1 {
    @Min and max space of split poly must be == 0.25um
    L1001=INTERNAL mn24vt_hbv_split_space <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_split_space BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn24vt_hbv_split_poly=GT_drc INSIDE mn24vt_hbv_tu
MN24VT_hbv.d {
    @Min and max width of split poly must be == 0.18um
    L1001=INTERNAL mn24vt_hbv_split_poly <0.18 REGION SINGULAR ABUT<90 
    L46475=SIZE mn24vt_hbv_split_poly BY -0.09
    L1002=SIZE L46475 BY 0.09
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MN24VT_hbv.n {
    @Min and max number of split poly must be == 2
    L1001=mn24vt_hbv_tu INTERACT mn24vt_hbv_split_poly !=2
    NOT INSIDE L1001 EXCL
}

mn24vt_hbv_source_A1=A1_drc INTERACT mn24vt_hbv_pb
24v_hbv_m_check1=mn24vt_hbv_source_A1 AND mn24vt_hbv_gate_to
24v_hbv_m_check=24v_hbv_m_check1 NOT (mn24vt_hbv_gt OR mn24vt_hbv_pb)
MN24VT_hbv.m {
    @Min and max overlap of source A1 and GT in length direction must be == 0.5um
    L1001=ENC mn24vt_hbv_gt mn24vt_hbv_source_A1 <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE 24v_hbv_m_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    L1003=mn24vt_hbv_source_A1 INTERACT mn24vt_hbv_split_poly !=2
    NOT INSIDE L1003 EXCL
}

mn24vt_hbv_f_check=mn24vt_hbv_split_poly NOT mn24vt_hbv_gate_to
MN24VT_hbv.f {
    @Min and max extension for poly to TO in width direction must be == 0.5um
    L1001=NOT RECTANGLE mn24vt_hbv_f_check ==0.18 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

//;;;MN24VT_hbv.W1 no check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn10vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

10v_gt1=(gt_pld INTERACT HV_10V) AND DN_drc
10v_gt2=10v_gt1 INTERACT SI_drc
10v_gt=(10v_gt2 INTERACT PTM_drc) INTERACT TB_drc

mn10vt_gt1=((HOLES 10v_gt INNER) NOT INTERACT SI_drc) INTERACT pdiff !=1
mn10vt_gt=GT_drc TOUCH mn10vt_gt1
mn10vt_gate_to=TO_drc CUT mn10vt_gt
mn10vt_to=(NOT mn10vt_gate_to (OR mn10vt_gt (HOLES 10v_gt INNER))) INTERACT mn10vt_gt==2

mn10vt_source_ptm=PTM_drc CUT mn10vt_gt
mn10vt_length=mn10vt_gt AND mn10vt_source_ptm
MN10VT.L {
    @Min overlap of GT and PTM must be >= 0.5um
    L1001=INTERNAL mn10vt_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mn10vt_width=(mn10vt_gt NOT INSIDE EXCL) INSIDE EDGE (mn10vt_gate_to NOT INSIDE EXCL)
MN10VT.W {
    @Channel width must be >= 3.0um <=200um
    LENGTH mn10vt_width < 3.0
    LENGTH mn10vt_width > 200.0
}

mn10vt_l1_check=HOLES mn10vt_gt INNER
MN10VT.l1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 0.52um
    L1001=INTERNAL mn10vt_l1_check <0.52 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_l1_check BY -0.26
    L1002=SIZE L46475 BY 0.26
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vt_nwell=TB_drc CUT mn10vt_gt
mn10vt_l2_check1=(HOLES mn10vt_nwell INNER) NOT mn10vt_source_ptm
mn10vt_l2_check=mn10vt_l2_check1 AND mn10vt_gate_to
MN10VT.l2 {
    @Min and max space from TB to source PTM must be == 0.3um
    L1001=INTERNAL mn10vt_l2_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_l2_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vt_l3_check=mn10vt_l1_check NOT mn10vt_gate_to
MN10VT.l3 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE mn10vt_l3_check ==0.52 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

S1085=mn10vt_source_ptm INSIDE EDGE mn10vt_gate_to
S1086=mn10vt_source_ptm NOT TOUCH EDGE S1085
mn10vt_ptm_short_block=EXPAND EDGE S1086 OUTSIDE BY 0.8
mn10vt_ptm_gt_con=mn10vt_ptm_short_block COIN EDGE mn10vt_gt
MN10VT.l4 {
    @Min and max extension from GT to PTM in the width direction must be == 0.8um
    L1001=mn10vt_ptm_short_block NOT WITH EDGE mn10vt_ptm_gt_con
    NOT INSIDE L1001 EXCL
}

mn10vt_nwell_hole=HOLES mn10vt_nwell INNER
S1081=mn10vt_nwell_hole INSIDE EDGE mn10vt_gate_to
S1096=mn10vt_nwell_hole NOT TOUCH EDGE S1081
mn10vt_tbhole_short_block=EXPAND EDGE S1096 OUTSIDE BY 0.1
mn10vt_tbhole_gt_con=mn10vt_tbhole_short_block COIN EDGE mn10vt_gt
MN10VT.l5 {
    @Min and max overlap of TB and GT in the width direction must be == 0.1um
    L1001=mn10vt_tbhole_short_block NOT WITH EDGE mn10vt_tbhole_gt_con
    NOT INSIDE L1001 EXCL
}

mn10vt_bulk_sp=SP_drc CUT mn10vt_gt
L58244=(HOLES mn10vt_gt INNER) NOT mn10vt_bulk_sp
mn10vt_bulk_sp_space=(L58244 NOT INSIDE EXCL) COIN EDGE (mn10vt_gt NOT INSIDE EXCL)
MN10VT.h1 {
    @Min and max space of SP (bulk terminal) must be == 0.75um
    LENGTH mn10vt_bulk_sp_space !=0.75
}

mn10vt_h2_check=mn10vt_bulk_sp AND mn10vt_gt
MN10VT.h2 {
    @Min and max overlap of SP and GT must be == 0.25um
    L1001=INTERNAL mn10vt_h2_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_h2_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN10VT.h3 has been checked by TO.note

mn10vt_bulk_sp_mid=mn10vt_bulk_sp NOT INTERACT (mn10vt_bulk_sp NOT mn10vt_gate_to)
mn10vt_bulk_sp_end=mn10vt_bulk_sp NOT mn10vt_bulk_sp_mid
10v_h4_check=((HOLES mn10vt_gt INNER) AND mn10vt_gate_to) AND mn10vt_bulk_sp_end
10v_h4_check_edge=(10v_h4_check NOT INSIDE EXCL) COIN EDGE (mn10vt_gt NOT INSIDE EXCL)
MN10VT.h4 {
    @Min and Max overlap of SP and TO in the width end region must be == 0.5um 
    LENGTH 10v_h4_check_edge !=0.5
}

MN10VT.h5 {
    @Min and max width of SP (bulk terminal) must be == 0.5um 
    L1001=INTERNAL mn10vt_bulk_sp_mid <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_bulk_sp_mid BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

S10881=mn10vt_gate_to INSIDE EDGE mn10vt_gt
mn10vt_gate_to_edge=mn10vt_gate_to NOT TOUCH EDGE S10881
MN10VT.m1 {
    @Min extension from TB to TO in the length direction must be >= 2.99um 
    L1001=ENC mn10vt_gate_to_edge mn10vt_nwell <2.99 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

mn10vt_dn=DN_drc ENCLOSE mn10vt_gt
mn10vt_m2_check=mn10vt_nwell NOT mn10vt_dn
MN10VT.m2 {
    @Min and max extension from TB to DN must be == 1.5um
    L1001=INTERNAL mn10vt_m2_check <1.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_m2_check BY -0.75
    L1002=SIZE L46475 BY 0.75
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MN10VT.m3 {
    @Min width of TB in the width direction must be >= 3.8um 
    L1001=(INT mn10vt_nwell <3.8 PARA ONLY OPPOSITE REGION) NOT INTERACT mn10vt_gate_to
    NOT INSIDE L1001 EXCL
}

MN10VT.m4 {
    @Min width of TB in the length direction must be >= 4.2um 
    L1001=((INT mn10vt_nwell <4.2 PARA ONLY OPPOSITE REGION) INTERACT mn10vt_gt ==1) INTERACT mn10vt_gate_to
    NOT INSIDE L1001 EXCL
}

mn10vt_sn=SN_drc INTERACT mn10vt_gt
mn10vt_sn_hole_drain=(HOLES mn10vt_sn INNER) NOT INTERACT mn10vt_source_ptm
mn10vt_c_check=mn10vt_sn_hole_drain NOT mn10vt_gt
MN10VT.c {
    @Min and max clearance from SN to GT in the length direction must be == 0.4um
    L1001=INTERNAL mn10vt_c_check <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_c_check BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vt_sab=SI_drc CUT mn10vt_gt
mn10vt_drain_cont=(W1_drc AND mn10vt_gate_to) NOT mn10vt_source_ptm
L56258=mn10vt_sab OUTSIDE EDGE mn10vt_gt
mn10vt_sab_edge=LENGTH L56258 >= 3.0
mn10vt_sab_edge_exp=EXPAND EDGE mn10vt_sab_edge OUTSIDE BY 0.12
L58454=mn10vt_gate_to NOT (mn10vt_gt OR mn10vt_source_ptm)
mn10vt_gate_to_end=L58454 INTERACT mn10vt_sab ==1
mn10vt_gate_to_mid=L58454 INTERACT mn10vt_sab ==2
mn10vt_drain_cont_end=mn10vt_drain_cont AND mn10vt_gate_to_end
mn10vt_drain_cont_mid=mn10vt_drain_cont AND mn10vt_gate_to_mid
MN10VT.w2 {
    @Min extension space from W1 to SAB must be == 0.12um
    L1001=mn10vt_drain_cont_end NOT TOUCH mn10vt_sab_edge_exp
    L1002=mn10vt_drain_cont_mid TOUCH mn10vt_sab_edge_exp !=2
    L1003=mn10vt_drain_cont_mid NOT TOUCH mn10vt_sab_edge_exp
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
}

mn10vt_r1_check=mn10vt_gt AND mn10vt_sab
MN10VT.r1 {
    @Min and max overlap of SAB and GT in the length direction must be == 0.2um
    L1001=INTERNAL mn10vt_r1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_r1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vt_r2_check=mn10vt_sn AND mn10vt_sab
MN10VT.r2 {
    @Min and max overlap of SAB and SN in drain side must be == 0.1um
    L1001=INTERNAL mn10vt_r2_check <0.1 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_r2_check BY -0.05
    L1002=SIZE L46475 BY 0.05
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vt_b1_check=mn10vt_sn_hole_drain AND mn10vt_gt
MN10VT.b1 {
    @Min and max clearance from SN to GT in the length direction must be == 0.2um
    L1001=INTERNAL mn10vt_b1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_b1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vt_v_check=(mn10vt_gt AND mn10vt_nwell) AND mn10vt_gate_to
MN10VT.v {
    @Min and max overlap from TB to GT must be == 0.3um
    L1001=INTERNAL mn10vt_v_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vt_v_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN10VT.n1 has been checked by PTM.b

//;;;MN10VT.n2 has been checked by PTM.c

mn10vt_nwell_block=mn10vt_nwell OR mn10vt_nwell_hole
MN10VT.n3 {
    @Min space from TB to P+ TO must be >= 1.3um
    L1001=EXT mn10vt_nwell_block pdiff <1.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;MN10VT.W1 no check

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mn10vta rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mn10vta_gt1=(HOLES 10v_gt INNER) ENCLOSE SI_drc ==2
mn10vta_gt2=((HOLES 10v_gt INNER) NOT INTERACT SI_drc) INTERACT pdiff ==1
mn10vta_gt3=(OR mn10vta_gt1 mn10vta_gt2) INTERACT ndiff
mn10vta_gt=GT_drc TOUCH mn10vta_gt3
mn10vta_gate_to=TO_drc CUT mn10vta_gt
mn10vta_to=(NOT mn10vta_gate_to (OR mn10vta_gt (HOLES 10v_gt INNER))) INTERACT mn10vta_gt==2

mn10vta_source_ptm=PTM_drc CUT mn10vta_gt
mn10vta_length=mn10vta_gt AND mn10vta_source_ptm
MN10VTA.L {
    @Min overlap of GT and PTM must be >= 0.5um
    L1001=INTERNAL mn10vta_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mn10vta_width=(mn10vta_gt NOT INSIDE EXCL) INSIDE EDGE (mn10vta_gate_to NOT INSIDE EXCL)
MN10VTA.W {
    @Channel width must be >= 3.0um 
    LENGTH mn10vta_width < 3.0
}

mn10vta_l1_check11=GT_drc TOUCH (mn10vta_gt1 INTERACT ndiff)
mn10vta_l1_check1=HOLES mn10vta_l1_check11 INNER
MN10VTA.l1.1 {
    @Min and max source and bulk size (GT space in the length direction) must be == 3.04um
    L1001=INTERNAL mn10vta_l1_check1 <3.04 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_l1_check1 BY -1.52
    L1002=SIZE L46475 BY 1.52
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_l1_check22=GT_drc TOUCH (mn10vta_gt2 INTERACT ndiff)
mn10vta_l1_check2=HOLES mn10vta_l1_check22 INNER
MN10VTA.l1.2 {
    @Min and max source and bulk size (GT space in the length direction) must be == 1.46um
    L1001=INTERNAL mn10vta_l1_check2 <1.46 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_l1_check2 BY -0.73
    L1002=SIZE L46475 BY 0.73
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_nwell=TB_drc CUT mn10vta_gt
mn10vta_l2_check1=(HOLES mn10vta_nwell INNER) NOT mn10vta_source_ptm
mn10vta_l2_check=mn10vta_l2_check1 AND mn10vta_gate_to
MN10VTA.l2 {
    @Min and max space from TB to source PTM must be == 0.3um
    L1001=INTERNAL mn10vta_l2_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_l2_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_l3_check1=mn10vta_l1_check1 NOT mn10vta_gate_to
MN10VTA.l3.1 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE mn10vta_l3_check1 ==3.04 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

mn10vta_l3_check2=mn10vta_l1_check2 NOT mn10vta_gate_to
MN10VTA.l3.2 {
    @Min and max space from GT to TO in the width direction must be == 0.5um
    L1001=NOT RECTANGLE mn10vta_l3_check2 ==1.46 BY ==0.5 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

S10774=mn10vta_source_ptm INSIDE EDGE mn10vta_gate_to
S10878=mn10vta_source_ptm NOT TOUCH EDGE S10774
mn10vta_ptm_short_block=EXPAND EDGE S10878 OUTSIDE BY 0.8
mn10vta_ptm_gt_con=mn10vta_ptm_short_block COIN EDGE mn10vta_gt
MN10VTA.l4 {
    @Min and max extension from GT to PTM in the width direction must be == 0.8um
    L1001=mn10vta_ptm_short_block NOT WITH EDGE mn10vta_ptm_gt_con
    NOT INSIDE L1001 EXCL
}

mn10vta_nwell_hole=HOLES mn10vta_nwell INNER
S10885=mn10vta_nwell_hole INSIDE EDGE mn10vta_gate_to
S10964=mn10vta_nwell_hole NOT TOUCH EDGE S10885
mn10vta_tbhole_short_block=EXPAND EDGE S10964 OUTSIDE BY 0.1
mn10vta_tbhole_gt_con=mn10vta_tbhole_short_block COIN EDGE mn10vta_gt
MN10VTA.l5 {
    @Min and max overlap of TB and GT in the width direction must be == 0.1um
    L1001=mn10vta_tbhole_short_block NOT WITH EDGE mn10vta_tbhole_gt_con
    NOT INSIDE L1001 EXCL
}

S10741=mn10vta_gate_to INSIDE EDGE mn10vta_gt
mn10vta_gate_to_edge=mn10vta_gate_to NOT TOUCH EDGE S10741
MN10VTA.m1 {
    @Min extension from TB to TO in the length direction must be >= 2.99um 
    L1001=ENC mn10vta_gate_to_edge mn10vta_nwell <2.99 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

mn10vta_dn=DN_drc ENCLOSE mn10vta_gt
mn10vta_m2_check=mn10vta_nwell NOT mn10vta_dn
MN10VTA.m2 {
    @Min and max extension from TB to DN must be == 1.5um
    L1001=INTERNAL mn10vta_m2_check <1.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_m2_check BY -0.75
    L1002=SIZE L46475 BY 0.75
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MN10VTA.m3 {
    @Min width of TB in the width direction must be >= 3.8um 
    L1001=(INT mn10vta_nwell <3.8 PARA ONLY OPPOSITE REGION) NOT INTERACT mn10vta_gate_to
    NOT INSIDE L1001 EXCL
}

MN10VTA.m4 {
    @Min width of TB in the length direction must be >= 4.2um 
    L1001=((INT mn10vta_nwell <4.2 PARA ONLY OPPOSITE REGION) INTERACT mn10vta_gt ==1) INTERACT mn10vta_gate_to
    NOT INSIDE L1001 EXCL
}

mn10vta_sn=SN_drc INTERACT mn10vta_gt
mn10vta_sn_hole_drain=(HOLES mn10vta_sn INNER) NOT INTERACT mn10vta_source_ptm
mn10vta_c_check=mn10vta_sn_hole_drain NOT mn10vta_gt
MN10VTA.c {
    @Min and max clearance from SN to GT in the length direction must be == 0.4um
    L1001=INTERNAL mn10vta_c_check <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_c_check BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_sab=SI_drc CUT mn10vta_gt
mn10vta_drain_cont=(W1_drc AND mn10vta_gate_to) NOT mn10vta_source_ptm

MN10VTA.w2 {
    @Min extension space from W1 to SAB must be > = 0.12um
    L1001=EXTERNAL mn10vta_sab mn10vta_drain_cont <0.12 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mn10vta_r1_check=mn10vta_gt AND mn10vta_sab
MN10VTA.r1 {
    @Min and max overlap of SAB and GT in the length direction must be == 0.2um
    L1001=INTERNAL mn10vta_r1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_r1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_r2_check=mn10vta_sn AND mn10vta_sab
MN10VTA.r2.1 {
    @Min and max overlap of SAB and SN in drain side must be == 0.1um
    L1001=INTERNAL mn10vta_r2_check <0.1 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_r2_check BY -0.05
    L1002=SIZE L46475 BY 0.05
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_source_sab=SI_drc INSIDE (HOLES mn10vta_gt INNER)
mn10vta_source_sp=SP_drc INTERACT (HOLES mn10vta_gt INNER)
mn10vta_r22_check=(mn10vta_source_sab AND mn10vta_source_sp) OR (mn10vta_source_sab AND mn10vta_sn)
MN10VTA.r2.2 {
    @Min and max overlap of SAB and SN/SP must be == 0.12um
    L1001=INTERNAL mn10vta_r22_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_r22_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_r3_check=(mn10vta_source_sab OR mn10vta_sab) NOT mn10vta_gate_to
MN10VTA.r3 {
    @Min and max extension from SAB to TO must be == 0.22um
    L1001=INTERNAL mn10vta_r3_check <0.22 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_r3_check BY -0.11
    L1002=SIZE L46475 BY 0.11
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_gt_hole1=HOLES mn10vta_l1_check11 INNER
mn10vta_source_cont1=(W1_drc AND mn10vta_gt_hole1) AND SN_drc
mn10vta_bulk_cont1=(W1_drc AND mn10vta_gt_hole1) AND SP_drc
mn10vta_cont_space1=EXT mn10vta_source_cont1 mn10vta_bulk_cont1 ==1.04 OPPOSITE REGION PARA ONLY
MN10VTA.r4.1 {
    @Min and max space from source W1 to bulk W1 must be == 1.04um
    L1001=mn10vta_source_cont1 NOT INTERACT mn10vta_cont_space1
    NOT INSIDE L1001 EXCL
}

mn10vta_gt_hole2=HOLES mn10vta_l1_check22 INNER
mn10vta_source_cont2=(W1_drc AND mn10vta_gt_hole2) AND SN_drc
mn10vta_bulk_cont2=(W1_drc AND mn10vta_gt_hole2) AND SP_drc
mn10vta_cont_space2=EXT mn10vta_source_cont2 mn10vta_bulk_cont2 ==0.25 OPPOSITE REGION PARA ONLY
MN10VTA.r4.2 {
    @Min and max space from source W1 to bulk W1 must be == 0.25um
    L1001=mn10vta_source_cont2 NOT INTERACT mn10vta_cont_space2
    NOT INSIDE L1001 EXCL
}

mn10vta_b1_check=mn10vta_sn_hole_drain AND mn10vta_gt
MN10VTA.b1 {
    @Min and max clearance from SN to GT in the length direction must be == 0.2um
    L1001=INTERNAL mn10vta_b1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_b1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn10vta_v_check=(mn10vta_gt AND mn10vta_nwell) AND mn10vta_gate_to
MN10VTA.v {
    @Min and max overlap from TB to GT must be == 0.3um
    L1001=INTERNAL mn10vta_v_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mn10vta_v_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MN10VTA.n1 has been checked by PTM.b

//;;;MN10VTA.n2 has been checked by PTM.c

mn10vta_nwell_block=mn10vta_nwell OR mn10vta_nwell_hole
MN10VTA.n3 {
    @Min space from TB to P+ TO must be >= 1.3um
    L1001=EXT mn10vta_nwell_block pdiff <1.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp10vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mp10vt_gt1=(HOLES 10v_gt INNER) INTERACT SI_drc 
mp10vt_gt2=(mp10vt_gt1 NOT ENCLOSE SI_drc) NOT INTERACT ndiff
mp10vt_gt=GT_drc TOUCH mp10vt_gt2
mp10vt_gate_to=TO_drc CUT mp10vt_gt

mp10vt_tb=TB_drc INTERACT mp10vt_gt
mp10vt_length=mp10vt_gt AND mp10vt_tb
MP10VT.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 0.5um
    L1001=INTERNAL mp10vt_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp10vt_width=(mp10vt_gt NOT INSIDE EXCL) INSIDE EDGE (mp10vt_gate_to NOT INSIDE EXCL)
MP10VT.W {
    @Min channel width must be >= 3.0um
    LENGTH mp10vt_width < 3.0
}

mp10vt_nwell_hole=HOLES mp10vt_tb INNER
S10875=mp10vt_nwell_hole INSIDE EDGE mp10vt_gate_to
S10554=mp10vt_nwell_hole NOT TOUCH EDGE S10875
mp10vt_tbhole_short_block=EXPAND EDGE S10554 OUTSIDE BY 0.5
mp10vt_tbhole_gt_con=mp10vt_tbhole_short_block COIN EDGE mp10vt_gt
MP10VT.l1 {
    @Min and max overlap of TB and GT in the width direction must be == 0.5um
    L1001=mp10vt_tbhole_short_block NOT WITH EDGE mp10vt_tbhole_gt_con
    NOT INSIDE L1001 EXCL
}

mp10vt_drain_ptm=PTM_drc CUT mp10vt_gt
mp10vt_a_check=(HOLES mp10vt_tb INNER) NOT mp10vt_drain_ptm
MP10VT.a {
    @Min and max space from TB to PTM must be == 0.3um
    L1001=INTERNAL mp10vt_a_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp10vt_a_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp10vt_b_check=mp10vt_drain_ptm AND mp10vt_gt
MP10VT.b {
    @Min and max overlap of GT and PTM must be == 0.3um
    L1001=INTERNAL mp10vt_b_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp10vt_b_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp10vt_sp=SP_drc CUT mp10vt_gt
mp10vt_c_check=(HOLES mp10vt_sp INNER) NOT mp10vt_gt
MP10VT.c {
    @Min and max space from SP to GT in the length direction must be == 0.4um
    L1001=INTERNAL mp10vt_c_check <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mp10vt_c_check BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp10vt_sab=SI_drc CUT mp10vt_gt
mp10vt_r1_check=mp10vt_sab AND mp10vt_gt
MP10VT.r1 {
    @Min and max space from SI to GT in the length direction must be == 0.2um
    L1001=INTERNAL mp10vt_r1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mp10vt_r1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp10vt_r2_check=mp10vt_sab AND mp10vt_sp
MP10VT.r2 {
    @Min and max space from SI to SP in drain side must be == 0.12um
    L1001=INTERNAL mp10vt_r2_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mp10vt_r2_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; MP10VT.w2 has been checked by SAB.d

mp10vt_bulk_to=ndiff INSIDE mp10vt_tb
MP10VT.s {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp10vt_gate_to mp10vt_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mp10vt_dn=DN_drc ENCLOSE mp10vt_gt
mp10vt_n_check=mp10vt_tb NOT mp10vt_dn
MP10VT.n {
    @Min and max extension from TB to DN must be == 1.5um
    L1001=INTERNAL mp10vt_n_check <1.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mp10vt_n_check BY -0.75
    L1002=SIZE L46475 BY 0.75
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

MP10VT.n1 {
    @Min extension from TB to bulk TO must be >= 2.0um
    L1001=(ENC mp10vt_bulk_to mp10vt_tb <2.0 REGION SINGULAR ABUT<90) NOT INSIDE DN_drc
    NOT INSIDE L1001 EXCL
}

//;;; MP10VT.n2 has been checked by PTM.b

//;;; MP10VT.p1 has been checked by PTM.c

mp10vt_ptm_ring=PTM_drc TOUCH (ptm_hole ENCLOSE mp10vt_gt)
MP10VT.p2 {
    @Min space from TB to PTM iso ring must be >= 0.8um
    L1001=EXT mp10vt_ptm_ring mp10vt_tb <0.8 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mp10vt_gt_hole=HOLES mp10vt_gt INNER
mp10vt_v1_block=mp10vt_gt_hole NOT mp10vt_gate_to
mp10vt_v1_edge1=mp10vt_v1_block COIN EDGE mp10vt_gate_to
mp10vt_v1_edge2=mp10vt_gt_hole NOT TOUCH EDGE (mp10vt_gt_hole INSIDE EDGE mp10vt_gate_to)
mp10vt_v1_check=((mp10vt_v1_block NOT INSIDE EXCL) NOT TOUCH EDGE mp10vt_v1_edge1) NOT TOUCH EDGE mp10vt_v1_edge2
MP10VT.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 0.35um
    LENGTH mp10vt_v1_check !=0.35
}

mp10vt_tb_hole=HOLES mp10vt_tb INNER
L58112=mp10vt_tb_hole INSIDE EDGE mp10vt_gate_to
mp10vt_tb_check_edge=mp10vt_tb_hole NOT TOUCH EDGE L58112
MP10VT.m3 {
    @Min clearance from TB to bulk TO in the width direction must be >= 1.3um
    L1001=EXT mp10vt_tb_check_edge mp10vt_bulk_to <1.3 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 mp24vt/mp30vt rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mp2430vt_gt1=((gt_nld AND TO_drc) INTERACT 24_30_mark) INTERACT pgate
mp2430vt_gt2=(mp2430vt_gt1 INTERACT PK_drc) INTERACT TU_drc
mp2430vt_gt3=(mp2430vt_gt2 INTERACT TB_drc) NOT INTERACT PB_drc
mp2430vt_gt4=(mp2430vt_gt3 INTERACT SI_drc) NOT INTERACT NM_drc
mp2430vt_gt=gt_nld ENCLOSE mp2430vt_gt4
mp2430vt_gate_to=TO_drc CUT mp2430vt_gt

mp2430vt_tb=TB_drc INTERACT mp2430vt_gt
mp2430vt_length=(mp2430vt_gt AND mp2430vt_gate_to) AND mp2430vt_tb
MP2430VT.L {
    @Min channel length (GT overlap TB in the length direction) must be >= 0.5um
    L1001=INTERNAL mp2430vt_length <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mp2430vt_width=(mp2430vt_gt NOT INSIDE EXCL) INSIDE EDGE (mp2430vt_gate_to NOT INSIDE EXCL)
MP2430VT.W {
    @Min channel width must be >= 3.0um
    LENGTH mp2430vt_width < 3.0
}

mp2430vt_tb_hole=HOLES mp2430vt_tb INNER
L20485=mp2430vt_tb_hole INSIDE EDGE mp2430vt_gate_to
L20468=mp2430vt_tb_hole NOT TOUCH EDGE L20485
mp2430vt_tb_hole_exp=EXPAND EDGE L20468 OUTSIDE BY 0.5
mp2430vt_gt_tb_edge=mp2430vt_tb_hole_exp COIN EDGE mp2430vt_gt
MP2430VT.l1 {
    @Min and max overlap of GT and TB in the width direction must be == 0.5um
    L1001=mp2430vt_tb_hole_exp NOT WITH EDGE mp2430vt_gt_tb_edge
    NOT INSIDE L1001 EXCL
}

mp2430vt_pk=PK_drc INTERACT mp2430vt_gt
MP2430VT.a {
    @TB must cut PK
    L1001=mp2430vt_tb_hole NOT mp2430vt_pk
    L1002=mp2430vt_pk NOT mp2430vt_tb_hole
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp2430vt_sab=SI_drc INTERACT mp2430vt_gt
mp2430vt_tu=TU_drc INTERACT mp2430vt_gt
mp2430vt_v_check=((mp2430vt_pk NOT mp2430vt_tu) AND mp2430vt_gate_to) NOT INTERACT mp2430vt_sab
MP2430VT.v {
    @Min and max extension from PK to TU must be == 0.3um
    L1001=INTERNAL mp2430vt_v_check <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE mp2430vt_v_check BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp24vt_b_check1=(mp2430vt_gt AND mp2430vt_tu) AND mp2430vt_gate_to
mp24vt_b_check=mp24vt_b_check1 INTERACT HV_24V
MP24VT.b {
    @Min and max overlap of GT and TU must be == 0.6um
    L1001=INTERNAL mp24vt_b_check <0.6 REGION SINGULAR ABUT<90 
    L46475=SIZE mp24vt_b_check BY -0.3
    L1002=SIZE L46475 BY 0.3
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp30vt_b_check=mp24vt_b_check1 INTERACT HV_30V
MP30VT.b {
    @Min and max overlap of GT and TU must be == 0.5um
    L1001=INTERNAL mp30vt_b_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mp30vt_b_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp2430vt_b1_check=mp2430vt_tu NOT mp2430vt_gt
MP2430VT.b1 {
    @Min and max extension from TU to GT must be == 0.25um
    L1001=INTERNAL mp2430vt_b1_check <0.25 REGION SINGULAR ABUT<90 
    L46475=SIZE mp2430vt_b1_check BY -0.125
    L1002=SIZE L46475 BY 0.125
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp24vt_sp=SP_drc CUT (mp2430vt_gt INTERACT HV_24V)
mp24vt_c_check=(HOLES mp24vt_sp INNER) NOT mp2430vt_gt
MP24VT.c {
    @Min and max space from SP to GT in the length direction must be == 0.9um
    L1001=INTERNAL mp24vt_c_check <0.9 REGION SINGULAR ABUT<90 
    L46475=SIZE mp24vt_c_check BY -0.45
    L1002=SIZE L46475 BY 0.45
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp30vt_sp=SP_drc CUT (mp2430vt_gt INTERACT HV_30V)
mp30vt_c_check=(HOLES mp30vt_sp INNER) NOT mp2430vt_gt
MP30VT.c {
    @Min and max space from SP to GT in the length direction must be == 1.2um
    L1001=INTERNAL mp30vt_c_check <1.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mp30vt_c_check BY -0.6
    L1002=SIZE L46475 BY 0.6
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp2430vt_r1_check=mp2430vt_sab AND mp2430vt_gt
MP2430VT.r1 {
    @Min and max overlap from SI to GT in the length direction must be == 0.2um
    L1001=INTERNAL mp2430vt_r1_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE mp2430vt_r1_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;MP2430VT.w2 has been checked by SAB.d

mp2430vt_r2_check=(mp2430vt_sab AND mp24vt_sp) OR (mp2430vt_sab AND mp30vt_sp)
MP2430VT.r2 {
    @Min and max overlap from SI to SP in drain side must be == 0.12um
    L1001=INTERNAL mp2430vt_r2_check <0.12 REGION SINGULAR ABUT<90 
    L46475=SIZE mp2430vt_r2_check BY -0.06
    L1002=SIZE L46475 BY 0.06
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mp2430vt_bulk_to=ndiff INSIDE mp2430vt_tb
MP2430VT.t {
    @Min space from bulk TO to source TO must be >= 0.36um
    L1001=EXT mp2430vt_gate_to mp2430vt_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

MP2430VT.a1 {
    @Min extension from TB to bulk TO must be >= 0.18um
    L1001=ENC mp2430vt_bulk_to mp2430vt_tb <0.18 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; MP2430VT.m1 has been checked by HN.d

//;;; MP2430VT.m2 has been checked by HN.c

//;;; MP2430VT.n1 has been checked by PTM.b

//;;; MP2430VT.n2 has been checked by PTM.c

mp2430vt_gt_hole=HOLES mp2430vt_gt INNER
mp2430vt_v1_block=mp2430vt_gt_hole NOT mp2430vt_gate_to
mp2430vt_v1_edge1=mp2430vt_v1_block COIN EDGE mp2430vt_gate_to
mp2430vt_v1_edge2=mp2430vt_gt_hole NOT TOUCH EDGE (mp2430vt_gt_hole INSIDE EDGE mp2430vt_gate_to)
mp2430vt_v1_check=((mp2430vt_v1_block NOT INSIDE EXCL) NOT TOUCH EDGE mp2430vt_v1_edge1) NOT TOUCH EDGE mp2430vt_v1_edge2
MP2430VT.v1 {
    @Min and max space from GT to drain TO in the width direction must be == 1.2um
    LENGTH mp2430vt_v1_check !=1.2
}

L20458=mp2430vt_gt_hole INSIDE EDGE mp2430vt_gate_to
L20051=mp2430vt_gt_hole NOT TOUCH EDGE L20458
mp2430vt_gt_hole_exp=EXPAND EDGE L20051 OUTSIDE BY 1.8
mp2430vt_gt_pm_con=mp2430vt_gt_hole_exp COIN EDGE mp2430vt_pk
MP2430VT.v2 {
    @Min and max overlap of PK and GT in the width direction must be == 1.8um
    L1001=mp2430vt_gt_hole_exp NOT WITH EDGE mp2430vt_gt_pm_con
    NOT INSIDE L1001 EXCL
}

L58211=mp2430vt_pk INSIDE EDGE mp2430vt_gate_to
mp2430vt_pm_check_edge=mp2430vt_pk NOT TOUCH EDGE L58211
MP2430VT.m3 {
    @Min clearance from PK to bulk TO in the width direction must be >= 1.0um
    L1001=EXT mp2430vt_pm_check_edge mp2430vt_bulk_to <1.0 REGION ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 jfet rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

jfet_poly1=GT_drc INTERACT JFET_mark
jfet_poly2=jfet_poly1 AND HVDMY_drc
jfet_poly=(jfet_poly2 CUT PTM_drc) INTERACT HN_drc

//;;; JFET.a has been checked by HN.d

//;;; JFET.b has been checked by HN.c

jfet_hn=HN_drc CUT jfet_poly
jfet_tb=TB_drc INSIDE jfet_hn
jfet_ptm=PTM_drc INTERACT jfet_poly
JFET.c {
    @Min space from PTM to TB must be >= 2.0um
    L1001=EXT jfet_tb jfet_ptm <2.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

jfet_sub_pdiff=pdiff INSIDE jfet_ptm
JFET.d {
    @Min extension from PTM to P+TO must be >= 1.0um
    L1001=ENC jfet_sub_pdiff jfet_ptm <1.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

jfet_sd_ndiff=ndiff INSIDE jfet_tb
JFET.e {
    @Min extension from TB to N+TO must be >= 0.5um
    L1001=ENC jfet_sd_ndiff jfet_tb <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

JFET.f {
    @Min overlap from HN to PTM must be >= 3.0um
    L1001=INT jfet_ptm jfet_hn <3.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; JFET.g has been checked by PTM.c

JFET.h {
    @Min extension from GT to PTM must be >= 1.2um
    L1001=ENC jfet_ptm jfet_poly <1.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

JFET.i {
    @Min overlap from GT to PTM must be >= 0.5um
    L1001=INT jfet_ptm jfet_poly <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

jfet_length=(JFET_mark NOT INSIDE EXCL) COIN EDGE (jfet_ptm NOT INSIDE EXCL)
JFET.L {
    @Min PTM length must be >= 10um
    LENGTH jfet_length <10.0
}

JFET.W {
    @Min space of PTM in HN must be >= 0.9um
    L1001=(EXT jfet_ptm <0.9 REGION SINGULAR ABUT<90) INSIDE jfet_hn
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         mn5/mn5_iso_dn/mp5 rules have been checked by single layer rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         mn5_iso_hn rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mn5hn_gate1=(ngate NOT INTERACT gt_nld) AND PTM_drc
mn5hn_gate2=mn5hn_gate1 NOT INTERACT PB_drc
mn5hn_gate3=(mn5hn_gate2 AND HN_drc) AND HVDMY_drc
mn5hn_gate4=mn5hn_gate3 AND (HOLES PTM_drc INNER)
mn5hn_gate=mn5hn_gate4 AND (HOLES (GT_drc NOT INTERACT TO_drc) INNER)

mn5hn_poly=GT_drc INTERACT mn5hn_gate
mn5hn_gate_to=TO_drc INTERACT mn5hn_gate
mn5hn_length=(mn5hn_gate_to NOT INSIDE EXCL) INSIDE EDGE (mn5hn_poly NOT INSIDE EXCL)
MN5_HN.L {
    @Min channel length must be >= 0.6um
    LENGTH mn5hn_length <0.6
}

mn5hn_bulk_to_hole=(HOLES pdiff INNER) ENCLOSE mn5hn_gate
mn5hn_bulk_to=(pdiff TOUCH mn5hn_bulk_to_hole) AND HN_drc
MN5_HN.a {
    @Min space from bulk TO to S/D TO must be >= 0.36um
    L1001=EXT mn5hn_gate_to mn5hn_bulk_to <0.36 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mn5hn_ptm=PTM_drc ENCLOSE mn5hn_gate
mn5hn_poly_hole=(HOLES GT_drc INNER) ENCLOSE mn5hn_gate
mn5hn_poly_ring=GT_drc TOUCH mn5hn_poly_hole
mn5hn_b_check=mn5hn_poly_ring AND mn5hn_ptm
MN5_HN.b {
    @Min and max overlap of poly ring and PTM must be == 0.5um
    L1001=INTERNAL mn5hn_b_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE mn5hn_b_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn5hn_c_check=mn5hn_poly_ring NOT mn5hn_ptm
MN5_HN.c {
    @Min and max extension from poly ring to PTM must be == 1.4um
    L1001=INTERNAL mn5hn_c_check <1.4 REGION SINGULAR ABUT<90 
    L46475=SIZE mn5hn_c_check BY -0.7
    L1002=SIZE L46475 BY 0.7
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

mn5hn_hn=HN_drc ENCLOSE mn5hn_gate
mn5hn_nwell_ring=TB_drc INSIDE mn5hn_hn
MN5_HN.d {
    @Min extension from HN to TB must be >= 1.5um
    L1001=ENC mn5hn_nwell_ring mn5hn_hn <1.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mn5hn_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE mn5hn_gate
mn5hn_ptm_ring=PTM_drc TOUCH mn5hn_ptm_hole
MN5_HN.e {
    @Min space between HN to PTM isolation ring must be >= 2um
    L1001=EXT mn5hn_ptm_ring mn5hn_hn <2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

MN5_HN.f {
    @Min space between TB to PTM in device area must be >= 5um
    L1001=EXT mn5hn_nwell_ring mn5hn_ptm <5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

MN5_HN.g {
    @Min extension from PTM to bulk TO in device area must be >= 1um
    L1001=ENC mn5hn_bulk_to mn5hn_ptm <1 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

mn5hn_hvdmy=HVDMY_drc ENCLOSE mn5hn_gate
MN5_HN.h {
    @Min extension from HVDMY to PTM isolation ring must be >= 2um
    L1001=ENC mn5hn_ptm_ring mn5hn_hvdmy <2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

MN5_HN.i {
    @Min extension from PTM isolation ring to P+ isolation ring TO must be >= 0.5um
    L1001=ENC pdiff mn5hn_ptm_ring <0.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;; MN5_HN.W has been checked by TO.b.1

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         mn5_iso_hndn rules have been checked by single layer rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;;mn5_iso_hndn.L has been checked by GT.a.2
//;;mn5_iso_hndn.a has been checked by GT.c
//;;mn5_iso_hndn.b has been checked by SN.g

mn5_iso_hndn_gate1=(GT_drc AND ndiff) NOT HN_drc
mn5_iso_hndn_gate2=(mn5_iso_hndn_gate1 AND PTM_drc) AND HVDMY_drc
mn5_iso_hndn_gate=mn5_iso_hndn_gate2 INSIDE (HOLES HN_drc INNER)
mn5_iso_hndn_rec=ENCLOSE DN_mark mn5_iso_hndn_gate
mn5_iso_hndn_s=AND ndiff mn5_iso_hndn_rec
mn5_iso_hndn_b=AND pdiff mn5_iso_hndn_rec

MN5_ISO_HNDN.c {
    @Min space between N+TO and P+TO must be >= 0.36um
    L1001=EXT mn5_iso_hndn_b mn5_iso_hndn_s <0.36 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;mn5_iso_hndn.d has been checked by SP.j
//;;mn5_iso_hndn.e has been checked by PTM.b
//;;mn5_iso_hndn.f has been checked by HN.c
//;;mn5_iso_hndn.g has been checked by HN.d
//;;mn5_iso_hndn.h has been checked by PTM.c
//;;mn5_iso_hndn.i has been checked by DN.e
//;;mn5_iso_hndn.j has been checked by DN.d
//;;mn5_iso_hndn.w has been checked by TO.a.1
//;;mn5_iso_hndn.k has been checked by HN.c

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         mp5_dn rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
mp5dn_gate1=(GT_drc AND pdiff) AND DN_drc
mp5dn_gate=((mp5dn_gate1 NOT PTM_drc) NOT HVDMY_drc) AND TB_drc
mp5_dn_rec=ENCLOSE DN_mark mp5dn_gate

mp5_dn_tb=ENCLOSE TB_drc mp5_dn_rec
mp5_dn_dn=ENCLOSE DN_drc mp5_dn_rec
mp5_dn_tb_no_dn=NOT mp5_dn_tb mp5_dn_dn

mp5_dn.a {
    @Min and max extension from TB to DN must be == 1.5um
    L1001=SIZE mp5_dn_tb_no_dn BY 0.75 UNDEROVER
    L1002=ENC mp5_dn_dn mp5_dn_tb <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         mp5_hn rules have been checked by single layer rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         mn5_native rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

native_gate1=(ngate NOT INTERACT hvmos_mark) AND HVDMY_drc
native_gate=(native_gate1 NOT HN_drc) NOT DN_drc

native.L {
     @Min channle length for 5v native NMOS must be >=2.5um
     lntgate18=COINCIDENT EDGE (native_gate NOT INSIDE EXCL) TO_drc
     LENGTH lntgate18 <2.5
}

native.W {
     @Min channle width for 5v native NMOS must be >=1.2um
     lntgate=COINCIDENT EDGE (native_gate NOT INSIDE EXCL) TO_drc
     L1001=INT lntgate <1.2 REGION ABUT<90 
     NOT INSIDE L1001 EXCL
}

//;;;  native.a has been checked by GT.c

//;;;  native.b has been checked by SN.g

//;;;  native.c has been checked by TO.c

//;;;  native.d has been checked by SP.j

native_hvdmy=HVDMY_drc ENCLOSE native_gate
native_diff=TO_drc AND native_hvdmy
native.e {
     @Min extension from HVDMY to TO must be >=0.6um
     L1001=ENC native_diff native_hvdmy <0.6 REGION SINGULAR ABUT<90
     NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//     dnppw_5/dppnw_5 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;; dnppw_5.a is checked in single layer rules
//;; dnppw_5.b is checked in single layer rules
//;; dnppw_5.t is checked in single layer rules

//;; dppnw_5.a is checked in single layer rules
//;; dppnw_5.b is checked in single layer rules
//;; dppnw_5.c is checked in single layer rules
//;; dppnw_5.t is checked in single layer rules

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                              zener diode rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

zener_sn1=SN_drc INTERACT DIODE_mark
zener_sn2=(zener_sn1 AND HN_drc) AND HVDMY_drc
zener_sn3=(zener_sn2 AND PTM_drc) INSIDE (HOLES TB_drc INNER)
zener_sn4=(zener_sn3 AND TO_drc) INTERACT PB_drc
zener_sn=zener_sn4 ENCLOSE (HOLES GT_drc INNER)

zener_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE zener_sn
zener_ptm_ring=PTM_drc TOUCH zener_ptm_hole
zener_hn=HN_drc ENCLOSE zener_sn
ZENER.a {
    @Min space between HN to PTM must be >= 2um
    L1001=EXT zener_ptm_ring zener_hn <2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

zener_nwell_ring=TB_drc INSIDE zener_hn
ZENER.b {
    @Min extension from HN to TB must be >= 1.5um
    L1001=ENC zener_nwell_ring zener_hn <1.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

zener_nwell_ndiff=ndiff INSIDE zener_nwell_ring
zener_active=TO_drc ENCLOSE zener_sn
ZENER.d {
    @Min space between ISO N+TO to anode P+TO must be >= 2um
    L1001=EXT zener_nwell_ndiff zener_active <2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

zener_poly_ring=GT_drc CUT zener_sn
ZENER.e {
    @Min width of poly ring must be >= 0.6um
    L1001=INT zener_poly_ring <0.6 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

zener_pb=PB_drc INTERACT zener_sn
zener_f_check=zener_pb AND zener_poly_ring
ZENER.f {
    @Min and max overlap of PB and GT must be == 0.2um
    L1001=INTERNAL zener_f_check <0.2 REGION SINGULAR ABUT<90 
    L46475=SIZE zener_f_check BY -0.1
    L1002=SIZE L46475 BY 0.1
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

zener_hvdmy=HVDMY_drc ENCLOSE zener_sn
ZENER.g {
    @Min extension from HVDMY to PTM must be >= 2um
    L1001=ENC zener_ptm_ring zener_hvdmy <2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

zener_poly_hole=HOLES zener_poly_ring INNER
cathode_10x1=RECTANGLE zener_poly_hole ==10 BY ==1
ZENER.LxW {
    @Cathode width must be == 10x1
    L1001=zener_poly_hole NOT cathode_10x1
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//     dnwpsub_5 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;; dnwpsub_5.a is checked in single layer rules
//;; dnwpsub_5.b is checked in single layer rules

ndiff_dio=AND ndiff DIODE_mark
dnwdio=ENCLOSE TB_drc ndiff_dio
dnwpw=NOT INTERACT dnwdio DN_drc
dnwpw5=OUTSIDE dnwpw HVDMY_drc
dnwpsub_5_ndiff=AND dnwpw5 TO_drc

dnwpsub_5.c {
    @Min extension from TB to TO must be >= 0.18um
    L1001=ENC dnwpsub_5_ndiff TB_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dnwpsub_5.t {
    @Min space between TO must be >= 0.4um
    L1001=EXT dnwpsub_5_ndiff TO_drc <0.4 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//     dpwdn_5 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

tb_hole=HOLES TB_drc INNER
dnndiff=AND pdiff DIODE_mark
ddepdio=ENCLOSE DN_drc dnndiff
ddnwpw=(AND ddepdio tb_hole) NOT HVDMY_drc
ddnwpw_to=AND TO_drc ddnwpw
ddnwpw_tb=TB_drc INTERACT ddnwpw

dpwdn_5.a {
    @Min extension from SN to TO must be >= 0.18um
    L1001=ENC (TO_drc AND ddnwpw_tb) SN_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpwdn_5.b {
    @Min extension from SP to TO must be >= 0.18um
    L1001=ENC ddnwpw_to SP_drc  <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpwdn_5.c {
    @Min extension from TB to TO must be >= 0.45um
    L1001=ENC TO_drc ddnwpw_tb <0.45 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpwdn_5.t {
    @Min space between TO must be >= 0.9um
    L1001=EXT ddnwpw_to TO_drc <0.9 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                              dpbhn diode rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
dpbhn_pdiff1=pdiff AND DIODE_mark
dpbhn_pdiff2=((dpbhn_pdiff1 AND PB_drc) AND HN_drc) AND HVDMY_drc
dpbhn_pdiff3=dpbhn_pdiff2 INSIDE (HOLES TB_drc INNER)
dpbhn_pdiff=(dpbhn_pdiff3 NOT PTM_drc) NOT INTERACT PM_drc
dpbhn_pdiff_to=TO INTERACT dpbhn_pdiff

dpbhn_nwell_hole=(HOLES TB_drc INNER) ENCLOSE dpbhn_pdiff
dpbhn_nwell=TB_drc TOUCH dpbhn_nwell_hole
dpbhn_nwell_to=AND TO_drc dpbhn_nwell

dpbhn.a {
    @Min extension from SN to TO must be >= 0.18um
    L1001=ENC dpbhn_nwell_to SN_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpbhn.b {
    @Min extension from SP to TO must be >= 0.18um
    L1001=ENC dpbhn_pdiff_to SP_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpbhn.c {
    @Min extension from TB to TO must be >= 0.3um
    L1001=ENC ndiff dpbhn_nwell <0.3 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;; dpbhn.d is checked in HN.d
//;; dpbhn.e is checked in PTM.c
//;; dpbhn.f is checked in PB.d
//;; dpbhn.g is checked in HN.c
//;; dpbhn.h is checked in PTM.b

dpbhn_pb=PB_drc ENCLOSE dpbhn_pdiff 
dpbhn.t {
    @Min space from PB to TB must be >= 2.5um
    L1001=EXT dpbhn_pb dpbhn_nwell <2.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                              dpmhn diode rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
dpmhn_pdiff1=pdiff AND DIODE_mark
dpmhn_pdiff2=((dpmhn_pdiff1 AND PM_drc) AND HN_drc) AND HVDMY_drc
dpmhn_pdiff3=dpmhn_pdiff2 INSIDE (HOLES TB_drc INNER)
dpmhn_pdiff=(dpmhn_pdiff3 NOT PTM_drc) NOT INTERACT PB_drc
dpmhn_pdiff_to=TO INTERACT dpmhn_pdiff

dpmhn_nwell_hole=(HOLES TB_drc INNER) ENCLOSE dpmhn_pdiff
dpmhn_nwell=TB_drc TOUCH dpmhn_nwell_hole
dpmhn_nwell_to=AND TO_drc dpmhn_nwell

dpmhn.a {
    @Min extension from SN to TO must be >= 0.18um
    L1001=ENC dpmhn_nwell_to SN_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpmhn.b {
    @Min extension from SP to TO must be >= 0.18um
    L1001=ENC dpmhn_pdiff_to SP_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dpmhn.c {
    @Min extension from TB to TO must be >= 0.3um
    L1001=ENC ndiff dpmhn_nwell <0.3 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;; dpmhn.d is checked in HN.d

dpmhn_hn=HN_drc ENCLOSE dpmhn_pdiff
dpmhn_hvdmy=HVDMY_drc ENCLOSE dpmhn_pdiff
dpmhn.e {
    @Min extension from HVDMY to HN must be >= 2.0um
    L1001=ENC dpmhn_hn dpmhn_hvdmy <2.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;; dpmhn.f is checked in PM.d
//;; dpmhn.g is checked in HN.c
//;; dpmhn.h is checked in PTM.b

dpmhn_pm=PM_drc ENCLOSE dpmhn_pdiff
dpmhn.t {
    @Min space from PM to TB must be >= 2.5um
    L1001=EXT dpmhn_pm dpmhn_nwell <2.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;; dpmhn other rule has been checked by single layer rules

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//         dhnpsub diode rules have been checked by single layer rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

dhnpsub_ndiff1=ndiff AND DIODE_mark
dhnpsub_ndiff2=(dhnpsub_ndiff1 AND HN_drc) AND HVDMY_drc
dhnpsub_ndiff3=dhnpsub_ndiff2 INSIDE ptm_hole
dhnpsub_rec=dhnpsub_ndiff3 NOT PTM_drc
dhnpsub_rec_to=TO_drc INTERACT dhnpsub_rec
dhnpsub_ptm_hole=ptm_hole INTERACT dhnpsub_rec
dhnpsub_ptm=TOUCH PTM_drc dhnpsub_ptm_hole
dhnpsub_ptm_to=AND TO_drc dhnpsub_ptm

dhnpsub.a {
    @Min extension from SN to TO must be >= 0.18um
    L1001=ENC dhnpsub_rec_to SN_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

dhnpsub.b {
    @Min extension from SP to TO must be >= 0.18um
    L1001=ENC dhnpsub_ptm_to SP_drc <0.18 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;; dhnpsub.c is checked in HN.d
//;; dhnpsub.d is checked in HN.c
//;; dhnpsub.e is checked in PTM.c

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 dz_10x1_pzp rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
zener_rec1=SP_drc INTERACT DIODE_mark
zener_rec2=(zener_rec1 AND HN_drc) AND HVDMY_drc
zener_rec3=(zener_rec2 AND TB_drc) INSIDE (HOLES PTM_drc INNER)
zener_rec=(zener_rec3 AND TO_drc) AND ZP_drc

dz_10x1_pzp.L_W {
    @Min and max ZP length must be == 1um
    @Min and max ZP width must be == 10um
    L1001=NOT RECTANGLE zener_rec ==1 BY ==10 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

zener_anode_to=TO_drc ENCLOSE zener_rec
zener_anode_to_no_rec=NOT zener_anode_to zener_rec

dz_10x1_pzp.b {
    @Min and max extension from anode TO to ZP must be == 0.5um
    L1001=SIZE zener_anode_to_no_rec BY 0.25 UNDEROVER
    L1002=ENC zener_rec zener_anode_to <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; dz_10x1_pzp.n1 has been checked by HN.d

zener_tb=TB_drc ENCLOSE zener_rec
zener_cathode_to=TOUCH ndiff ((HOLES ndiff INNER) ENCLOSE zener_rec)
zener_cathode_to_no_anode_to=NOT (HOLES zener_cathode_to INNER) zener_anode_to

dz_10x1_pzp.n2 {
    @Min extension from TB to cathode TO must be >= 0.3um
    L1001=ENC zener_cathode_to zener_tb <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; dz_10x1_pzp.p1 has been checked by HN.c
//;;; dz_10x1_pzp.p2 has been checked by PTM.b

dz_10x1_pzp.p3 {
    @Min and max space between cathode TO and anode TO must be ==0.5um
    L1001=SIZE zener_cathode_to_no_anode_to BY 0.25 UNDEROVER
    L1002=EXT zener_cathode_to zener_anode_to <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; dz_10x1_pzp.g has been checked by PTM.c

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                 dsbpp_14d4x14d4_3t rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
/*
dsbpp_ndiff1=AND (CUT (NOT INTERACT (NOT INTERACT TO_drc SN_drc) SP_drc) GT_drc) DIODE_mark
dsbpp_ndiff2=(dsbpp_ndiff1 AND HN_drc) AND HVDMY_drc
dsbpp_ndiff3=dsbpp_ndiff2 ENCLOSE ptm_hole
dsbpp_rec=dsbpp_ndiff3 ENCLOSE PTM_drc

dsbpp.L_W {
    @Min and max anode TO length must be == 14.4um
    @Min and max anode TO width must be == 14.4um
    L1001=NOT RECTANGLE dsbpp_rec ==14.4 BY ==14.4 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

dsbpp_ptm=INSIDE PTM_drc dsbpp_rec

dsbpp.L1_W1 {
    @Min and max PTM island length must be == 0.8um
    @Min and max PTM island width must be == 0.8um
    L1001=NOT RECTANGLE dsbpp_ptm ==0.8 BY ==0.8 ORTHOGONAL ONLY
    NOT INSIDE L1001 EXCL
}

dsbpp_no_ptm=NOT dsbpp_rec PTM_drc

dsbpp.S1_S2 {
    @Min and max space between anode PTM islands must be == 1.0um
    @Min and max space between anode PTM islands to PTM ring must be == 1.0um
    L1001=SIZE dsbpp_no_ptm BY 0.5 UNDEROVER
    L1002=INTERNAL dsbpp_no_ptm <1.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

dsbpp_gt_ptm=CUT (AND GT_drc PTM_drc) dsbpp_rec

dsbpp.a {
    @Min and max overlap between GT and anode PTM ring must be == 0.6um
    L1001=SIZE dsbpp_gt_ptm BY 0.3 UNDEROVER
    L1002=INTERNAL dsbpp_gt_ptm <0.6 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

dsbpp_gt=CUT GT_drc dsbpp_rec
dsbpp_ptm_ring=CUT PTM_drc dsbpp_rec
dsbpp_gt_no_ptm=NOT dsbpp_gt dsbpp_ptm_ring

dsbpp.b {
    @Min and max extension of GT beyond anode PTM ring must be == 1.0um
    L1001=SIZE dsbpp_gt_no_ptm BY 0.5 UNDEROVER
    L1002=ENC dsbpp_ptm_ring dsbpp_gt <1.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

dsbpp_ndiff_hole=ENCLOSE (HOLES ndiff INNER) dsbpp_rec
dsbpp_ndiff_ptm1=OR dsbpp_ptm_ring dsbpp_rec
dsbpp_ndiff_ptm=NOT dsbpp_ndiff_hole dsbpp_ndiff_ptm1

dsbpp.c {
    @Min and max space between cathode TO and anode PTM ring must be == 2.0um
    L1001=SIZE dsbpp_ndiff_ptm BY 1.0 UNDEROVER
    L1002=ENC dsbpp_ndiff_ptm1 dsbpp_ndiff_hole <2.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

dsbpp_ptm_hole=HOLES dsbpp_ptm_ring INNER
dsbpp_ptm_to=AND dsbpp_ptm_ring dsbpp_rec

dsbpp.f {
    @Min and max overlap between anode PTM ring and TO must be == 0.4um
    L1001=SIZE dsbpp_ptm_to BY 0.2 UNDEROVER
    L1002=ENC dsbpp_ptm_hole dsbpp_rec <0.4 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

dsbpp_ndiff=OR ndiff dsbpp_ndiff_hole
dsbpp_hn=ENCLOSE HN_drc dsbpp_rec

dsbpp.n1 {
    @Min extension of HN beyond cathode TO must be >= 1.8um
    L1001=ENC dsbpp_ndiff dsbpp_hn <1.8 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

dsbpp_tb_hole=ENCLOSE (HOLES TB_drc INNER) dsbpp_rec
dsbpp_tb=INTERACT TB_drc dsbpp_ndiff_hole

dsbpp.n2 {
    @Min extension of TB beyond cathode TO must be >= 0.3um
    L1001=ENC dsbpp_ndiff dsbpp_tb <0.3 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

dsbpp_pdiff_hole=ENCLOSE (HOLES pdiff INNER) dsbpp_rec
dsbpp_pdiff=INTERACT pdiff dsbpp_pdiff_hole

dsbpp.p1 {
    @Min space between HN and psub TO must be >= 2.5um
    L1001=ENC dsbpp_hn dsbpp_pdiff_hole <2.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

dsbpp_ptm_pdiff=INTERACT PTM_drc dsbpp_pdiff

dsbpp.p2 {
    @Min extension of PTM beyond psub TO must be >= 0.5um
    L1001=ENC dsbpp_pdiff dsbpp_ptm_pdiff <0.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

dsbpp_ptm_no_to=NOT dsbpp_ptm_ring dsbpp_rec

dsbpp.p3 {
    @Min extension of PTM ring beyond anode TO must be >= 0.4um
    L1001=INT dsbpp_ptm_no_to <0.4 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}
*/
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvnptm rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvnptm_e1=(ndiff AND BJT_mark) AND PTM_drc
qvnptm_e2=(qvnptm_e1 AND HN_drc) NOT TB_drc
qvnptm_e=qvnptm_e2 AND HVDMY_drc

qvnptm_mid_ptm=PTM_drc ENCLOSE qvnptm_e
qvnptm_baseP=pdiff INSIDE qvnptm_mid_ptm
qvnptm_hn=HN_drc ENCLOSE qvnptm_e
qvnptm_nwell=TB_drc INSIDE qvnptm_hn

qvnptm_e_size1=SIZE qvnptm_e BY 1.0
qvnptm.a {
    @Min and max space from emitter N+TO to base P+TO must be ==1.0um
    L1001=qvnptm_baseP NOT TOUCH qvnptm_e_size1
    NOT INSIDE L1001 EXCL
}

qvnptm.b {
    @Min extension from PTM to emitter N+TO must be >=1.5um
    L1001=ENC qvnptm_e qvnptm_mid_ptm <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; qvnptm.c has been checked by PTM.d

//;;; qvnptm.d has been checked by HN.d

//;;; qvnptm.e has been checked by PTM.b

//;;; qvnptm.f has been checked by PTM.c

//;;; qvnptm.g has been checked by HN.c

qvnptm_e2x2=RECTANGLE qvnptm_e ==2 BY ==2
qvnptm_e5x5=RECTANGLE qvnptm_e ==5 BY ==5
qvnptm_e10x10=RECTANGLE qvnptm_e ==10 BY ==10
qvnptm.LxW {
    @Min and max emitter must be 2x2,5x5,10x10
    L1001=qvnptm_e NOT qvnptm_e2x2
    L1002=L1001 NOT qvnptm_e5x5
    L1003=L1002 NOT qvnptm_e10x10
    NOT INSIDE L1003 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvnpm rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvnpm_e1=(ndiff AND BJT_mark) AND (PM_drc ENCLOSE pdiff)
qvnpm_e2=(qvnpm_e1 AND HN_drc) NOT TB_drc
qvnpm_e=(qvnpm_e2 AND HVDMY_drc) NOT PTM_drc

qvnpm_mid_pm=PM_drc ENCLOSE qvnpm_e
qvnpm_baseP=pdiff INSIDE qvnpm_mid_pm
qvnpm_hn=HN_drc ENCLOSE qvnpm_e
qvnpm_nwell=TB_drc INSIDE qvnpm_hn

qvnpm_e_size1=SIZE qvnpm_e BY 1.0
qvnpm.a {
    @Min and max space from emitter N+TO to base P+TO must be ==1.0um
    L1001=qvnpm_baseP NOT TOUCH qvnpm_e_size1
    NOT INSIDE L1001 EXCL
}

qvnpm.b {
    @Min extension from PM to emitter N+TO must be >=1.5um
    L1001=ENC qvnpm_e qvnpm_mid_pm <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

qvnpm.c {
    @Min space from PM to TB must be >=1.5um
    L1001=EXT qvnpm_nwell qvnpm_mid_pm <1.5 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;; qvnpm.d has been checked by HN.d

//;;; qvnpm.e has been checked by PTM.b

//;;; qvnpm.f has been checked by PTM.c

//;;; qvnpm.g has been checked by HN.c

qvnpm_e10x10=RECTANGLE qvnpm_e ==10 BY ==10
qvnpm.LxW {
    @Min and max emitter must be 10x10
    L1001=qvnpm_e NOT qvnpm_e10x10
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvn5 rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvn5_e1=(ndiff AND BJT_mark) NOT TB_drc
qvn5_e2=((qvn5_e1 NOT HVDMY_drc) NOT HN_drc) AND DN_drc
qvn5_e=qvn5_e2 INSIDE (HOLES pdiff INNER)

qvn5_pdiff_hole=(HOLES pdiff INNER) ENCLOSE qvn5_e
qvn5_base_pdiff=pdiff TOUCH qvn5_pdiff_hole
qvn5_a_check=(HOLES qvn5_base_pdiff INNER) NOT qvn5_e
qvn5.a {
    @Min and max space from emitter N+TO to base P+TO must be ==0.44um
    L1001=INTERNAL qvn5_a_check <0.44 REGION SINGULAR ABUT<90 
    L46475=SIZE qvn5_a_check BY -0.22
    L1002=SIZE L46475 BY 0.22
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qvn5_tb_hole=(HOLES TB_drc INNER) ENCLOSE qvn5_e
qvn5_tb=TB_drc TOUCH qvn5_tb_hole
qvn5.b {
    @Min extension from TB to base P+TO must be >=0.2um
    L1001=EXT qvn5_tb qvn5_base_pdiff <0.2 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;; qvn5.c has been checked by DN.d

//;;; qvn5.d has been checked by DN.e

qvn5_e2x2=RECTANGLE qvn5_e ==2 BY ==2
qvn5_e5x5=RECTANGLE qvn5_e ==5 BY ==5
qvn5_e10x10=RECTANGLE qvn5_e ==10 BY ==10
qvn5_ed6xd6=RECTANGLE qvn5_e ==0.6 BY ==0.6
qvn5.LxW {
    @Min and max emitter must be d6xd6,2x2,5x5,10x10
    L1001=qvn5_e NOT qvn5_e2x2
    L1002=L1001 NOT qvn5_e5x5
    L1003=L1002 NOT qvn5_e10x10
    L1004=L1003 NOT qvn5_ed6xd6
    NOT INSIDE L1004 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvpp rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvpp_e1=(pdiff AND BJT_mark) NOT PTM_drc
qvpp_e2=(qvpp_e1 AND HN_drc) NOT TB_drc
qvpp_e=((qvpp_e2 AND HVDMY_drc) NOT PB_drc) NOT PM_drc

qvpp_nwell_hole=(HOLES TB_drc INNER) ENCLOSE qvpp_e
qvpp_nwell=TB_drc TOUCH qvpp_nwell_hole
qvpp_a_check=(HOLES qvpp_nwell INNER) NOT qvpp_e
qvpp.a {
    @Min and max space from TB to emitter P+TO must be ==1.0um
    L1001=INTERNAL qvpp_a_check <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE qvpp_a_check BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; qvpp.b has been checked by HN.d

//;;; qvpp.c has been checked by HN.c

//;;; qvpp.d has been checked by PTM.b

//;;; qvpp.e has been checked by PTM.c

qvpp_e2x2=RECTANGLE qvpp_e ==2 BY ==2
qvpp_e5x5=RECTANGLE qvpp_e ==5 BY ==5
qvpp_e10x10=RECTANGLE qvpp_e ==10 BY ==10
qvpp.LxW {
    @Min and max emitter must be 2x2,5x5,10x10
    L1001=qvpp_e NOT qvpp_e2x2
    L1002=L1001 NOT qvpp_e5x5
    L1003=L1002 NOT qvpp_e10x10
    NOT INSIDE L1003 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvppm rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvppm_e=((qvpp_e2 AND HVDMY_drc) NOT PB_drc) AND (PM_drc NOT ENCLOSE ndiff)

qvppm_pm=PM_drc ENCLOSE qvppm_e
qvppm_nwell_hole=(HOLES TB_drc INNER) ENCLOSE qvppm_e
qvppm_nwell=TB_drc TOUCH qvppm_nwell_hole
qvppm_a_check=(HOLES qvppm_nwell INNER) NOT qvppm_pm
qvppm.a {
    @Min and max space from TB to emitter PM must be ==1.0um
    L1001=INTERNAL qvppm_a_check <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE qvppm_a_check BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; qvppm.b has been checked by HN.d

//;;; qvppm.c has been checked by HN.c

//;;; qvppm.d has been checked by PTM.b

//;;; qvppm.e has been checked by PTM.c

//;;; qvppm.f has been checked by PM.d

qvppm_e2x2=RECTANGLE qvppm_e ==2 BY ==2
qvppm_e5x5=RECTANGLE qvppm_e ==5 BY ==5
qvppm_e10x10=RECTANGLE qvppm_e ==10 BY ==10
qvppm.LxW {
    @Min and max emitter must be 2x2,5x5,10x10
    L1001=qvppm_e NOT qvppm_e2x2
    L1002=L1001 NOT qvppm_e5x5
    L1003=L1002 NOT qvppm_e10x10
    NOT INSIDE L1003 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvpptm rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvpptm_e1=(pdiff AND BJT_mark) AND (PTM_drc NOT ENCLOSE ndiff)
qvpptm_e2=(qvpptm_e1 AND HN_drc) NOT TB_drc
qvpptm_e3=((qvpptm_e2 AND HVDMY_drc) NOT PB_drc) NOT PM_drc
qvpptm_e=qvpptm_e3 INSIDE (HOLES TB_drc INNER)

qvpptm_ptm=PTM_drc ENCLOSE qvpptm_e
qvpptm_nwell_hole=(HOLES TB_drc INNER) ENCLOSE qvpptm_e
qvpptm_nwell=TB_drc TOUCH qvpptm_nwell_hole
qvpptm_a_check=(HOLES qvpptm_nwell INNER) NOT qvpptm_ptm
qvpptm.a {
    @Min and max space from TB to emitter PTM must be ==1.0um
    L1001=INTERNAL qvpptm_a_check <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE qvpptm_a_check BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; qvpptm.b has been checked by HN.d

//;;; qvpptm.c has been checked by HN.c

//;;; qvpptm.d has been checked by PTM.b

//;;; qvpptm.e has been checked by PTM.c

//;;; qvpptm.f has been checked by PTM.b

qvpptm_e2x2=RECTANGLE qvpptm_e ==2 BY ==2
qvpptm_e5x5=RECTANGLE qvpptm_e ==5 BY ==5
qvpptm_e10x10=RECTANGLE qvpptm_e ==10 BY ==10
qvpptm.LxW {
    @Min and max emitter must be 2x2,5x5,10x10
    L1001=qvpptm_e NOT qvpptm_e2x2
    L1002=L1001 NOT qvpptm_e5x5
    L1003=L1002 NOT qvpptm_e10x10
    NOT INSIDE L1003 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvppb rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvppb_e=((qvpp_e2 AND HVDMY_drc) AND PB_drc) NOT PM_drc

qvppb_pb=PB_drc ENCLOSE qvppb_e
qvppb_nwell_hole=(HOLES TB_drc INNER) ENCLOSE qvppb_e
qvppb_nwell=TB_drc TOUCH qvppb_nwell_hole
qvppb_a_check=(HOLES qvppb_nwell INNER) NOT qvppb_pb
qvppb.a {
    @Min and max space from TB to emitter PB must be ==1.0um
    L1001=INTERNAL qvppb_a_check <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE qvppb_a_check BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; qvppb.b has been checked by HN.d

//;;; qvppb.c has been checked by HN.c

//;;; qvppb.d has been checked by PTM.b

//;;; qvppb.e has been checked by PTM.c

//;;; qvppb.f has been checked by PB.d

qvppb_e2x2=RECTANGLE qvppb_e ==2 BY ==2
qvppb_e5x5=RECTANGLE qvppb_e ==5 BY ==5
qvppb_e10x10=RECTANGLE qvppb_e ==10 BY ==10
qvppb.LxW {
    @Min and max emitter must be 2x2,5x5,10x10
    L1001=qvppb_e NOT qvppb_e2x2
    L1002=L1001 NOT qvppb_e5x5
    L1003=L1002 NOT qvppb_e10x10
    NOT INSIDE L1003 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                qvp5 rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qvp5_e1=(pdiff AND BJT_mark) AND TB_drc
qvp5_e2=((qvp5_e1 NOT HVDMY_drc) NOT HN_drc) NOT DN_drc
qvp5_e=qvp5_e2 INSIDE (HOLES ndiff INNER)

qvp5_nwell_hole=(HOLES ndiff INNER) ENCLOSE qvp5_e
qvp5_base_ndiff=ndiff TOUCH qvp5_nwell_hole
qvp5_a_check=(HOLES qvp5_base_ndiff INNER) NOT qvp5_e
qvp5.a {
    @Min and max space from emitter P+TO to base N+TO must be ==0.44um
    L1001=INTERNAL qvp5_a_check <0.44 REGION SINGULAR ABUT<90 
    L46475=SIZE qvp5_a_check BY -0.22
    L1002=SIZE L46475 BY 0.22
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;;; qvp5.b has been checked by TO.d

qvp5_e2x2=RECTANGLE qvp5_e ==2 BY ==2
qvp5_e5x5=RECTANGLE qvp5_e ==5 BY ==5
qvp5_e10x10=RECTANGLE qvp5_e ==10 BY ==10
qvp5_ed6xd6=RECTANGLE qvp5_e ==0.6 BY ==0.6
qvp5.LxW {
    @Min and max emitter must be d6xd6,2x2,5x5,10x10
    L1001=qvp5_e NOT qvp5_e2x2
    L1002=L1001 NOT qvp5_e5x5
    L1003=L1002 NOT qvp5_e10x10
    L1004=L1003 NOT qvp5_ed6xd6
    NOT INSIDE L1004 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                capnmos rules have been checked by single layer rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;;capnmos.a is checked in GT.c
//;;capnmos.b is checked in GT.e
//;;capnmos.t is checked in SN.k/SP.k

capnmos.L {
     @ Min capacitor length must be >=0.5um
     L1001=INTERNAL ngate_l_edge <0.5 REGION ABUT<90 
     NOT INSIDE ((L1001 AND TB_drc) INTERACT CAP_mark) EXCL
}
//;; NOTE: model request the length range of capnmos: 2~500um
capnmos_l_edge=NOT COINCIDENT INSIDE EDGE ((ngate INTERACT CAP_mark) NOT INSIDE EXCL) TO_drc
capnmos.W {
     @ Min capacitor length must be >=2.0um
     LENGTH capnmos_l_edge <2.0  
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                       esd_mn_io device rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

esd_mn_io_gate1=ngate INSIDE (ESD_mark NOT ENCLOSE RES_PY_mark)
esd_mn_io_gate=esd_mn_io_gate1 INTERACT SI_drc

esd_mn_io_to=(ndiff ENCLOSE esd_mn_io_gate) AND ESD_mark

esdmn_io_w=(esd_mn_io_gate NOT INSIDE EXCL) INSIDE EDGE (TO_drc NOT INSIDE EXCL)
esdmn_l=(esd_mn_io_gate NOT INSIDE EXCL) COIN EDGE (TO_drc NOT INSIDE EXCL)
esdmn_to_prop=DFM PROPERTY esd_mn_io_to esdmn_io_w overlap abut also multi 
               [min_v=336*2/count(esdmn_io_w)]
esdmn_w_ex=EXPAND EDGE esdmn_io_w OUTSIDE BY 0.001
esdmn_w_err=DFM PROPERTY esdmn_w_ex esdmn_to_prop esdmn_io_w overlap abut also multi 
               [-=length(esdmn_io_w)-property(esdmn_to_prop, min_v)] <0

esd_mn_io.W1 {
      @Every fingers width should be the same, 20um~60um
      LENGTH esdmn_io_w <20 
      LENGTH esdmn_io_w >60 <999 
      L1001=NOT RECTANGLE esd_mn_io_to
      NOT INSIDE L1001 EXCL
}

esd_mn_io.W2 {
      @Total fingers width must be >=336um
      (esdmn_w_err NOT INSIDE EXCL) coin edge (esd_mn_io_gate NOT INSIDE EXCL)
}

esd_pdiff_hole=HOLES pdiff INNER
esdmn_pickRing=pdiff TOUCH (esd_pdiff_hole ENCLOSE esd_mn_io_gate)
esd_mn_io.J {
      @Pick up ring width must be >=1.0 um
      L1001=INT esdmn_pickRing <1.0 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_io.B {
      @Drain diffusion edge to pick up ring edge must be >=1.0 um
      L1001=EXT esdmn_pickRing esd_mn_io_to <1.0 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_io.L {
      @Channel length must be >=0.9 um
      LENGTH esdmn_l <0.9
}

esd_mn_io_sab=SI_drc INTERACT esd_mn_io_gate
esd_mn_io.S {
      @Min clearance from SI to GT must be >=1.5 um
      L1001=ENC esdmn_io_w esd_mn_io_sab <1.5 REGION ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_io_d_check=esd_mn_io_sab AND esd_mn_io_gate
esd_mn_io.D {
      @Min SI overlap GT must be >=0.05 um
      L1001=INT esd_mn_io_d_check <0.05 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_io.N {
      @Min clearance from SI to TO must be >=1.5 um
      L1001=INT esd_mn_io_sab esd_mn_io_to <1.5 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_io_source=(esd_mn_io_to NOT GT_drc) NOT INTERACT esd_mn_io_sab
esd_mn_io_source_cont=W1_drc AND esd_mn_io_source
esd_mn_io.X {
      @Min source side contact to GT space must be >=0.75 um
      L1001=EXT esd_mn_io_source_cont esd_mn_io_gate <0.75 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_io_to_edge=esd_mn_io_to TOUCH EDGE esdmn_l
esd_mn_io.Y {
      @Min source side contact to TO space must be >=0.75 um
      L1001=ENC esd_mn_io_source_cont esd_mn_io_to_edge <0.75 REGION ABUT<90
      NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                       esd_mn_pp device rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

esd_mn_pp_gate1=ngate INSIDE (ESD_mark ENCLOSE RES_PY_mark)
esd_mn_pp_gate=esd_mn_pp_gate1 INTERACT SI_drc

esd_mn_pp_to=(ndiff ENCLOSE esd_mn_pp_gate) AND ESD_mark

esdmn_pp_w=(esd_mn_pp_gate NOT INSIDE EXCL) INSIDE EDGE (TO_drc NOT INSIDE EXCL)
esdmn_pp_l=(esd_mn_pp_gate NOT INSIDE EXCL) COIN EDGE (TO_drc NOT INSIDE EXCL)
esdmn_to_pp_5v_prop=DFM PROPERTY esd_mn_pp_to esdmn_pp_w overlap abut also multi 
               [min_v=360*2/count(esdmn_pp_w)]
esdmn_pp_w_ex=EXPAND EDGE esdmn_pp_w OUTSIDE BY 0.001
esdmn_pp_w_5v_err=DFM PROPERTY esdmn_pp_w_ex esdmn_to_pp_5v_prop esdmn_pp_w overlap abut also multi 
               [-=length(esdmn_pp_w)-property(esdmn_to_pp_5v_prop, min_v)] <0

esd_mn_pp.W1 {
      @Every fingers width should be the same, 20um~60um
      LENGTH esdmn_pp_w <20 
      LENGTH esdmn_pp_w >60 <999 
      L1001=NOT RECTANGLE esd_mn_pp_to
      NOT INSIDE L1001 EXCL
}

esd_mn_pp.W2 {
      @Total fingers width must be >=360um
      (esdmn_pp_w_5v_err NOT INSIDE EXCL) coin edge (esd_mn_pp_gate NOT INSIDE EXCL)
}

esdmn_pp_pickRing=pdiff TOUCH (esd_pdiff_hole ENCLOSE esd_mn_pp_gate)
esd_mn_pp.J {
      @Pick up ring width must be >=1.0 um
      L1001=INT esdmn_pp_pickRing <1.0 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_pp.B {
      @Drain diffusion edge to pick up ring edge must be >=1.0 um
      L1001=EXT esdmn_pp_pickRing esd_mn_pp_to <1.0 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_pp.L {
      @Channel length must be >=0.9 um
      LENGTH esdmn_pp_l <0.9
}

esd_mn_pp_sab=SI_drc INTERACT esd_mn_pp_gate
esd_mn_pp.S {
      @Min clearance from SI to GT must be >=1.5 um
      L1001=ENC esdmn_pp_w esd_mn_pp_sab <1.5 REGION ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_pp.N {
      @Min clearance from SI to TO must be >=1.5 um
      L1001=INT esd_mn_pp_sab esd_mn_pp_to <1.5 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mn_pp_source=(esd_mn_pp_to NOT GT_drc) NOT INTERACT esd_mn_pp_sab
esd_mn_pp_source_cont=W1_drc AND esd_mn_pp_source
esd_mn_pp.X {
      @Min source side contact to GT space must be >=0.75 um
      L1001=EXT esd_mn_pp_source_cont esd_mn_pp_gate <0.75 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                       esd_mp_io device rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

esd_mp_io_gate1=pgate INSIDE (ESD_mark NOT ENCLOSE RES_PY_mark)
esd_mp_io_gate=esd_mp_io_gate1 INTERACT SI_drc

esd_mp_io_to=(pdiff ENCLOSE esd_mp_io_gate) AND ESD_mark

esdmp_io_w=(esd_mp_io_gate NOT INSIDE EXCL) INSIDE EDGE (TO_drc NOT INSIDE EXCL)
esdmp_l=(esd_mp_io_gate NOT INSIDE EXCL) COIN EDGE (TO_drc NOT INSIDE EXCL)
esdmp_to_prop=DFM PROPERTY esd_mp_io_to esdmp_io_w overlap abut also multi 
               [min_v=504*2/count(esdmp_io_w)]
esdmp_w_ex=EXPAND EDGE esdmp_io_w OUTSIDE BY 0.001
esdmp_w_err=DFM PROPERTY esdmp_w_ex esdmp_to_prop esdmp_io_w overlap abut also multi 
               [-=length(esdmp_io_w)-property(esdmp_to_prop, min_v)] <0

esd_mp_io.W1 {
      @Every fingers width should be the same, 20um~60um
      LENGTH esdmp_io_w <20 
      LENGTH esdmp_io_w >60 <999 
      L1001=NOT RECTANGLE esd_mp_io_to
      NOT INSIDE L1001 EXCL
}

esd_mp_io.W2 {
      @Total fingers width must be >=504um
      (esdmp_w_err NOT INSIDE EXCL) coin edge (esd_mp_io_gate NOT INSIDE EXCL)
}

esd_ndiff_hole=HOLES ndiff INNER
esdmp_pickRing=ndiff TOUCH (esd_ndiff_hole ENCLOSE esd_mp_io_gate)
esd_mp_io.J {
      @Pick up ring width must be >=1.0 um
      L1001=INT esdmp_pickRing <1.0 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mp_io.B {
      @Drain diffusion edge to pick up ring edge must be >=1.0 um
      L1001=EXT esdmp_pickRing esd_mp_io_to <1.0 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mp_io.L {
      @Channel length must be >=0.9 um
      LENGTH esdmp_l <0.9
}

esd_mp_io_sab=SI_drc INTERACT esd_mp_io_gate
esd_mp_io.S {
      @Min clearance from SI to GT must be >=1.5 um
      L1001=ENC esdmp_io_w esd_mp_io_sab <1.5 REGION ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mp_io_d_check=esd_mp_io_sab AND esd_mp_io_gate
esd_mp_io.D {
      @Min SI overlap GT must be >=0.05 um
      L1001=INT esd_mp_io_d_check <0.05 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mp_io.N {
      @Min clearance from SI to TO must be >=1.5 um
      L1001=INT esd_mp_io_sab esd_mp_io_to <1.5 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mp_io_source=(esd_mp_io_to NOT GT_drc) NOT INTERACT esd_mp_io_sab
esd_mp_io_source_cont=W1_drc AND esd_mp_io_source
esd_mp_io.X {
      @Min source side contact to GT space must be >=0.75 um
      L1001=EXT esd_mp_io_source_cont esd_mp_io_gate <0.75 REGION SINGULAR ABUT<90
      NOT INSIDE L1001 EXCL
}

esd_mp_io_to_edge=esd_mp_io_to TOUCH EDGE esdmp_l
esd_mp_io.Y {
      @Min source side contact to TO space must be >=0.75 um
      L1001=ENC esd_mp_io_source_cont esd_mp_io_to_edge <0.75 REGION ABUT<90
      NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                esd_qlp_7v_9v_sp_nw_3t rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qlp_sp_tb_7_9_hn1=((HN_drc AND ESD_mark) AND HVDMY_drc) AND ptm_hole
qlp_sp_tb_7_9_hn2=qlp_sp_tb_7_9_hn1 ENCLOSE TB_drc ==1
qlp_sp_tb_7_9_hn3=qlp_sp_tb_7_9_hn2 NOT ENCLOSE GT_drc
qlp_sp_tb_7_9_hn=qlp_sp_tb_7_9_hn3 ENCLOSE HV_7V

qlp_sp_tb_7_9_nwell=TB_drc INSIDE qlp_sp_tb_7_9_hn
qlp_sp_tb_7_9_pdiff=pdiff INSIDE qlp_sp_tb_7_9_nwell
qlp_sp_tb_7_9_w=LENGTH (qlp_sp_tb_7_9_pdiff NOT INSIDE EXCL) >5.0
esd_qlp_7v_9v_sp_nw.w{
    @Every finger width of P+TO of both collector and emitter must be ==60~120um
    LENGTH qlp_sp_tb_7_9_w <60
    LENGTH qlp_sp_tb_7_9_w >120
}

qlp_sp_tb_7_9_prop=DFM PROPERTY qlp_sp_tb_7_9_hn qlp_sp_tb_7_9_w overlap abut also multi 
               [min_v=1440/((count(qlp_sp_tb_7_9_w)-2)/2)]
qlp_sp_tb_7_9_w_ex=EXPAND EDGE qlp_sp_tb_7_9_w OUTSIDE BY 0.001
qlp_sp_tb_7_9_w_err=DFM PROPERTY qlp_sp_tb_7_9_w_ex qlp_sp_tb_7_9_prop qlp_sp_tb_7_9_w overlap abut also multi 
               [-=length(qlp_sp_tb_7_9_w)-property(qlp_sp_tb_7_9_prop, min_v)] <0

esd_qlp_7v_9v_sp_nw.TW{
    @Min total width of ESD device(TW=W*FN*2) must be >=1440 um
    (qlp_sp_tb_7_9_w_err NOT INSIDE EXCL) coin edge (qlp_sp_tb_7_9_pdiff NOT INSIDE EXCL)
}

esd_qlp_7v_9v_sp_nw.FN{
    @Finger number of emitter P+TO (emitter=collector-1) must be ==8~24
    L1001=qlp_sp_tb_7_9_nwell ENCLOSE qlp_sp_tb_7_9_pdiff <17
    L1002=qlp_sp_tb_7_9_nwell ENCLOSE qlp_sp_tb_7_9_pdiff >49
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL 
}

qlp_sp_tb_7_9_pdiff_exp=SIZE qlp_sp_tb_7_9_pdiff BY 3.0 OVERUNDER
qlp_sp_tb_7_9_pdiff_space=qlp_sp_tb_7_9_pdiff_exp NOT qlp_sp_tb_7_9_pdiff
esd_qlp_7v_9v_sp_nw.a{
    @Min and max space between collector P+TO and emitter P+TO must be ==0.3um
    L1001=INTERNAL qlp_sp_tb_7_9_pdiff_space <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_7_9_pdiff_space BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

esd_qlp_7v_9v_sp_nw.b{
    @Min and max length of P+TO of emitter and collector must be ==0.36um
    L1001=INTERNAL qlp_sp_tb_7_9_pdiff <0.36 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_7_9_pdiff BY -0.18
    L1002=SIZE L46475 BY 0.18
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_tb_7_9_cx=qlp_sp_tb_7_9_w NOT TOUCH EDGE qlp_sp_tb_7_9_pdiff_space
qlp_sp_tb_7_9_cx_exp=EXPAND EDGE qlp_sp_tb_7_9_cx OUTSIDE BY 1.5
qlp_sp_tb_7_9_cx_exp_coin=qlp_sp_tb_7_9_cx_exp coin edge qlp_sp_tb_7_9_nwell
esd_qlp_7v_9v_sp_nw.c{
    @Min and max TB beyond collector P+TO along X direction must be ==1.5um
    L1001=qlp_sp_tb_7_9_cx_exp NOT WITH EDGE qlp_sp_tb_7_9_cx_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_cy=LENGTH qlp_sp_tb_7_9_pdiff ==0.36
qlp_sp_tb_7_9_cy_exp=EXPAND EDGE qlp_sp_tb_7_9_cy OUTSIDE BY 3.0
qlp_sp_tb_7_9_cy_exp_coin=qlp_sp_tb_7_9_cy_exp coin edge qlp_sp_tb_7_9_nwell
esd_qlp_7v_9v_sp_nw.c1{
    @Min and max TB beyond collector P+TO along Y direction must be ==3.0um
    L1001=qlp_sp_tb_7_9_cy_exp NOT WITH EDGE qlp_sp_tb_7_9_cy_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_base_ndiff=ndiff INSIDE qlp_sp_tb_7_9_hn
qlp_sp_tb_7_9_nwell_x=qlp_sp_tb_7_9_nwell TOUCH EDGE qlp_sp_tb_7_9_cx_exp
qlp_sp_tb_7_9_nwell_x_exp=EXPAND EDGE qlp_sp_tb_7_9_nwell_x OUTSIDE BY 1.5
qlp_sp_tb_7_9_nwell_x_exp_coin=qlp_sp_tb_7_9_nwell_x_exp coin edge qlp_sp_tb_7_9_base_ndiff
esd_qlp_7v_9v_sp_nw.d{
    @Min and max space between TB and base N+TO along X direction must be ==1.5um
    L1001=qlp_sp_tb_7_9_nwell_x_exp NOT WITH EDGE qlp_sp_tb_7_9_nwell_x_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_nwell_y=qlp_sp_tb_7_9_nwell NOT TOUCH EDGE qlp_sp_tb_7_9_cx_exp
qlp_sp_tb_7_9_nwell_y_exp=EXPAND EDGE qlp_sp_tb_7_9_nwell_y OUTSIDE BY 2.0
qlp_sp_tb_7_9_nwell_y_exp_coin=qlp_sp_tb_7_9_nwell_y_exp coin edge qlp_sp_tb_7_9_base_ndiff
esd_qlp_7v_9v_sp_nw.d1{
    @Min and max space between TB and base N+TO along Y direction must be ==2.0um
    L1001=qlp_sp_tb_7_9_nwell_y_exp NOT WITH EDGE qlp_sp_tb_7_9_nwell_y_exp_coin
    NOT INSIDE L1001 EXCL
}

esd_qlp_7v_9v_sp_nw.e{
    @Min and max length of base N+TO must be ==0.36um
    L1001=INTERNAL qlp_sp_tb_7_9_base_ndiff <0.36 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_7_9_base_ndiff BY -0.18
    L1002=SIZE L46475 BY 0.18
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

esd_qlp_7v_9v_sp_nw.f{
    @Min extension of HN beyond base N+TO must be >=3.0um
    L1001=ENC qlp_sp_tb_7_9_base_ndiff qlp_sp_tb_7_9_hn <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE qlp_sp_tb_7_9_hn
qlp_sp_tb_7_9_ptm=PTM_drc TOUCH qlp_sp_tb_7_9_ptm_hole
esd_qlp_7v_9v_sp_nw.g{
    @Min space between HN and PTM must be >=2.5um
    L1001=EXT qlp_sp_tb_7_9_ptm qlp_sp_tb_7_9_hn <2.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_h_check=qlp_sp_tb_7_9_ptm NOT pdiff
esd_qlp_7v_9v_sp_nw.h{
    @Min and max extension of PTM beyond P+ ring must be ==0.5um
    L1001=INTERNAL qlp_sp_tb_7_9_h_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_7_9_h_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_tb_7_9_iso_pdiff=pdiff INSIDE qlp_sp_tb_7_9_ptm
esd_qlp_7v_9v_sp_nw.i{
    @Min length of P+ iso ring must be >=0.36um
    L1001=INTERNAL qlp_sp_tb_7_9_iso_pdiff <0.36 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_hvdmy=HVDMY_drc ENCLOSE qlp_sp_tb_7_9_hn
esd_qlp_7v_9v_sp_nw.j{
    @Min extension of HVDMY beyond P+ iso ring must be >=3.0um
    L1001=ENC qlp_sp_tb_7_9_iso_pdiff qlp_sp_tb_7_9_hvdmy <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_7_9_pdiff_cont=W1_drc INSIDE qlp_sp_tb_7_9_pdiff
esd_qlp_7v_9v_sp_nw.k{
    @Min extension of P+TO beyond W1 must be >=4.1um
    L1001=ENC qlp_sp_tb_7_9_pdiff_cont qlp_sp_tb_7_9_cy <4.1 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                                esd_qlp_10v_sp_nw_3t rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qlp_sp_tb_10_tb1=((TB_drc AND ESD_mark) AND HVDMY_drc) AND ptm_hole
qlp_sp_tb_10_tb2=qlp_sp_tb_10_tb1 NOT ENCLOSE GT_drc
qlp_sp_tb_10_tb3=qlp_sp_tb_10_tb2 ENCLOSE pdiff >15
qlp_sp_tb_10_tb4=qlp_sp_tb_10_tb3 NOT INTERACT HN_drc
qlp_sp_tb_10_tb=qlp_sp_tb_10_tb4 ENCLOSE HV_10V

qlp_sp_tb_10_pdiff=pdiff INSIDE qlp_sp_tb_10_tb
qlp_sp_tb_10_w=LENGTH (qlp_sp_tb_10_pdiff NOT INSIDE EXCL) >5.0
esd_qlp_10v_sp_nw.w{
    @Every finger width of P+TO of both collector and emitter must be ==60~120um
    LENGTH qlp_sp_tb_10_w <60
    LENGTH qlp_sp_tb_10_w >120
}

qlp_sp_tb_10_prop=DFM PROPERTY qlp_sp_tb_10_tb qlp_sp_tb_10_w overlap abut also multi 
               [min_v=1440/((count(qlp_sp_tb_10_w)-2)/2)]
qlp_sp_tb_10_w_ex=EXPAND EDGE qlp_sp_tb_10_w OUTSIDE BY 0.001
qlp_sp_tb_10_w_err=DFM PROPERTY qlp_sp_tb_10_w_ex qlp_sp_tb_10_prop qlp_sp_tb_10_w overlap abut also multi 
               [-=length(qlp_sp_tb_10_w)-property(qlp_sp_tb_10_prop, min_v)] <0

esd_qlp_10v_sp_nw.TW{
    @Min total width of ESD device(TW=W*FN*2) must be >=1440 um
    (qlp_sp_tb_10_w_err NOT INSIDE EXCL) coin edge (qlp_sp_tb_10_pdiff NOT INSIDE EXCL)
}

esd_qlp_10v_sp_nw.FN{
    @Finger number of emitter P+TO (emitter=collector-1) must be ==8~24
    L1001=qlp_sp_tb_10_tb ENCLOSE qlp_sp_tb_10_pdiff <17
    L1002=qlp_sp_tb_10_tb ENCLOSE qlp_sp_tb_10_pdiff >49
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL 
}

qlp_sp_tb_10_pdiff_exp=SIZE qlp_sp_tb_10_pdiff BY 3.0 OVERUNDER
qlp_sp_tb_10_pdiff_space=qlp_sp_tb_10_pdiff_exp NOT qlp_sp_tb_10_pdiff
esd_qlp_10v_sp_nw.a{
    @Min and max space between collector P+TO and emitter P+TO must be ==0.3um
    L1001=INTERNAL qlp_sp_tb_10_pdiff_space <0.3 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_10_pdiff_space BY -0.15
    L1002=SIZE L46475 BY 0.15
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

esd_qlp_10v_sp_nw.b{
    @Min and max length of P+TO of emitter and collector must be ==0.36um
    L1001=INTERNAL qlp_sp_tb_10_pdiff <0.36 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_10_pdiff BY -0.18
    L1002=SIZE L46475 BY 0.18
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_tb_10_base_ndiff=ndiff INSIDE qlp_sp_tb_10_tb
qlp_sp_tb_10_cx=qlp_sp_tb_10_w NOT TOUCH EDGE qlp_sp_tb_10_pdiff_space
qlp_sp_tb_10_cx_exp=EXPAND EDGE qlp_sp_tb_10_cx OUTSIDE BY 3.0
qlp_sp_tb_10_cx_exp_coin=qlp_sp_tb_10_cx_exp coin edge qlp_sp_tb_10_base_ndiff
esd_qlp_10v_sp_nw.c{
    @Min and max space from collector P+TO to base N+TO along X direction must be ==3.0um
    L1001=qlp_sp_tb_10_cx_exp NOT WITH EDGE qlp_sp_tb_10_cx_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_10_cy=LENGTH qlp_sp_tb_10_pdiff ==0.36
qlp_sp_tb_10_cy_exp=EXPAND EDGE qlp_sp_tb_10_cy OUTSIDE BY 5.0
qlp_sp_tb_10_cy_exp_coin=qlp_sp_tb_10_cy_exp coin edge qlp_sp_tb_10_base_ndiff
esd_qlp_10v_sp_nw.c1{
    @Min and max space from collector P+TO to base N+TO along Y direction must be ==5.0um
    L1001=qlp_sp_tb_10_cy_exp NOT WITH EDGE qlp_sp_tb_10_cy_exp_coin
    NOT INSIDE L1001 EXCL
}

esd_qlp_10v_sp_nw.e{
    @Min and max length of base N+TO must be ==0.36um
    L1001=INTERNAL qlp_sp_tb_10_base_ndiff <0.36 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_10_base_ndiff BY -0.18
    L1002=SIZE L46475 BY 0.18
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

esd_qlp_10v_sp_nw.f{
    @Min extension of TB beyond base N+TO must be >=3.0um
    L1001=ENC qlp_sp_tb_10_base_ndiff qlp_sp_tb_10_tb <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_10_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE qlp_sp_tb_10_tb
qlp_sp_tb_10_ptm=PTM_drc TOUCH qlp_sp_tb_10_ptm_hole
esd_qlp_10v_sp_nw.g{
    @Min space between TB and PTM must be >=2.5um
    L1001=EXT qlp_sp_tb_10_ptm qlp_sp_tb_10_tb <2.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_10_h_check=qlp_sp_tb_10_ptm NOT pdiff
esd_qlp_10v_sp_nw.h{
    @Min and max extension of PTM beyond P+ ring must be ==0.5um
    L1001=INTERNAL qlp_sp_tb_10_h_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_tb_10_h_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_tb_10_iso_pdiff=pdiff INSIDE qlp_sp_tb_10_ptm
esd_qlp_10v_sp_nw.i{
    @Min length of P+ iso ring must be >=0.36um
    L1001=INTERNAL qlp_sp_tb_10_iso_pdiff <0.36 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_10_hvdmy=HVDMY_drc ENCLOSE qlp_sp_tb_10_tb
esd_qlp_10v_sp_nw.j{
    @Min extension of HVDMY beyond P+ iso ring must be >=3.0um
    L1001=ENC qlp_sp_tb_10_iso_pdiff qlp_sp_tb_10_hvdmy <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_tb_10_pdiff_cont=W1_drc INSIDE qlp_sp_tb_10_pdiff
esd_qlp_10v_sp_nw.k{
    @Min extension of P+TO beyond W1 must be >=4.1um
    L1001=ENC qlp_sp_tb_10_pdiff_cont qlp_sp_tb_10_cy <4.1 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//                     esd_qlp_sp_hn_3t 12v/18v/23v/35v rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

qlp_sp_hn_hn1=((HN_drc AND ESD_mark) AND HVDMY_drc) AND ptm_hole
qlp_sp_hn_hn2=qlp_sp_hn_hn1 NOT ENCLOSE GT_drc
qlp_sp_hn_hn=qlp_sp_hn_hn2 ENCLOSE TB_drc >7

qlp_sp_hn_nwell=TB_drc INSIDE qlp_sp_hn_hn
qlp_sp_hn_pdiff=pdiff INSIDE qlp_sp_hn_hn
qlp_sp_hn_w=LENGTH (qlp_sp_hn_pdiff NOT INSIDE EXCL) >5.0
qlp_sp_hn.w{
    @Every finger width of P+TO of both collector and emitter must be ==60~120um
    LENGTH qlp_sp_hn_w <60
    LENGTH qlp_sp_hn_w >120
}

qlp_sp_hn_prop_12v=DFM PROPERTY qlp_sp_hn_hn qlp_sp_hn_w overlap abut also multi 
               [min_v=1800/((count(qlp_sp_hn_w)-2)/2)]
qlp_sp_hn_w_ex_12v=(EXPAND EDGE qlp_sp_hn_w OUTSIDE BY 0.001) INTERACT HV_12V
qlp_sp_hn_w_err_12v=DFM PROPERTY qlp_sp_hn_w_ex_12v qlp_sp_hn_prop_12v qlp_sp_hn_w overlap abut also multi 
               [-=length(qlp_sp_hn_w)-property(qlp_sp_hn_prop_12v, min_v)] <0
qlp_sp_hn_12V.TW{
    @Min total width of ESD device must be >=1800um
    (qlp_sp_hn_w_err_12v NOT INSIDE EXCL) coin edge (qlp_sp_hn_pdiff NOT INSIDE EXCL)
}

qlp_sp_hn_prop_18v=DFM PROPERTY qlp_sp_hn_hn qlp_sp_hn_w overlap abut also multi 
               [min_v=2000/((count(qlp_sp_hn_w)-2)/2)]
qlp_sp_hn_w_ex_18v=(EXPAND EDGE qlp_sp_hn_w OUTSIDE BY 0.001) INTERACT HV_18V
qlp_sp_hn_w_err_18v=DFM PROPERTY qlp_sp_hn_w_ex_18v qlp_sp_hn_prop_18v qlp_sp_hn_w overlap abut also multi 
               [-=length(qlp_sp_hn_w)-property(qlp_sp_hn_prop_18v, min_v)] <0
qlp_sp_hn_18V.TW{
    @Min total width of ESD device must be >=2000um
    (qlp_sp_hn_w_err_18v NOT INSIDE EXCL) coin edge (qlp_sp_hn_pdiff NOT INSIDE EXCL)
}

qlp_sp_hn_prop_23v=DFM PROPERTY qlp_sp_hn_hn qlp_sp_hn_w overlap abut also multi 
               [min_v=2500/((count(qlp_sp_hn_w)-2)/2)]
qlp_sp_hn_w_ex_23v=(EXPAND EDGE qlp_sp_hn_w OUTSIDE BY 0.001) INTERACT HV_23V
qlp_sp_hn_w_err_23v=DFM PROPERTY qlp_sp_hn_w_ex_23v qlp_sp_hn_prop_23v qlp_sp_hn_w overlap abut also multi 
               [-=length(qlp_sp_hn_w)-property(qlp_sp_hn_prop_23v, min_v)] <0
qlp_sp_hn_23V.TW{
    @Min total width of ESD device must be >=2500um
    (qlp_sp_hn_w_err_23v NOT INSIDE EXCL) coin edge (qlp_sp_hn_pdiff NOT INSIDE EXCL)
}

qlp_sp_hn_prop_35v=DFM PROPERTY qlp_sp_hn_hn qlp_sp_hn_w overlap abut also multi 
               [min_v=2600/((count(qlp_sp_hn_w)-2)/2)]
qlp_sp_hn_w_ex_35v=(EXPAND EDGE qlp_sp_hn_w OUTSIDE BY 0.001) INTERACT HV_35V
qlp_sp_hn_w_err_35v=DFM PROPERTY qlp_sp_hn_w_ex_35v qlp_sp_hn_prop_35v qlp_sp_hn_w overlap abut also multi 
               [-=length(qlp_sp_hn_w)-property(qlp_sp_hn_prop_35v, min_v)] <0
qlp_sp_hn_35V.TW{
    @Min total width of ESD device must be >=2600um
    (qlp_sp_hn_w_err_35v NOT INSIDE EXCL) coin edge (qlp_sp_hn_pdiff NOT INSIDE EXCL)
}

qlp_sp_hn.FN{
    @Finger number of emitter P+TO (emitter=collector-1) must be ==8~24
    L1001=qlp_sp_hn_hn ENCLOSE qlp_sp_hn_pdiff <17
    L1002=qlp_sp_hn_hn ENCLOSE qlp_sp_hn_pdiff >49
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL 
}

qlp_sp_hn_pdiff_exp=SIZE qlp_sp_hn_pdiff BY 3.0 OVERUNDER
qlp_sp_hn_pdiff_space=qlp_sp_hn_pdiff_exp NOT qlp_sp_hn_pdiff

qlp_sp_hn_pdiff_space_12v=qlp_sp_hn_pdiff_space AND HV_12V
qlp_sp_hn_12V.a{
    @Min and max space between collector P+TO and emitter P+TO must be ==0.6um
    L1001=INTERNAL qlp_sp_hn_pdiff_space_12v <0.6 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_pdiff_space_12v BY -0.3
    L1002=SIZE L46475 BY 0.3
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn_pdiff_space_18v=qlp_sp_hn_pdiff_space AND HV_18V
qlp_sp_hn_18V.a{
    @Min and max space between collector P+TO and emitter P+TO must be ==1.0um
    L1001=INTERNAL qlp_sp_hn_pdiff_space_18v <1.0 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_pdiff_space_18v BY -0.5
    L1002=SIZE L46475 BY 0.5
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn_pdiff_space_23v=qlp_sp_hn_pdiff_space AND HV_23V
qlp_sp_hn_23V.a{
    @Min and max space between collector P+TO and emitter P+TO must be ==0.4um
    L1001=INTERNAL qlp_sp_hn_pdiff_space_23v <0.4 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_pdiff_space_23v BY -0.2
    L1002=SIZE L46475 BY 0.2
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn_pdiff_space_35v=qlp_sp_hn_pdiff_space AND HV_35V
qlp_sp_hn_35V.a{
    @Min and max space between collector P+TO and emitter P+TO must be ==0.9um
    L1001=INTERNAL qlp_sp_hn_pdiff_space_35v <0.9 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_pdiff_space_35v BY -0.45
    L1002=SIZE L46475 BY 0.45
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn.b{
    @Min and max length of P+TO of emitter and collector must be ==0.36um
    L1001=INTERNAL qlp_sp_hn_pdiff <0.36 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_pdiff BY -0.18
    L1002=SIZE L46475 BY 0.18
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn_emit_pdiff=qlp_sp_hn_pdiff INSIDE qlp_sp_hn_nwell
qlp_sp_hn_emit_pdiff_long=LENGTH qlp_sp_hn_emit_pdiff > 5.0
qlp_sp_hn_cx_exp=EXPAND EDGE qlp_sp_hn_emit_pdiff_long OUTSIDE BY 0.25
qlp_sp_hn_cx_exp_coin=qlp_sp_hn_cx_exp coin edge qlp_sp_hn_nwell
qlp_sp_hn.c{
    @Min and max TB beyond emitter P+TO along X direction must be ==0.25um
    L1001=qlp_sp_hn_cx_exp NOT WITH EDGE qlp_sp_hn_cx_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_cy=LENGTH qlp_sp_hn_emit_pdiff ==0.36
qlp_sp_hn_cy_exp=EXPAND EDGE qlp_sp_hn_cy OUTSIDE BY 3.0
qlp_sp_hn_cy_exp_coin=qlp_sp_hn_cy_exp coin edge qlp_sp_hn_nwell
qlp_sp_hn.c1{
    @Min and max TB beyond collector P+TO along Y direction must be ==3.0um
    L1001=qlp_sp_hn_cy_exp NOT WITH EDGE qlp_sp_hn_cy_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_base_ndiff=ndiff INSIDE qlp_sp_hn_hn
qlp_sp_hn_pdiff_out_x=qlp_sp_hn_w NOT TOUCH EDGE qlp_sp_hn_pdiff_space
qlp_sp_hn_pdiff_out_x_exp=EXPAND EDGE qlp_sp_hn_pdiff_out_x OUTSIDE BY 3.0
qlp_sp_hn_pdiff_out_x_exp_coin=qlp_sp_hn_pdiff_out_x_exp coin edge qlp_sp_hn_base_ndiff
qlp_sp_hn.d{
    @Min and max space between collector P+TO and base N+TO along X direction must be ==3.0um
    L1001=qlp_sp_hn_pdiff_out_x_exp NOT WITH EDGE qlp_sp_hn_pdiff_out_x_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_nwell_y=LENGTH qlp_sp_hn_nwell < 1.0
qlp_sp_hn_nwell_y_exp=EXPAND EDGE qlp_sp_hn_nwell_y OUTSIDE BY 2.0
qlp_sp_hn_nwell_y_exp_coin=qlp_sp_hn_nwell_y_exp coin edge qlp_sp_hn_base_ndiff
qlp_sp_hn.d1{
    @Min and max space between TB and base N+TO along Y direction must be ==2.0um
    L1001=qlp_sp_hn_nwell_y_exp NOT WITH EDGE qlp_sp_hn_nwell_y_exp_coin
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn.e{
    @Min and max length of base N+TO must be ==0.36um
    L1001=INTERNAL qlp_sp_hn_base_ndiff <0.36 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_base_ndiff BY -0.18
    L1002=SIZE L46475 BY 0.18
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn.f{
    @Min extension of HN beyond base N+TO must be >=3.0um
    L1001=ENC qlp_sp_hn_base_ndiff qlp_sp_hn_hn <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_ptm_hole=(HOLES PTM_drc INNER) ENCLOSE qlp_sp_hn_hn
qlp_sp_hn_ptm=PTM_drc TOUCH qlp_sp_hn_ptm_hole
qlp_sp_hn.g{
    @Min space between HN and PTM must be >=2.5um
    L1001=EXT qlp_sp_hn_ptm qlp_sp_hn_hn <2.5 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_h_check=qlp_sp_hn_ptm NOT pdiff
qlp_sp_hn.h{
    @Min and max extension of PTM beyond P+ ring must be ==0.5um
    L1001=INTERNAL qlp_sp_hn_h_check <0.5 REGION SINGULAR ABUT<90 
    L46475=SIZE qlp_sp_hn_h_check BY -0.25
    L1002=SIZE L46475 BY 0.25
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

qlp_sp_hn_iso_pdiff=pdiff INSIDE qlp_sp_hn_ptm
qlp_sp_hn.i{
    @Min length of P+ iso ring must be >=0.36um
    L1001=INTERNAL qlp_sp_hn_iso_pdiff <0.36 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_hvdmy=HVDMY_drc ENCLOSE qlp_sp_hn_hn
qlp_sp_hn.j{
    @Min extension of HVDMY beyond P+ iso ring must be >=3.0um
    L1001=ENC qlp_sp_hn_iso_pdiff qlp_sp_hn_hvdmy <3.0 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

qlp_sp_hn_pdiff_cont=W1_drc INSIDE qlp_sp_hn_pdiff
qlp_sp_hn_pdiff_cy=LENGTH qlp_sp_hn_pdiff ==0.36
qlp_sp_hn.k{
    @Min extension of P+TO beyond W1 must be >=4.1um
    L1001=ENC qlp_sp_hn_pdiff_cont qlp_sp_hn_pdiff_cy <4.1 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        rnplus/rpplus resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

/*
to_res_nosab=to_res NOT INTERACT SI_drc
to_res_nosab_width=RES_TO_mark INSIDE EDGE to_res_nosab
to_res_nosab_body=to_res_nosab AND RES_TO_mark

to_res_nosab_prop=DFM PROPERTY to_res_nosab_body to_res_nosab_width overlap abut also multi 
               [ res_length=area(to_res_nosab_body)/length(to_res_nosab_width)*2.0 ]
to_res_nosab_N_err=DFM PROPERTY to_res_nosab_body to_res_nosab_prop to_res_nosab_width overlap abut also multi 
               [-=property(to_res_nosab_prop, res_length)/length(to_res_nosab_width)*2.0] <5

rplus.N{
    @ Min square number be >=5
    to_res_nosab_N_err NOT INSIDE EXCL   
}
*/

to_res_nosab=to_res NOT INTERACT SI_drc
to_res_nosab_length=RES_TO_mark INSIDE EDGE to_res_nosab
rplus.L{
    @Min length must be >=4um
    L1001=INT to_res_nosab_length <4.0 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        rnpoly/rppoly resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

gt_res_nosab=gt_res NOT INTERACT SI_drc
gt_res_nosab_length=RES_PY_mark INSIDE EDGE gt_res_nosab
rpoly.L{
    @Min length must be >=1um
    L1001=INT gt_res_nosab_length <1.0 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        rnplus/rpplus sab resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

to_res_sab=to_res INTERACT SI_drc
to_res_sab_length=RES_TO_mark INSIDE EDGE to_res_sab
rplus_sab.L{
    @Min length must be >=4um
    L1001=INT to_res_sab_length <4.0 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        rnpoly/rppoly sab resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

gt_res_sab=gt_res INTERACT SI_drc
gt_res_sab_length=RES_PY_mark INSIDE EDGE gt_res_sab
rpoly_sab.L{
    @Min length must be >=1um
    L1001=INT gt_res_sab_length <1.0 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        rnwell resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

tb_res_length=RES_NW_mark INSIDE EDGE tb_res
rnwell.L{
    @Min length must be >=2um
    L1001=INT tb_res_length <2 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        rhr resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;;rhr.a is checked in HR.h
//;;rhr.W is checked in HR.l

hr_res=(GT_drc INTERACT RES_HR_mark) INSIDE HR_drc
hr_res_length=RES_HR_mark INSIDE EDGE hr_res
rhr.L{
    @Min length must be >=10um
    L1001=INT hr_res_length <10 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

rhr.t{
    @Min space between TO and GT must be >=0.28
    L1001=EXTERNAL hr_res TO_drc <0.28 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        metal resistor rules have been checked by single layer rules
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        fake HR resistor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

fake_hr_res1=((GT_drc INTERACT RES_HR_mark) INTERACT SI_drc) NOT INTERACT HR_drc
fake_hr_res=fake_hr_res1 INTERACT (SN_drc AND SP_drc)

//;;;;;;;;;;; rhr_fake.a/ rhr_fake.b have been checked by single layer rules

fake_hr_res_c=(SI_drc AND fake_hr_res) NOT (SP_drc AND fake_hr_res)
rhr_fake.c{
    @Min extension from SI to SP must be >=0.22um
    L1001=INT fake_hr_res_c <0.22 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

fake_hr_sn=SN_drc ENCLOSE fake_hr_res
fake_hr_sp=SP_drc INTERACT fake_hr_res
rhr_fake.d{
    @Min extension from SN/SP to GT must be >=0.18um
    L1001=ENC fake_hr_res fake_hr_sn <0.18 REGION SINGULAR ABUT<90 
    L1002=ENC fake_hr_res fake_hr_sp <0.18 REGION SINGULAR ABUT<90      
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL     
}

fake_hr_sab=SI_drc INTERACT fake_hr_res
rhr_fake.e{
    @Min extension from SI to GT in width direction must be >=0.28um
    L1001=ENC fake_hr_res fake_hr_sab <0.28 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

hr_res_width=fake_hr_res AND RES_HR_mark
rhr_fake.W{
    @Min width of resistor must be >=0.42um
    L1001=INT hr_res_width <0.42 REGION SINGULAR ABUT<90 
    NOT INSIDE L1001 EXCL
}

fake_hr_res_length=RES_HR_mark INSIDE EDGE fake_hr_res
rhr_fake.L{
    @Min length must be >=10um
    L1001=INT fake_hr_res_length <10 REGION ABUT<90 
    NOT INSIDE L1001 EXCL
}

//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
//        MOM capacitor rules 
//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

mom_a1=(AND A1_drc MOM_mark) AND NODMF_mark
mom_a2=(AND A2_drc MOM_mark) AND NODMF_mark
mom_a3=(AND A3_drc MOM_mark) AND NODMF_mark
mom_a4=(AND A4_drc MOM_mark) AND NODMF_mark
mom_a5=(AND A5_drc MOM_mark) AND NODMF_mark
mom_a12345=(((OR mom_a1 mom_a2) OR mom_a3) OR mom_a4 ) OR mom_a5
mom_a1234=((OR mom_a1 mom_a2) OR mom_a3) OR mom_a4
mom_a123=(OR mom_a1 mom_a2) OR mom_a3
mom_a12=OR mom_a1 mom_a2

mom_a1_all=(A1_drc INTERACT MOM_mark) AND NODMF_mark
mom_a2_all=(A2_drc INTERACT MOM_mark) AND NODMF_mark
mom_a3_all=(A3_drc INTERACT MOM_mark) AND NODMF_mark
mom_a4_all=(A4_drc INTERACT MOM_mark) AND NODMF_mark
mom_a5_all=(A5_drc INTERACT MOM_mark) AND NODMF_mark

mom_ring1=((HOLES TO_drc INNER) NOT OUTSIDE NODMF_mark) NOT OUTSIDE MOM_mark
mom_ring_to=TOUCH TO_drc mom_ring1

mom_region=OR MOM_mark MOM_ter
mom_region_with_guardring=mom_region OR mom_ring_to

spa_a1=(mom_region INTERACT mom_a1_all) NOT mom_a1_all
spa_a2=(mom_region INTERACT mom_a2_all) NOT mom_a2_all
spa_a3=(mom_region INTERACT mom_a3_all) NOT mom_a3_all
spa_a4=(mom_region INTERACT mom_a4_all) NOT mom_a4_all
spa_a5=(mom_region INTERACT mom_a5_all) NOT mom_a5_all

mom_a1_l=INSIDE EDGE (mom_a1 NOT INSIDE EXCL) MOM_mark
mom_a2_l=INSIDE EDGE (mom_a2 NOT INSIDE EXCL) MOM_mark
mom_a3_l=INSIDE EDGE (mom_a3 NOT INSIDE EXCL) MOM_mark
mom_a4_l=INSIDE EDGE (mom_a4 NOT INSIDE EXCL) MOM_mark
mom_a5_l=INSIDE EDGE (mom_a5 NOT INSIDE EXCL) MOM_mark

mom_ring_a1=A1_drc INTERACT ((A1_drc AND mom_ring_to) AND W1_drc)
mom_ring_a2=A2_drc INTERACT ((A2_drc AND mom_ring_to) AND W2_drc)
mom_ring_a3=A3_drc INTERACT ((A3_drc AND mom_ring_to) AND W3_drc)
mom_ring_a4=A4_drc INTERACT ((A4_drc AND mom_ring_to) AND W4_drc)
mom_ring_a5=A5_drc INTERACT ((A5_drc AND mom_ring_to) AND W5_drc)

mom.a {
    @Min and Max width of A1/An finger must be == 0.28 um

#IFDEF Switch6
    L1001=INTERNAL mom_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL mom_a2 < 0.28 REGION SINGULAR ABUT<90
    L1003=INTERNAL mom_a3 < 0.28 REGION SINGULAR ABUT<90
    L1004=INTERNAL mom_a4 < 0.28 REGION SINGULAR ABUT<90
    L1005=INTERNAL mom_a5 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE mom_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE mom_a2 BY 0.28/2 UNDEROVER
    L10013=SIZE mom_a3 BY 0.28/2 UNDEROVER
    L10014=SIZE mom_a4 BY 0.28/2 UNDEROVER
    L10015=SIZE mom_a5 BY 0.28/2 UNDEROVER
    L10016=SIZE mom_a12345 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10013 EXCL
    NOT INSIDE L10014 EXCL
    NOT INSIDE L10015 EXCL
    NOT INSIDE L10016 EXCL
#ENDIF

#IFDEF Switch5
    L1001=INTERNAL mom_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL mom_a2 < 0.28 REGION SINGULAR ABUT<90
    L1003=INTERNAL mom_a3 < 0.28 REGION SINGULAR ABUT<90
    L1004=INTERNAL mom_a4 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE mom_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE mom_a2 BY 0.28/2 UNDEROVER
    L10013=SIZE mom_a3 BY 0.28/2 UNDEROVER
    L10014=SIZE mom_a4 BY 0.28/2 UNDEROVER
    L10016=SIZE mom_a1234 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10013 EXCL
    NOT INSIDE L10014 EXCL
    NOT INSIDE L10016 EXCL
#ENDIF

#IFDEF Switch4
    L1001=INTERNAL mom_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL mom_a2 < 0.28 REGION SINGULAR ABUT<90
    L1003=INTERNAL mom_a3 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE mom_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE mom_a2 BY 0.28/2 UNDEROVER
    L10013=SIZE mom_a3 BY 0.28/2 UNDEROVER
    L10016=SIZE mom_a123 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10013 EXCL
    NOT INSIDE L10016 EXCL
#ENDIF

#IFDEF Switch3
    L1001=INTERNAL mom_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL mom_a2 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE mom_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE mom_a2 BY 0.28/2 UNDEROVER
    L10016=SIZE mom_a12 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10016 EXCL
#ENDIF

#IFDEF Switch2
    L1001=INTERNAL mom_a1 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE mom_a1 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L10011 EXCL
#ENDIF

}

mom.b {
    @Min and Max space of A1/An finger must be == 0.28 um

#IFDEF Switch6
    L1001=INTERNAL spa_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL spa_a2 < 0.28 REGION SINGULAR ABUT<90
    L1003=INTERNAL spa_a3 < 0.28 REGION SINGULAR ABUT<90
    L1004=INTERNAL spa_a4 < 0.28 REGION SINGULAR ABUT<90
    L1005=INTERNAL spa_a5 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE spa_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE spa_a2 BY 0.28/2 UNDEROVER
    L10013=SIZE spa_a3 BY 0.28/2 UNDEROVER
    L10014=SIZE spa_a4 BY 0.28/2 UNDEROVER
    L10015=SIZE spa_a5 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10013 EXCL
    NOT INSIDE L10014 EXCL
    NOT INSIDE L10015 EXCL
#ENDIF

#IFDEF Switch5
    L1001=INTERNAL spa_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL spa_a2 < 0.28 REGION SINGULAR ABUT<90
    L1003=INTERNAL spa_a3 < 0.28 REGION SINGULAR ABUT<90
    L1004=INTERNAL spa_a4 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE spa_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE spa_a2 BY 0.28/2 UNDEROVER
    L10013=SIZE spa_a3 BY 0.28/2 UNDEROVER
    L10014=SIZE spa_a4 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10013 EXCL
    NOT INSIDE L10014 EXCL
#ENDIF

#IFDEF Switch4
    L1001=INTERNAL spa_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL spa_a2 < 0.28 REGION SINGULAR ABUT<90
    L1003=INTERNAL spa_a3 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE spa_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE spa_a2 BY 0.28/2 UNDEROVER
    L10013=SIZE spa_a3 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
    NOT INSIDE L10013 EXCL
#ENDIF

#IFDEF Switch3
    L1001=INTERNAL spa_a1 < 0.28 REGION SINGULAR ABUT<90
    L1002=INTERNAL spa_a2 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE spa_a1 BY 0.28/2 UNDEROVER
    L10012=SIZE spa_a2 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L10011 EXCL
    NOT INSIDE L10012 EXCL
#ENDIF

#IFDEF Switch2
    L1001=INTERNAL spa_a1 < 0.28 REGION SINGULAR ABUT<90
    L10011=SIZE spa_a1 BY 0.28/2 UNDEROVER
    NOT INSIDE L1001 EXCL
    NOT INSIDE L10011 EXCL
#ENDIF

}

mom.c {
    @Min width for metal strip on two terminals must be >= 0.5 um
    L1001=INTERNAL MOM_ter < (0.28+0.5) REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
}

mom.d {
    @Min length of A1/An finger must be >= 20 um

#IFDEF Switch6
    LENGTH mom_a1_l < 20 
    LENGTH mom_a2_l < 20 
    LENGTH mom_a3_l < 20 
    LENGTH mom_a4_l < 20 
    LENGTH mom_a5_l < 20 
#ENDIF

#IFDEF Switch5
    LENGTH mom_a1_l < 20 
    LENGTH mom_a2_l < 20 
    LENGTH mom_a3_l < 20 
    LENGTH mom_a4_l < 20 
#ENDIF

#IFDEF Switch4
    LENGTH mom_a1_l < 20 
    LENGTH mom_a2_l < 20 
    LENGTH mom_a3_l < 20 
#ENDIF

#IFDEF Switch3
    LENGTH mom_a1_l < 20 
    LENGTH mom_a2_l < 20 
#ENDIF

#IFDEF Switch2
    LENGTH mom_a1_l < 20 
#ENDIF

}

mom.e {
    @Min space from MOM to unrelated metal must be >= 4.2 um

#IFDEF Switch6
    L1001=EXTERNAL ((A1_drc NOT INTERACT mom_region) NOT mom_ring_a1) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1002=EXTERNAL ((A2_drc NOT INTERACT mom_region) NOT mom_ring_a2) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1003=EXTERNAL ((A3_drc NOT INTERACT mom_region) NOT mom_ring_a3) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1004=EXTERNAL ((A4_drc NOT INTERACT mom_region) NOT mom_ring_a4) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1005=EXTERNAL ((A5_drc NOT INTERACT mom_region) NOT mom_ring_a5) mom_region < 4.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
#ENDIF

#IFDEF Switch5
    L1001=EXTERNAL ((A1_drc NOT INTERACT mom_region) NOT mom_ring_a1) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1002=EXTERNAL ((A2_drc NOT INTERACT mom_region) NOT mom_ring_a2) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1003=EXTERNAL ((A3_drc NOT INTERACT mom_region) NOT mom_ring_a3) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1004=EXTERNAL ((A4_drc NOT INTERACT mom_region) NOT mom_ring_a4) mom_region < 4.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
#ENDIF

#IFDEF Switch4
    L1001=EXTERNAL ((A1_drc NOT INTERACT mom_region) NOT mom_ring_a1) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1002=EXTERNAL ((A2_drc NOT INTERACT mom_region) NOT mom_ring_a2) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1003=EXTERNAL ((A3_drc NOT INTERACT mom_region) NOT mom_ring_a3) mom_region < 4.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
#ENDIF

#IFDEF Switch3
    L1001=EXTERNAL ((A1_drc NOT INTERACT mom_region) NOT mom_ring_a1) mom_region < 4.2 REGION SINGULAR ABUT<90
    L1002=EXTERNAL ((A2_drc NOT INTERACT mom_region) NOT mom_ring_a2) mom_region < 4.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
#ENDIF

#IFDEF Switch2
    L1001=EXTERNAL ((A1_drc NOT INTERACT mom_region) NOT mom_ring_a1) mom_region < 4.2 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
#ENDIF

}

mom.f1 {
    @If use guard ring, Min clearance from MOM A1/An to guard ring metal must be >= 0.42 um

#IFDEF Switch6
    L1001=EXTERNAL mom_a1_all mom_ring_a1 < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_a2 < 0.42 REGION SINGULAR ABUT<90
    L1003=EXTERNAL mom_a3_all mom_ring_a3 < 0.42 REGION SINGULAR ABUT<90
    L1004=EXTERNAL mom_a4_all mom_ring_a4 < 0.42 REGION SINGULAR ABUT<90
    L1005=EXTERNAL mom_a5_all mom_ring_a5 < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
#ENDIF

#IFDEF Switch5
    L1001=EXTERNAL mom_a1_all mom_ring_a1 < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_a2 < 0.42 REGION SINGULAR ABUT<90
    L1003=EXTERNAL mom_a3_all mom_ring_a3 < 0.42 REGION SINGULAR ABUT<90
    L1004=EXTERNAL mom_a4_all mom_ring_a4 < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
#ENDIF

#IFDEF Switch4
    L1001=EXTERNAL mom_a1_all mom_ring_a1 < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_a2 < 0.42 REGION SINGULAR ABUT<90
    L1003=EXTERNAL mom_a3_all mom_ring_a3 < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
#ENDIF

#IFDEF Switch3
    L1001=EXTERNAL mom_a1_all mom_ring_a1 < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_a2 < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
#ENDIF

#IFDEF Switch2
    L1001=EXTERNAL mom_a1_all mom_ring_a1 < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
#ENDIF

}

mom.f2 {
    @If use guard ring, Min clearance from MOM to guard ring TO must be >= 0.42 um

#IFDEF Switch6
    L1001=EXTERNAL mom_a1_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1003=EXTERNAL mom_a3_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1004=EXTERNAL mom_a4_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1005=EXTERNAL mom_a5_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
#ENDIF

#IFDEF Switch5
    L1001=EXTERNAL mom_a1_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1003=EXTERNAL mom_a3_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1004=EXTERNAL mom_a4_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
#ENDIF

#IFDEF Switch4
    L1001=EXTERNAL mom_a1_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1003=EXTERNAL mom_a3_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
#ENDIF

#IFDEF Switch3
    L1001=EXTERNAL mom_a1_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    L1002=EXTERNAL mom_a2_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
#ENDIF

#IFDEF Switch2
    L1001=EXTERNAL mom_a1_all mom_ring_to < 0.42 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
#ENDIF

}    

mom.g {   
    @Min MOM finger number must be >=105

#IFDEF Switch6
    L1001=MOM_mark INTERACT mom_a1 <105
    L1002=MOM_mark INTERACT mom_a2 <105
    L1003=MOM_mark INTERACT mom_a3 <105
    L1004=MOM_mark INTERACT mom_a4 <105
    L1005=MOM_mark INTERACT mom_a5 <105
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
#ENDIF

#IFDEF Switch5
    L1001=MOM_mark INTERACT mom_a1 <105
    L1002=MOM_mark INTERACT mom_a2 <105
    L1003=MOM_mark INTERACT mom_a3 <105
    L1004=MOM_mark INTERACT mom_a4 <105
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
#ENDIF

#IFDEF Switch4
    L1001=MOM_mark INTERACT mom_a1 <105
    L1002=MOM_mark INTERACT mom_a2 <105
    L1003=MOM_mark INTERACT mom_a3 <105
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
#ENDIF

#IFDEF Switch3
    L1001=MOM_mark INTERACT mom_a1 <105
    L1002=MOM_mark INTERACT mom_a2 <105
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
#ENDIF

#IFDEF Switch2
    L1001=MOM_mark INTERACT mom_a1 <105
    NOT INSIDE L1001 EXCL
#ENDIF

}

mom.i {   
    @Min MOM capacitance area is 1000um2
    L1001=AREA MOM_mark <1000
    NOT INSIDE L1001 EXCL
}

mom.j {
    @Max area of a single MOM cell is 10000um2, If size greater than 10000um2 
    @than either of two side should not be greater than 90um
    L1001=AREA (MOM_mark NOT INSIDE EXCL) > 10000
    L1002=LENGTH L1001 < 90
    NOT WITH EDGE L1001 L1002
}

mom.k { 
    @Both the active and passive device under MOM region are not allowed
    L1001=AND TO_drc mom_region 
    L1002=AND GT_drc mom_region
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//;; mom.l don't check 

mom.m {    
    @All dummy pattern is not allowed in MOM region,
    @MOM need covered by mark layer NODMF,and Min NODMF enclosure of MOM metal must be >= 1 um
    L1001=NOT mom_region NODMF_mark
    L1002=ENCLOSURE mom_region NODMF_mark < 1.0 REGION SINGULAR ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

//============================
//    Conventional Check
//============================

no_flt_tb=TB_drc NOT ESD_mark
Convention_FLT_NW {
@ NW without N+ pick up
  no_flt_tb NOT INTERACT ntap
}

Convention_BPMO {
@ Pmos in PW
  pgate_exc=((HN_drc OR mp7vt_dn) OR mn10vt_dn) OR mp10vt_dn
  AND (pgate NOT pgate_exc) pwell
}

Convention_NWMO {
@ Nmos in NW
  ngate_exc=((CAP_mark OR 9v_gate_to) OR mn10vt_gate_to) OR mn10vta_gate_to
  L1001=(ngate NOT INTERACT ngate_exc) AND TB_drc 
  NOT INSIDE L1001 EXCL
}

//============================
//    seal ring Check
//============================

#IFDEF SEAL_RING_Rule

to_sealring=AND TO_drc SEALRING_mark
sp_sealring=AND SP_drc SEALRING_mark
si_sealring=AND SI_drc SEALRING_mark
w1_sealring=AND W1_drc SEALRING_mark
a1_sealring=AND A1_drc SEALRING_mark
w2_sealring=AND W2_drc SEALRING_mark
a2_sealring=AND A2_drc SEALRING_mark
w3_sealring=AND W3_drc SEALRING_mark
a3_sealring=AND A3_drc SEALRING_mark
w4_sealring=AND W4_drc SEALRING_mark
a4_sealring=AND A4_drc SEALRING_mark
w5_sealring=AND W5_drc SEALRING_mark
a5_sealring=AND A5_drc SEALRING_mark
wt_sealring=AND WT_drc SEALRING_mark
at_sealring=AND AT_drc SEALRING_mark
tt_sealring=AND MTT_drc SEALRING_mark
cp_sealring=AND CP_drc SEALRING_mark
all_sealring=OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR (OR to_sealring sp_sealring) si_sealring) w1_sealring) a1_sealring) w2_sealring) a2_sealring ) w3_sealring) a3_sealring) w4_sealring) a4_sealring) w5_sealring) a5_sealring ) wt_sealring) at_sealring) tt_sealring) cp_sealring) SEALRING_mark

all_sealring_straight_edge=ANGLE all_sealring !=45
all_sealring_bent_edge=ANGLE all_sealring ==45
all_sealring_bent_exp=EXPAND EDGE all_sealring_bent_edge INSIDE BY 7.503
all_sealring_bent=COINCIDENT INSIDE EDGE all_sealring_bent_exp all_sealring 

//;sealring.a don't check
//;sealring.b has been checked by sealring.w

sealring.w {
    @Min and max width of seal ring  must be ==15um
    L1001=SIZE (NOT all_sealring all_sealring_bent_exp) BY 7.5 UNDEROVER
    L1002=INTERNAL all_sealring_straight_edge <15 REGION ABUT<90
    L1003=WITH EDGE all_sealring_bent_exp all_sealring_bent ==1
    L1004=INTERNAL all_sealring_bent_edge <14.995 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

a1_sealring_straight_edge=ANGLE a1_sealring !=45
a1_sealring_bent_edge=ANGLE a1_sealring ==45
a1_sealring_bent_exp=EXPAND EDGE a1_sealring_bent_edge INSIDE BY 3.003
a1_sealring_bent=COINCIDENT INSIDE EDGE a1_sealring_bent_exp a1_sealring 

sealring.w1_a1 {
    @Min and max width of a1 must be ==6um
    L1001=SIZE (NOT a1_sealring a1_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL a1_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE a1_sealring_bent_exp a1_sealring_bent ==1
    L1004=INTERNAL a1_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT a1_sealring   //;a1 must be a ring
    L1006=CUT A1_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring a1_sealring   //;a1 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

all_hole=HOLES all_sealring INNER
a1_out=NOT INTERACT (NOT all_sealring a1_sealring) all_hole

a1_out_bent_edge=ANGLE a1_out ==45
a1_out_bent_exp=EXPAND EDGE a1_out_bent_edge INSIDE BY 2.003
a1_out_bent=COINCIDENT INSIDE EDGE a1_out_bent_exp a1_out 

sealring.s1_a1 {
    @Min and max space between a1 and scribe line must be ==4um
    L1001=SIZE (NOT a1_out a1_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC a1_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a1_out_bent_exp a1_out_bent ==1
    L1004=ENC a1_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

a1_in=INTERACT (NOT all_sealring a1_sealring) all_hole

a1_in_bent_edge=ANGLE a1_in ==45
a1_in_bent_exp=EXPAND EDGE a1_in_bent_edge INSIDE BY 2.503
a1_in_bent=COINCIDENT INSIDE EDGE a1_in_bent_exp a1_in 

sealring.s2_a1 {
    @Min and max space between a1 and die TAP must be ==5um
    L1001=SIZE (NOT a1_in a1_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC a1_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a1_in_bent_exp a1_in_bent ==1
    L1004=ENC a1_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

to_in=INTERACT (NOT all_sealring to_sealring) all_hole

to_in_straight_edge=ANGLE to_in !=45
to_in_bent_edge=ANGLE to_in ==45
to_in_bent_exp=EXPAND EDGE to_in_bent_edge INSIDE BY 2.503
to_in_bent=COINCIDENT INSIDE EDGE to_in_bent_exp to_in 

sealring.s2_to {
    @Min and max space between TO and die TAP must be ==5um
    L1001=SIZE (NOT to_in to_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC to_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE to_in_bent_exp to_in_bent ==1
    L1004=ENC to_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

sp_in=INTERACT (NOT all_sealring sp_sealring) all_hole

sp_in_straight_edge=ANGLE sp_in !=45
sp_in_bent_edge=ANGLE sp_in ==45
sp_in_bent_exp=EXPAND EDGE sp_in_bent_edge INSIDE BY 2.503
sp_in_bent=COINCIDENT INSIDE EDGE sp_in_bent_exp sp_in 

sealring.s2_sp {
    @Min and max space between sp and die TAP must be ==5um
    L1001=SIZE (NOT sp_in sp_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC sp_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE sp_in_bent_exp sp_in_bent ==1
    L1004=ENC sp_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#IFDEF Switch_thin

at_sealring_straight_edge=ANGLE at_sealring !=45
at_sealring_bent_edge=ANGLE at_sealring ==45
at_sealring_bent_exp=EXPAND EDGE at_sealring_bent_edge INSIDE BY 3.003
at_sealring_bent=COINCIDENT INSIDE EDGE at_sealring_bent_exp at_sealring 

sealring.w1_at {
    @Min and max width of at must be ==6um
    L1001=SIZE (NOT at_sealring at_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL at_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE at_sealring_bent_exp at_sealring_bent ==1
    L1004=INTERNAL at_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT at_sealring  //;at must be a ring
    L1006=CUT AT_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring at_sealring  //;at must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

at_out=NOT INTERACT (NOT all_sealring at_sealring) all_hole

at_out_bent_edge=ANGLE at_out ==45
at_out_bent_exp=EXPAND EDGE at_out_bent_edge INSIDE BY 2.003
at_out_bent=COINCIDENT INSIDE EDGE at_out_bent_exp at_out 

sealring.s1_at {
    @Min and max space between at and scribe line must be ==4um
    L1001=SIZE (NOT at_out at_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC at_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE at_out_bent_exp at_out_bent ==1
    L1004=ENC at_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

at_in=INTERACT (NOT all_sealring at_sealring) all_hole

at_in_straight_edge=ANGLE at_in !=45
at_in_bent_edge=ANGLE at_in ==45
at_in_bent_exp=EXPAND EDGE at_in_bent_edge INSIDE BY 2.503
at_in_bent=COINCIDENT INSIDE EDGE at_in_bent_exp at_in 

sealring.s2_at {
    @Min and max space between at and die TAP must be ==5um
    L1001=SIZE (NOT at_in at_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC at_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE at_in_bent_exp at_in_bent ==1
    L1004=ENC at_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#ENDIF //;Switch_thin

#IFDEF Switch_thick

tt_sealring_straight_edge=ANGLE tt_sealring !=45
tt_sealring_bent_edge=ANGLE tt_sealring ==45
tt_sealring_bent_exp=EXPAND EDGE tt_sealring_bent_edge INSIDE BY 3.003
tt_sealring_bent=COINCIDENT INSIDE EDGE tt_sealring_bent_exp tt_sealring 

sealring.w1_tt {
    @Min and max width of MTT must be ==6um
    L1001=SIZE (NOT tt_sealring tt_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL tt_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE tt_sealring_bent_exp tt_sealring_bent ==1
    L1004=INTERNAL tt_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT tt_sealring  //;mtt must be a ring
    L1006=CUT MTT_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring tt_sealring  //;mtt must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

tt_out=NOT INTERACT (NOT all_sealring tt_sealring) all_hole

tt_out_bent_edge=ANGLE tt_out ==45
tt_out_bent_exp=EXPAND EDGE tt_out_bent_edge INSIDE BY 2.003
tt_out_bent=COINCIDENT INSIDE EDGE tt_out_bent_exp tt_out 

sealring.s1_tt {
    @Min and max space between MTT and scribe line must be ==4um
    L1001=SIZE (NOT tt_out tt_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC tt_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE tt_out_bent_exp tt_out_bent ==1
    L1004=ENC tt_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

tt_in=INTERACT (NOT all_sealring tt_sealring) all_hole

tt_in_bent_edge=ANGLE tt_in ==45
tt_in_bent_exp=EXPAND EDGE tt_in_bent_edge INSIDE BY 2.503
tt_in_bent=COINCIDENT INSIDE EDGE tt_in_bent_exp tt_in 

sealring.s2_tt {
    @Min and max space between tt and die TAP must be ==5um
    L1001=SIZE (NOT tt_in tt_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC tt_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE tt_in_bent_exp tt_in_bent ==1
    L1004=ENC tt_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#ENDIF //;Switch_thick

to_sealring_straight_edge=ANGLE to_sealring !=45
to_sealring_bent_edge=ANGLE to_sealring ==45
to_sealring_bent_exp=EXPAND EDGE to_sealring_bent_edge INSIDE BY 5.003
to_sealring_bent=COINCIDENT INSIDE EDGE to_sealring_bent_exp to_sealring 

sealring.w2_to {
    @Min and max width of to must be ==10um
    L1001=SIZE (NOT to_sealring to_sealring_bent_exp) BY 5 UNDEROVER
    L1002=INTERNAL to_sealring_straight_edge <10 REGION ABUT<90
    L1003=WITH EDGE to_sealring_bent_exp to_sealring_bent ==1
    L1004=INTERNAL to_sealring_bent_edge <9.995 REGION ABUT<90
    L1005=NOT DONUT to_sealring  //;to must be a ring
    L1006=CUT TO_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring to_sealring   //;to must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

sp_sealring_straight_edge=ANGLE sp_sealring !=45
sp_sealring_bent_edge=ANGLE sp_sealring ==45
sp_sealring_bent_exp=EXPAND EDGE sp_sealring_bent_edge INSIDE BY 5.003
sp_sealring_bent=COINCIDENT INSIDE EDGE sp_sealring_bent_exp sp_sealring 

sealring.w2_sp {
    @Min and max width of sp must be ==10um
    L1001=SIZE (NOT sp_sealring sp_sealring_bent_exp) BY 5 UNDEROVER
    L1002=INTERNAL sp_sealring_straight_edge <10 REGION ABUT<90
    L1003=WITH EDGE sp_sealring_bent_exp sp_sealring_bent ==1
    L1004=INTERNAL sp_sealring_bent_edge <9.995 REGION ABUT<90
    L1005=NOT DONUT sp_sealring  //;sp must be a ring
    L1006=CUT SP_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring sp_sealring   //;sp must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

w1_sealring_straight_edge=ANGLE w1_sealring !=45
w1_sealring_bent_edge=ANGLE w1_sealring ==45
w1_sealring_bent_exp=EXPAND EDGE w1_sealring_bent_edge INSIDE BY 0.103
w1_sealring_bent=COINCIDENT INSIDE EDGE w1_sealring_bent_exp w1_sealring 

sealring.w3 {
    @Min and max width of w1 must be ==0.2um
    L1001=SIZE (NOT w1_sealring w1_sealring_bent_exp) BY 0.1 UNDEROVER
    L1002=INTERNAL w1_sealring_straight_edge <0.2 REGION ABUT<90
    L1003=WITH EDGE w1_sealring_bent_exp w1_sealring_bent ==1
    L1004=INTERNAL w1_sealring_bent_edge <0.195 REGION ABUT<90
    L1005=NOT DONUT w1_sealring //;w1 must be a ring
    L1006=CUT W1_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring w1_sealring   //;w1 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

w1_space=NOT INTERACT (NOT a1_sealring w1_sealring) si_sealring

w1_space_straight_edge=ANGLE w1_space !=45
w1_space_bent_edge=ANGLE w1_space ==45
w1_space_bent_exp=EXPAND EDGE w1_space_bent_edge INSIDE BY 0.765
w1_space_bent=COINCIDENT INSIDE EDGE w1_space_bent_exp w1_space 

sealring.s3 {
    @Min and max space between w1 must be ==1.52um
    L1001=SIZE (NOT w1_space w1_space_bent_exp) BY 0.76 UNDEROVER
    L1002=INTERNAL w1_space_straight_edge <1.52 REGION ABUT<90
    L1003=WITH EDGE w1_space_bent_exp w1_space_bent ==1
    L1004=INTERNAL w1_space_bent_edge <1.51 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w1_out=NOT INTERACT (NOT (NOT all_sealring w1_sealring) w1_space) all_hole

w1_out_bent_edge=ANGLE w1_out ==45
w1_out_bent_exp=EXPAND EDGE w1_out_bent_edge INSIDE BY 2.678
w1_out_bent=COINCIDENT INSIDE EDGE w1_out_bent_exp w1_out 

sealring.s4 {
    @Min and max space between w1 and scribe line must be ==5.35um
    L1001=SIZE (NOT w1_out w1_out_bent_exp) BY 2.675 UNDEROVER
    L1002=ENC w1_sealring_straight_edge si_out_straight_edge <5.35 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w1_out_bent_exp w1_out_bent ==1
    L1004=ENC w1_sealring_bent_edge si_out_bent_edge <5.345 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w1_in=INTERACT (NOT (NOT all_sealring w1_sealring) w1_space) all_hole

w1_in_bent_edge=ANGLE w1_in ==45
w1_in_bent_exp=EXPAND EDGE w1_in_bent_edge INSIDE BY 3.008
w1_in_bent=COINCIDENT INSIDE EDGE w1_in_bent_exp w1_in 

sealring.s5 {
    @Min and max space between w1 and die TAP must be ==6.01um
    L1001=SIZE (NOT w1_in w1_in_bent_exp) BY 3.005 UNDEROVER
    L1002=ENC w1_sealring_straight_edge si_in_straight_edge <6.01 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w1_in_bent_exp w1_in_bent ==1
    L1004=ENC w1_sealring_bent_edge si_in_bent_edge <6.005 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#IFDEF Switch3456

a2_sealring_straight_edge=ANGLE a2_sealring !=45
a2_sealring_bent_edge=ANGLE a2_sealring ==45
a2_sealring_bent_exp=EXPAND EDGE a2_sealring_bent_edge INSIDE BY 3.003
a2_sealring_bent=COINCIDENT INSIDE EDGE a2_sealring_bent_exp a2_sealring 

sealring.w1_a2 {
    @Min and max width of a2 must be ==6um
    L1001=SIZE (NOT a2_sealring a2_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL a2_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE a2_sealring_bent_exp a2_sealring_bent ==1
    L1004=INTERNAL a2_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT a2_sealring  //;a2 must be a ring
    L1006=CUT A2_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring a2_sealring   //;a2 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

a2_out=NOT INTERACT (NOT all_sealring a2_sealring) all_hole

a2_out_bent_edge=ANGLE a2_out ==45
a2_out_bent_exp=EXPAND EDGE a2_out_bent_edge INSIDE BY 2.003
a2_out_bent=COINCIDENT INSIDE EDGE a2_out_bent_exp a2_out 

sealring.s1_a2 {
    @Min and max space between a2 and scribe line must be ==4um
    L1001=SIZE (NOT a2_out a2_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC a2_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a2_out_bent_exp a2_out_bent ==1
    L1004=ENC a2_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

a2_in=INTERACT (NOT all_sealring a2_sealring) all_hole

a2_in_bent_edge=ANGLE a2_in ==45
a2_in_bent_exp=EXPAND EDGE a2_in_bent_edge INSIDE BY 2.503
a2_in_bent=COINCIDENT INSIDE EDGE a2_in_bent_exp a2_in 

sealring.s2_a2 {
    @Min and max space between a2 and die TAP must be ==5um
    L1001=SIZE (NOT a2_in a2_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC a2_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a2_in_bent_exp a2_in_bent ==1
    L1004=ENC a2_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w2_sealring_straight_edge=ANGLE w2_sealring !=45
w2_sealring_bent_edge=ANGLE w2_sealring ==45
w2_sealring_bent_exp=EXPAND EDGE w2_sealring_bent_edge INSIDE BY 0.118
w2_sealring_bent=COINCIDENT INSIDE EDGE w2_sealring_bent_exp w2_sealring 

sealring.w4 {
    @Min and max width of w2 must be ==0.23um
    L1001=SIZE (NOT w2_sealring w2_sealring_bent_exp) BY 0.115 UNDEROVER
    L1002=INTERNAL w2_sealring_straight_edge <0.23 REGION ABUT<90
    L1003=WITH EDGE w2_sealring_bent_exp w2_sealring_bent ==1
    L1004=INTERNAL w2_sealring_bent_edge <0.225 REGION ABUT<90
    L1005=NOT DONUT w2_sealring  //;w2 must be a ring
    L1006=CUT W2_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring w2_sealring   //;w2 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

w2_space=NOT INTERACT (NOT a2_sealring w2_sealring) si_sealring

w2_space_straight_edge=ANGLE w2_space !=45
w2_space_bent_edge=ANGLE w2_space ==45
w2_space_bent_exp=EXPAND EDGE w2_space_bent_edge INSIDE BY 0.72
w2_space_bent=COINCIDENT INSIDE EDGE w2_space_bent_exp w2_space 

sealring.s6 {
    @Min and max space between w2 must be ==1.43um
    L1001=SIZE (NOT w2_space w2_space_bent_exp) BY 0.715 UNDEROVER
    L1002=INTERNAL w2_space_straight_edge <1.43 REGION ABUT<90
    L1003=WITH EDGE w2_space_bent_exp w2_space_bent ==1
    L1004=INTERNAL w2_space_bent_edge <1.42 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w2_out=NOT INTERACT (NOT (NOT all_sealring w2_sealring) w2_space) all_hole

w2_out_bent_edge=ANGLE w2_out ==45
w2_out_bent_exp=EXPAND EDGE w2_out_bent_edge INSIDE BY 3.05
w2_out_bent=COINCIDENT INSIDE EDGE w2_out_bent_exp w2_out 

sealring.s7 {
    @Min and max space between w2 and scribe line must be ==6.095um
    L1001=SIZE (NOT w2_out w2_out_bent_exp) BY 3.048 UNDEROVER
    L1002=ENC w2_sealring_straight_edge si_out_straight_edge <6.095 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w2_out_bent_exp w2_out_bent ==1
    L1004=ENC w2_sealring_bent_edge si_out_bent_edge <6.09 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w2_in=INTERACT (NOT (NOT all_sealring w2_sealring) w2_space) all_hole

w2_in_bent_edge=ANGLE w2_in ==45
w2_in_bent_exp=EXPAND EDGE w2_in_bent_edge INSIDE BY 3.51
w2_in_bent=COINCIDENT INSIDE EDGE w2_in_bent_exp w2_in 

sealring.s8 {
    @Min and max space between w2 and die TAP must be ==7.015um
    L1001=SIZE (NOT w2_in w2_in_bent_exp) BY 3.508 UNDEROVER
    L1002=ENC w2_sealring_straight_edge si_in_straight_edge <7.015 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w2_in_bent_exp w2_in_bent ==1
    L1004=ENC w2_sealring_bent_edge si_in_bent_edge <7.01 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#ENDIF //;Switch3456

#IFDEF Switch456

a3_sealring_straight_edge=ANGLE a3_sealring !=45
a3_sealring_bent_edge=ANGLE a3_sealring ==45
a3_sealring_bent_exp=EXPAND EDGE a3_sealring_bent_edge INSIDE BY 3.003
a3_sealring_bent=COINCIDENT INSIDE EDGE a3_sealring_bent_exp a3_sealring 

sealring.w1_a3 {
    @Min and max width of a3 must be ==6um
    L1001=SIZE (NOT a3_sealring a3_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL a3_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE a3_sealring_bent_exp a3_sealring_bent ==1
    L1004=INTERNAL a3_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT a3_sealring //;a3 must be a ring
    L1006=CUT A3_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring a3_sealring   //;a3 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

a3_out=NOT INTERACT (NOT all_sealring a3_sealring) all_hole

a3_out_bent_edge=ANGLE a3_out ==45
a3_out_bent_exp=EXPAND EDGE a3_out_bent_edge INSIDE BY 2.003
a3_out_bent=COINCIDENT INSIDE EDGE a3_out_bent_exp a3_out 

sealring.s1_a3 {
    @Min and max space between a3 and scribe line must be ==4um
    L1001=SIZE (NOT a3_out a3_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC a3_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a3_out_bent_exp a3_out_bent ==1
    L1004=ENC a3_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

a3_in=INTERACT (NOT all_sealring a3_sealring) all_hole

a3_in_bent_edge=ANGLE a3_in ==45
a3_in_bent_exp=EXPAND EDGE a3_in_bent_edge INSIDE BY 2.503
a3_in_bent=COINCIDENT INSIDE EDGE a3_in_bent_exp a3_in 

sealring.s2_a3 {
    @Min and max space between a3 and die TAP must be ==5um
    L1001=SIZE (NOT a3_in a3_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC a3_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a3_in_bent_exp a3_in_bent ==1
    L1004=ENC a3_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w3_sealring_straight_edge=ANGLE w3_sealring !=45
w3_sealring_bent_edge=ANGLE w3_sealring ==45
w3_sealring_bent_exp=EXPAND EDGE w3_sealring_bent_edge INSIDE BY 0.12
w3_sealring_bent=COINCIDENT INSIDE EDGE w3_sealring_bent_exp w3_sealring 

sealring.w5 {
    @Min and max width of w3 must be ==0.23um
    L1001=SIZE (NOT w3_sealring w3_sealring_bent_exp) BY 0.115 UNDEROVER
    L1002=INTERNAL w3_sealring_straight_edge <0.23 REGION ABUT<90
    L1003=WITH EDGE w3_sealring_bent_exp w3_sealring_bent ==1
    L1004=INTERNAL w3_sealring_bent_edge <0.225 REGION ABUT<90
    L1005=NOT DONUT w3_sealring  //;w3 must be a ring
    L1006=CUT W3_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring w3_sealring   //;w3 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

w3_space=NOT INTERACT (NOT a3_sealring w3_sealring) si_sealring

w3_space_straight_edge=ANGLE w3_space !=45
w3_space_bent_edge=ANGLE w3_space ==45
w3_space_bent_exp=EXPAND EDGE w3_space_bent_edge INSIDE BY 0.77
w3_space_bent=COINCIDENT INSIDE EDGE w3_space_bent_exp w3_space 

sealring.s9 {
    @Min and max space between w3 must be ==1.53um
    L1001=SIZE (NOT w3_space w3_space_bent_exp) BY 0.765 UNDEROVER
    L1002=INTERNAL w3_space_straight_edge <1.53 REGION ABUT<90
    L1003=WITH EDGE w3_space_bent_exp w3_space_bent ==1
    L1004=INTERNAL w3_space_bent_edge <1.52 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w3_out=NOT INTERACT (NOT (NOT all_sealring w3_sealring) w3_space) all_hole

w3_out_bent_edge=ANGLE w3_out ==45
w3_out_bent_exp=EXPAND EDGE w3_out_bent_edge INSIDE BY 2.62
w3_out_bent=COINCIDENT INSIDE EDGE w3_out_bent_exp w3_out 

sealring.s10 {
    @Min and max space between w3 and scribe line must be ==5.235um
    L1001=SIZE (NOT w3_out w3_out_bent_exp) BY 2.618 UNDEROVER
    L1002=ENC w3_sealring_straight_edge si_out_straight_edge <5.235 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w3_out_bent_exp w3_out_bent ==1
    L1004=ENC w3_sealring_bent_edge si_out_bent_edge <5.23 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w3_in=INTERACT (NOT (NOT all_sealring w3_sealring) w3_space) all_hole

w3_in_bent_edge=ANGLE w3_in ==45
w3_in_bent_exp=EXPAND EDGE w3_in_bent_edge INSIDE BY 3.01
w3_in_bent=COINCIDENT INSIDE EDGE w3_in_bent_exp w3_in 

sealring.s11 {
    @Min and max space between w3 and die TAP must be ==6.015um
    L1001=SIZE (NOT w3_in w3_in_bent_exp) BY 3.008 UNDEROVER
    L1002=ENC w3_sealring_straight_edge si_in_straight_edge <6.015 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w3_in_bent_exp w3_in_bent ==1
    L1004=ENC w3_sealring_bent_edge si_in_bent_edge <6.01 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#ENDIF //;Switch456

#IFDEF Switch56

a4_sealring_straight_edge=ANGLE a4_sealring !=45
a4_sealring_bent_edge=ANGLE a4_sealring ==45
a4_sealring_bent_exp=EXPAND EDGE a4_sealring_bent_edge INSIDE BY 3.003
a4_sealring_bent=COINCIDENT INSIDE EDGE a4_sealring_bent_exp a4_sealring 

sealring.w1_a4 {
    @Min and max width of a4 must be ==6um
    L1001=SIZE (NOT a4_sealring a4_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL a4_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE a4_sealring_bent_exp a4_sealring_bent ==1
    L1004=INTERNAL a4_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT a4_sealring  //;a4 must be a ring
    L1006=CUT A4_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring a4_sealring   //;a4 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

a4_out=NOT INTERACT (NOT all_sealring a4_sealring) all_hole

a4_out_bent_edge=ANGLE a4_out ==45
a4_out_bent_exp=EXPAND EDGE a4_out_bent_edge INSIDE BY 2.003
a4_out_bent=COINCIDENT INSIDE EDGE a4_out_bent_exp a4_out 

sealring.s1_a4 {
    @Min and max space between a4 and scribe line must be ==4um
    L1001=SIZE (NOT a4_out a4_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC a4_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a4_out_bent_exp a4_out_bent ==1
    L1004=ENC a4_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

a4_in=INTERACT (NOT all_sealring a4_sealring) all_hole

a4_in_bent_edge=ANGLE a4_in ==45
a4_in_bent_exp=EXPAND EDGE a4_in_bent_edge INSIDE BY 2.503
a4_in_bent=COINCIDENT INSIDE EDGE a4_in_bent_exp a4_in 

sealring.s2_a4 {
    @Min and max space between a4 and die TAP must be ==5um
    L1001=SIZE (NOT a4_in a4_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC a4_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a4_in_bent_exp a4_in_bent ==1
    L1004=ENC a4_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w4_sealring_straight_edge=ANGLE w4_sealring !=45
w4_sealring_bent_edge=ANGLE w4_sealring ==45
w4_sealring_bent_exp=EXPAND EDGE w4_sealring_bent_edge INSIDE BY 0.118
w4_sealring_bent=COINCIDENT INSIDE EDGE w4_sealring_bent_exp w4_sealring 

sealring.w6 {
    @Min and max width of w4 must be ==0.23um
    L1001=SIZE (NOT w4_sealring w4_sealring_bent_exp) BY 0.115 UNDEROVER
    L1002=INTERNAL w4_sealring_straight_edge <0.23 REGION ABUT<90
    L1003=WITH EDGE w4_sealring_bent_exp w4_sealring_bent ==1
    L1004=INTERNAL w4_sealring_bent_edge <0.225 REGION ABUT<90
    L1005=NOT DONUT w4_sealring //;w4 must be a ring
    L1006=CUT W4_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring w4_sealring   //;w4 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

w4_space=NOT INTERACT (NOT a4_sealring w4_sealring) si_sealring

w4_space_straight_edge=ANGLE w4_space !=45
w4_space_bent_edge=ANGLE w4_space ==45
w4_space_bent_exp=EXPAND EDGE w4_space_bent_edge INSIDE BY 0.72
w4_space_bent=COINCIDENT INSIDE EDGE w4_space_bent_exp w4_space 

sealring.s12 {
    @Min and max space between w4 must be ==1.43um
    L1001=SIZE (NOT w4_space w4_space_bent_exp) BY 0.715 UNDEROVER
    L1002=INTERNAL w4_space_straight_edge <1.43 REGION ABUT<90
    L1003=WITH EDGE w4_space_bent_exp w4_space_bent ==1
    L1004=INTERNAL w4_space_bent_edge <1.42 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w4_out=NOT INTERACT (NOT (NOT all_sealring w4_sealring) w4_space) all_hole

w4_out_bent_edge=ANGLE w4_out ==45
w4_out_bent_exp=EXPAND EDGE w4_out_bent_edge INSIDE BY 3.05
w4_out_bent=COINCIDENT INSIDE EDGE w4_out_bent_exp w4_out 

sealring.s13 {
    @Min and max space between w4 and scribe line must be ==6.095um
    L1001=SIZE (NOT w4_out w4_out_bent_exp) BY 3.048 UNDEROVER
    L1002=ENC w4_sealring_straight_edge si_out_straight_edge <6.095 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w4_out_bent_exp w4_out_bent ==1
    L1004=ENC w4_sealring_bent_edge si_out_bent_edge <6.09 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w4_in=INTERACT (NOT (NOT all_sealring w4_sealring) w4_space) all_hole

w4_in_bent_edge=ANGLE w4_in ==45
w4_in_bent_exp=EXPAND EDGE w4_in_bent_edge INSIDE BY 3.51
w4_in_bent=COINCIDENT INSIDE EDGE w4_in_bent_exp w4_in 

sealring.s14 {
    @Min and max space between w4 and die TAP must be ==7.015um
    L1001=SIZE (NOT w4_in w4_in_bent_exp) BY 3.508 UNDEROVER
    L1002=ENC w4_sealring_straight_edge si_in_straight_edge <7.015 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w4_in_bent_exp w4_in_bent ==1
    L1004=ENC w4_sealring_bent_edge si_in_bent_edge <7.01 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#ENDIF //;Switch56

#IFDEF Switch6

a5_sealring_straight_edge=ANGLE a5_sealring !=45
a5_sealring_bent_edge=ANGLE a5_sealring ==45
a5_sealring_bent_exp=EXPAND EDGE a5_sealring_bent_edge INSIDE BY 3.003
a5_sealring_bent=COINCIDENT INSIDE EDGE a5_sealring_bent_exp a5_sealring 

sealring.w1_a5 {
    @Min and max width of a5 must be ==6um
    L1001=SIZE (NOT a5_sealring a5_sealring_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL a5_sealring_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE a5_sealring_bent_exp a5_sealring_bent ==1
    L1004=INTERNAL a5_sealring_bent_edge <5.995 REGION ABUT<90
    L1005=NOT DONUT a5_sealring  //;a5 must be a ring
    L1006=CUT A5_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring a5_sealring   //;a5 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

a5_out=NOT INTERACT (NOT all_sealring a5_sealring) all_hole

a5_out_bent_edge=ANGLE a5_out ==45
a5_out_bent_exp=EXPAND EDGE a5_out_bent_edge INSIDE BY 2.003
a5_out_bent=COINCIDENT INSIDE EDGE a5_out_bent_exp a5_out 

sealring.s1_a5 {
    @Min and max space between a5 and scribe line must be ==4um
    L1001=SIZE (NOT a5_out a5_out_bent_exp) BY 2 UNDEROVER
    L1002=ENC a5_sealring_straight_edge si_out_straight_edge <4 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a5_out_bent_exp a5_out_bent ==1
    L1004=ENC a5_sealring_bent_edge si_out_bent_edge <3.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

a5_in=INTERACT (NOT all_sealring a5_sealring) all_hole

a5_in_bent_edge=ANGLE a5_in ==45
a5_in_bent_exp=EXPAND EDGE a5_in_bent_edge INSIDE BY 2.503
a5_in_bent=COINCIDENT INSIDE EDGE a5_in_bent_exp a5_in 

sealring.s2_a5 {
    @Min and max space between a5 and die TAP must be ==5um
    L1001=SIZE (NOT a5_in a5_in_bent_exp) BY 2.5 UNDEROVER
    L1002=ENC a5_sealring_straight_edge si_in_straight_edge <5 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE a5_in_bent_exp a5_in_bent ==1
    L1004=ENC a5_sealring_bent_edge si_in_bent_edge <4.995 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w5_sealring_straight_edge=ANGLE w5_sealring !=45
w5_sealring_bent_edge=ANGLE w5_sealring ==45
w5_sealring_bent_exp=EXPAND EDGE w5_sealring_bent_edge INSIDE BY 0.12
w5_sealring_bent=COINCIDENT INSIDE EDGE w5_sealring_bent_exp w5_sealring 

sealring.w7 {
    @Min and max width of w5 must be ==0.23um
    L1001=SIZE (NOT w5_sealring w5_sealring_bent_exp) BY 0.115 UNDEROVER
    L1002=INTERNAL w5_sealring_straight_edge <0.23 REGION ABUT<90
    L1003=WITH EDGE w5_sealring_bent_exp w5_sealring_bent ==1
    L1004=INTERNAL w5_sealring_bent_edge <0.225 REGION ABUT<90
    L1005=NOT DONUT w5_sealring  //;w5 must be a ring
    L1006=CUT W5_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring w5_sealring  //;w5 must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

w5_space=NOT INTERACT (NOT a5_sealring w5_sealring) si_sealring

w5_space_straight_edge=ANGLE w5_space !=45
w5_space_bent_edge=ANGLE w5_space ==45
w5_space_bent_exp=EXPAND EDGE w5_space_bent_edge INSIDE BY 0.77
w5_space_bent=COINCIDENT INSIDE EDGE w5_space_bent_exp w5_space 

sealring.s15 {
    @Min and max space between w5 must be ==1.53um
    L1001=SIZE (NOT w5_space w5_space_bent_exp) BY 0.765 UNDEROVER
    L1002=INTERNAL w5_space_straight_edge <1.53 REGION ABUT<90
    L1003=WITH EDGE w5_space_bent_exp w5_space_bent ==1
    L1004=INTERNAL w5_space_bent_edge <1.52 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w5_out=NOT INTERACT (NOT (NOT all_sealring w5_sealring) w5_space) all_hole

w5_out_bent_edge=ANGLE w5_out ==45
w5_out_bent_exp=EXPAND EDGE w5_out_bent_edge INSIDE BY 2.62
w5_out_bent=COINCIDENT INSIDE EDGE w5_out_bent_exp w5_out 

sealring.s16 {
    @Min and max space between w5 and scribe line must be ==5.235um
    L1001=SIZE (NOT w5_out w5_out_bent_exp) BY 2.618 UNDEROVER
    L1002=ENC w5_sealring_straight_edge si_out_straight_edge <5.235 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w5_out_bent_exp w5_out_bent ==1
    L1004=ENC w5_sealring_bent_edge si_out_bent_edge <5.23 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

w5_in=INTERACT (NOT (NOT all_sealring w5_sealring) w5_space) all_hole

w5_in_bent_edge=ANGLE w5_in ==45
w5_in_bent_exp=EXPAND EDGE w5_in_bent_edge INSIDE BY 3.01
w5_in_bent=COINCIDENT INSIDE EDGE w5_in_bent_exp w5_in 

sealring.s17 {
    @Min and max space between w5 and die TAP must be ==6.015um
    L1001=SIZE (NOT w5_in w5_in_bent_exp) BY 3.008 UNDEROVER
    L1002=ENC w5_sealring_straight_edge si_in_straight_edge <6.015 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE w5_in_bent_exp w5_in_bent ==1
    L1004=ENC w5_sealring_bent_edge si_in_bent_edge <6.01 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

#ENDIF //;Switch6

wt_sealring_straight_edge=ANGLE wt_sealring !=45
wt_sealring_bent_edge=ANGLE wt_sealring ==45
wt_sealring_bent_exp=EXPAND EDGE wt_sealring_bent_edge INSIDE BY 0.168
wt_sealring_bent=COINCIDENT INSIDE EDGE wt_sealring_bent_exp wt_sealring 

sealring.w8 {
    @Min and max width of wt trench must be ==0.33um
    L1001=SIZE (NOT wt_sealring wt_sealring_bent_exp) BY 0.165 UNDEROVER
    L1002=INTERNAL wt_sealring_straight_edge <0.33 REGION ABUT<90
    L1003=WITH EDGE wt_sealring_bent_exp wt_sealring_bent ==1
    L1004=INTERNAL wt_sealring_bent_edge <0.325 REGION ABUT<90
    L1005=NOT DONUT wt_sealring  //;wt must be a ring
    L1006=CUT WT_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring wt_sealring   //;wt must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

wt_space=NOT INTERACT (NOT a1_sealring wt_sealring) si_sealring

wt_space_straight_edge=ANGLE wt_space !=45
wt_space_bent_edge=ANGLE wt_space ==45
wt_space_bent_exp=EXPAND EDGE wt_space_bent_edge INSIDE BY 0.72
wt_space_bent=COINCIDENT INSIDE EDGE wt_space_bent_exp wt_space 

sealring.s18 {
    @Min and max space between wt must be ==1.43um
    L1001=SIZE (NOT wt_space wt_space_bent_exp) BY 0.715 UNDEROVER
    L1002=INTERNAL wt_space_straight_edge <1.43 REGION ABUT<90
    L1003=WITH EDGE wt_space_bent_exp wt_space_bent ==1
    L1004=INTERNAL wt_space_bent_edge <1.42 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

wt_out=NOT INTERACT (NOT (NOT all_sealring wt_sealring) wt_space ) all_hole

wt_out_bent_edge=ANGLE wt_out ==45
wt_out_bent_exp=EXPAND EDGE wt_out_bent_edge INSIDE BY 2.95
wt_out_bent=COINCIDENT INSIDE EDGE wt_out_bent_exp wt_out 

sealring.s19 {
    @Min and max space between wt and scribe line must be ==5.895um
    L1001=SIZE (NOT wt_out wt_out_bent_exp) BY 2.948 UNDEROVER
    L1002=ENC wt_sealring_straight_edge si_out_straight_edge <5.895 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE wt_out_bent_exp wt_out_bent ==1
    L1004=ENC wt_sealring_bent_edge si_out_bent_edge <5.89 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

wt_in=INTERACT (NOT (NOT all_sealring wt_sealring) wt_space ) all_hole

wt_in_bent_edge=ANGLE wt_in ==45
wt_in_bent_exp=EXPAND EDGE wt_in_bent_edge INSIDE BY 3.51
wt_in_bent=COINCIDENT INSIDE EDGE wt_in_bent_exp wt_in 

sealring.s20 {
    @Min and max space between wt and die TAP must be ==7.015um
    L1001=SIZE (NOT wt_in wt_in_bent_exp) BY 3.508 UNDEROVER
    L1002=ENC wt_sealring_straight_edge si_in_straight_edge <7.015 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE wt_in_bent_exp wt_in_bent ==1
    L1004=ENC wt_sealring_bent_edge si_in_bent_edge <7.01 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

cp_sealring_straight_edge=ANGLE cp_sealring !=45
cp_sealring_bent_edge=ANGLE cp_sealring ==45
cp_sealring_bent_exp=EXPAND EDGE cp_sealring_bent_edge INSIDE BY 1.028
cp_sealring_bent=COINCIDENT INSIDE EDGE cp_sealring_bent_exp cp_sealring 

sealring.w9 {
    @Min and max width of cp must be ==2.05um
    L1001=SIZE (NOT cp_sealring cp_sealring_bent_exp) BY 1.025 UNDEROVER
    L1002=INTERNAL cp_sealring_straight_edge <2.05 REGION ABUT<90
    L1003=WITH EDGE cp_sealring_bent_exp cp_sealring_bent ==1
    L1004=INTERNAL cp_sealring_bent_edge <2.045 REGION ABUT<90
    L1005=NOT DONUT cp_sealring  //;cp must be a ring
    L1006=CUT CP_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring cp_sealring   //;cp must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

cp_in=INTERACT (NOT all_sealring cp_sealring) all_hole

cp_in_bent_edge=ANGLE cp_in ==45
cp_in_bent_exp=EXPAND EDGE cp_in_bent_edge INSIDE BY 6.478
cp_in_bent=COINCIDENT INSIDE EDGE cp_in_bent_exp cp_in 

sealring.s21 {
    @Min and max space between cp and die TAP must be ==12.95um
    L1001=SIZE (NOT cp_in cp_in_bent_exp) BY 6.475 UNDEROVER
    L1002=ENC cp_sealring_straight_edge si_in_straight_edge <12.95 REGION ABUT<90 MEASURE COIN
    L1003=WITH EDGE cp_in_bent_exp cp_in_bent ==1
    L1004=ENC cp_sealring_bent_edge si_in_bent_edge <12.945 REGION ABUT<90 MEASURE COIN
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

si_space=NOT all_sealring si_sealring

si_space_straight_edge=ANGLE si_space !=45
si_space_bent_edge=ANGLE si_space ==45
si_space_bent_exp=EXPAND EDGE si_space_bent_edge INSIDE BY 3.005
si_space_bent=COINCIDENT INSIDE EDGE si_space_bent_exp si_space 

sealring.s22 {
    @Min and max space between si must be ==6um
    L1001=SIZE (NOT si_space si_space_bent_exp) BY 3 UNDEROVER
    L1002=INTERNAL si_space_straight_edge <6 REGION ABUT<90
    L1003=WITH EDGE si_space_bent_exp si_space_bent ==1
    L1004=INTERNAL si_space_bent_edge <5.99 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

si_in=INTERACT si_sealring all_hole

si_in_straight_edge=ANGLE si_in !=45
si_in_bent_edge=ANGLE si_in ==45
si_in_bent_exp=EXPAND EDGE si_in_bent_edge INSIDE BY 2.503
si_in_bent=COINCIDENT INSIDE EDGE si_in_bent_exp si_in 

sealring.c1 {
    @Min and max clearance of si and die TAP must be ==5um
    L1001=SIZE (NOT si_in si_in_bent_exp) BY 2.5 UNDEROVER
    L1002=INTERNAL si_in_straight_edge <5 REGION ABUT<90
    L1003=WITH EDGE si_in_bent_exp si_in_bent ==1
    L1004=INTERNAL si_in_bent_edge <4.995 REGION ABUT<90
    L1005=NOT DONUT si_sealring   //;si must be a ring
    L1006=CUT SI_drc SEALRING_mark
    L1007=NOT INTERACT all_sealring si_sealring  //;si must be in sealring
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
    NOT INSIDE L1005 EXCL
    NOT INSIDE L1006 EXCL
    NOT INSIDE L1007 EXCL
}

si_out=NOT INTERACT si_sealring all_hole

si_out_straight_edge=ANGLE si_out !=45
si_out_bent_edge=ANGLE si_out ==45
si_out_bent_exp=EXPAND EDGE si_out_bent_edge INSIDE BY 2.005
si_out_bent=COINCIDENT INSIDE EDGE si_out_bent_exp si_out 

sealring.c2 {
    @Min and max clearance of si and scribe line must be ==4um
    L1001=SIZE (NOT si_out si_out_bent_exp) BY 2 UNDEROVER
    L1002=INTERNAL si_out_straight_edge <4 REGION ABUT<90
    L1003=WITH EDGE si_out_bent_exp si_out_bent ==1
    L1004=INTERNAL si_out_bent_edge <3.995 REGION ABUT<90
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
    NOT INSIDE L1003 EXCL
    NOT INSIDE L1004 EXCL
}

all_sealring_straight_exp_out=EXPAND EDGE all_sealring_straight_edge INSIDE BY 0.001
all_sealring_straight_out=NOT INTERACT all_sealring_straight_exp_out all_hole
all_sealring_straight_edge_out=COINCIDENT INSIDE EDGE all_sealring_straight_out all_sealring

all_sealring_straight_edge_out_exp=EXPAND EDGE all_sealring_straight_edge_out OUTSIDE BY 1000000 EXTEND BY 1000000
sealring_width=HOLES all_sealring_straight_edge_out_exp INNER

sealring_length1=RECTANGLE sealring_width <=1500 BY <=1500
sealring_length2=RECTANGLE sealring_width >1500 <=2500 BY <=2500
sealring_length3=RECTANGLE sealring_width >2500 <=3500 BY <=3500
sealring_length4=RECTANGLE sealring_width >3500 <=5000 BY <=5000
sealring_length5=RECTANGLE sealring_width >5000 <=7500 BY <=7500
sealring_length6=RECTANGLE sealring_width >7500 <=10000 BY <=10000
sealring_length7=RECTANGLE sealring_width >10000 <=12500 BY <=12500
sealring_length8=RECTANGLE sealring_width >12500

all_sealring_check1=INTERACT all_sealring sealring_length1
all_sealring_check2=INTERACT all_sealring sealring_length2
all_sealring_check3=INTERACT all_sealring sealring_length3
all_sealring_check4=INTERACT all_sealring sealring_length4
all_sealring_check5=INTERACT all_sealring sealring_length5
all_sealring_check6=INTERACT all_sealring sealring_length6
all_sealring_check7=INTERACT all_sealring sealring_length7
all_sealring_check8=INTERACT all_sealring sealring_length8

all_sealring_check1_hole=INTERACT sealring_width all_sealring_check1
all_sealring_check2_hole=INTERACT sealring_width all_sealring_check2
all_sealring_check3_hole=INTERACT sealring_width all_sealring_check3
all_sealring_check4_hole=INTERACT sealring_width all_sealring_check4
all_sealring_check5_hole=INTERACT sealring_width all_sealring_check5
all_sealring_check6_hole=INTERACT sealring_width all_sealring_check6
all_sealring_check7_hole=INTERACT sealring_width all_sealring_check7
all_sealring_check8_hole=INTERACT sealring_width all_sealring_check8

all_sealring_bent_edge1=ANGLE all_sealring_check1 ==45
all_sealring_bent_edge2=ANGLE all_sealring_check2 ==45
all_sealring_bent_edge3=ANGLE all_sealring_check3 ==45
all_sealring_bent_edge4=ANGLE all_sealring_check4 ==45
all_sealring_bent_edge5=ANGLE all_sealring_check5 ==45
all_sealring_bent_edge6=ANGLE all_sealring_check6 ==45
all_sealring_bent_edge7=ANGLE all_sealring_check7 ==45
all_sealring_bent_edge8=ANGLE all_sealring_check8 ==45

sealring.wc1_a1 {
    @the length of longer die side==0um (0um < L <= 1500um)
    LENGTH all_sealring_bent_edge1 !=0
    L1001=NOT ENCLOSE all_sealring_check1_hole (NOT all_sealring_check1_hole all_sealring_check1) ==1
    NOT INSIDE L1001 EXCL
}

all_sealring_bent_exp_out2=EXPAND EDGE all_sealring_bent_edge2 INSIDE BY 0.001
all_sealring_bent_out2=NOT INTERACT all_sealring_bent_exp_out2 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out2=COINCIDENT INSIDE EDGE all_sealring_bent_out2 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a2 {
    @the length of longer die side==62.5um (1500um < L <= 2500um)
    LENGTH all_sealring_bent_edge_out2 <=88.382
    LENGTH all_sealring_bent_edge_out2 >=88.395   
    L1001=NOT ENCLOSE all_sealring_check2_hole (NOT all_sealring_check2_hole all_sealring_check2) ==5
    NOT INSIDE L1001 EXCL
}

all_sealring_bent_exp_out3=EXPAND EDGE all_sealring_bent_edge3 INSIDE BY 0.001
all_sealring_bent_out3=NOT INTERACT all_sealring_bent_exp_out3 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out3=COINCIDENT INSIDE EDGE all_sealring_bent_out3 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a3 {
    @the length of longer die side==87.5um (2500um < L <= 3500um)
    LENGTH all_sealring_bent_edge_out3 <=123.737
    LENGTH all_sealring_bent_edge_out3 >=123.750  
    L1001=NOT ENCLOSE all_sealring_check3_hole (NOT all_sealring_check3_hole all_sealring_check3) ==5
    NOT INSIDE L1001 EXCL  
}

all_sealring_bent_exp_out4=EXPAND EDGE all_sealring_bent_edge4 INSIDE BY 0.001
all_sealring_bent_out4=NOT INTERACT all_sealring_bent_exp_out4 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out4=COINCIDENT INSIDE EDGE all_sealring_bent_out4 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a4 {
    @the length of longer die side==125um (3500um < L <= 5000um)
    LENGTH all_sealring_bent_edge_out4 <=176.770
    LENGTH all_sealring_bent_edge_out4 >=176.783    
    L1001=NOT ENCLOSE all_sealring_check4_hole (NOT all_sealring_check4_hole all_sealring_check4) ==5
    NOT INSIDE L1001 EXCL 
}

all_sealring_bent_exp_out5=EXPAND EDGE all_sealring_bent_edge5 INSIDE BY 0.001
all_sealring_bent_out5=NOT INTERACT all_sealring_bent_exp_out5 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out5=COINCIDENT INSIDE EDGE all_sealring_bent_out5 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a5 {
    @the length of longer die side==187.5um (5000um < L <= 7500um)
    LENGTH all_sealring_bent_edge_out5 <=265.158
    LENGTH all_sealring_bent_edge_out5 >=265.172   
    L1001=NOT ENCLOSE all_sealring_check5_hole (NOT all_sealring_check5_hole all_sealring_check5) ==5
    NOT INSIDE L1001 EXCL  
}

all_sealring_bent_exp_out6=EXPAND EDGE all_sealring_bent_edge6 INSIDE BY 0.001
all_sealring_bent_out6=NOT INTERACT all_sealring_bent_exp_out6 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out6=COINCIDENT INSIDE EDGE all_sealring_bent_out6 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a6 {
    @the length of longer die side==250um (7500um < L <= 10000um)
    LENGTH all_sealring_bent_edge_out6 <=353.547
    LENGTH all_sealring_bent_edge_out6 >=353.560 
    L1001=NOT ENCLOSE all_sealring_check6_hole (NOT all_sealring_check6_hole all_sealring_check6) ==5
    NOT INSIDE L1001 EXCL    
}

all_sealring_bent_exp_out7=EXPAND EDGE all_sealring_bent_edge7 INSIDE BY 0.001
all_sealring_bent_out7=NOT INTERACT all_sealring_bent_exp_out7 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out7=COINCIDENT INSIDE EDGE all_sealring_bent_out7 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a7 {
    @the length of longer die side==312.5um (10000um < L <= 12500um)
    LENGTH all_sealring_bent_edge_out7 <=441.934
    LENGTH all_sealring_bent_edge_out7 >=441.948   
    L1001=NOT ENCLOSE all_sealring_check7_hole (NOT all_sealring_check7_hole all_sealring_check7) ==5
    NOT INSIDE L1001 EXCL  
}

all_sealring_bent_exp_out8=EXPAND EDGE all_sealring_bent_edge8 INSIDE BY 0.001
all_sealring_bent_out8=NOT INTERACT all_sealring_bent_exp_out8 (HOLES SEALRING_mark INNER)
all_sealring_bent_edge_out8=COINCIDENT INSIDE EDGE all_sealring_bent_out8 (NOT INSIDE all_sealring EXCL)

sealring.wc1_a8 {
    @the length of longer die side==375um (12500um < L)
    LENGTH all_sealring_bent_edge_out8 <=530.323
    LENGTH all_sealring_bent_edge_out8 >=530.337  
    L1001=NOT ENCLOSE all_sealring_check8_hole (NOT all_sealring_check8_hole all_sealring_check8) ==5
    NOT INSIDE L1001 EXCL  
}

all_not_layer=AND (AND (AND (AND (AND (AND (AND DN_drc HN_drc) TB_drc) GT_drc) SN_drc) NG_drc) PM_drc) PB_drc

sealring.n1 {
    @sealring and the following layers must not be overlapped or enclosed(DN_drc/HN_drc/TB_drc/GT_drc/SN_drc/NG_drc/PM_drc/PB_drc)
    L1001=bulk NOT INTERACT SEALRING_mark  //;;seal ring mark layer must be exist in chip
    L1002=INTERACT all_sealring all_not_layer
    NOT INSIDE L1001 EXCL
    NOT INSIDE L1002 EXCL
}

sealring.note {
  @seal ring must be a ring. 
  L1001=NOT DONUT SEALRING_mark
  NOT INSIDE L1001 EXCL
}

#ENDIF  //;SEAL_RING_Rule
