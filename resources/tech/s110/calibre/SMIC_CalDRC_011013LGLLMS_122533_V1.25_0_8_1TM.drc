

//  This Rule File will check 1P8M, you can choose TM2(122)/TV2(123) or M8(68)/V7(76) as a top metal/via 

//  For this DRC, you can change the opition to check normal top metal or thick top metal. Please refer to the choice note.

//=================================================================================
//|                                                                               |
//|  0.13um 1P8M Calibre DRC rule file for                                        |
//|                                                                               |
//|       SMIC:    0.11um/0.13um Logic & Mix-Signal 1.2/2.5/3.3v generic          |
//|                    and 1.5/3.3v low leakage Design Rule                       |
//|       									  |
//|       Doc. No.:       TD-LO13-DR-2001      Rev.: 21    Tech DevRev: 1.25      |
//|                                                                               |
//|                                                                               |
//|       Calibre tool version:    2016.3_19.12                                   |
//|                                                                               |
//|===============================================================================|
//|                                                                               |
//|    DISCLAIMER                                                                 |
//|                                                                               |
//|   SMIC hereby provides the quality information to you but makes no claims,    |
//| promises or guarantees about the accuracy, completeness, or adequacy of the   |
//| information herein. The information contained herein is provided on an "AS IS"|
//| basis without any warranty, and SMIC assumes no obligation to provide support |
//| of any kind or otherwise maintain the information.                            |
//|                                                                               |
//|   SMIC disclaims any representation that the information does not infringe any|
//| intellectual property rights or proprietary rights of any third parties.SMIC  |
//| makes no other warranty, whether express, implied or statutory as to any      |
//| matter whatsoever, including but not limited to the accuracy or sufficiency of|
//| any information or the merchantability and fitness for a particular purpose.  |
//| Neither SMIC nor any of its representatives shall be liable for any cause of  |
//| action incurred to connect to this service.                                   |
//|                                                                               |
//|===============================================================================|
//|                                                                               |
//|    STATEMENT OF USE AND CONFIDENTIALITY                                       |
//|                                                                               |
//|   The following/attached material contains confidential and proprietary       |
//| information of SMIC. This material is based upon information which SMIC       |
//| considers reliable, but SMIC neither represents nor warrants that such        |
//| information is accurate or complete, and it must not be relied upon as such.  |
//| This information was prepared for informational purposes and is for the use by|
//| SMIC's customer only. SMIC reserves the right to make changes in the          |
//| information at any time without notice.                                       |
//|   No part of this information may be reproduced, transmitted, transcribed,    |
//| stored in a retrieval system, or translated into any human or computer        |
//| language, in any form or by any means, electronic, mechanical, magnetic,      |
//| optical, chemical, manual, or otherwise, without the prior written consent of |
//| SMIC. Any unauthorized use or disclosure of this material is strictly         |
//| prohibited and may be unlawful. By accepting this material, the receiving     |
//| party shall be deemed to have acknowledged, accepted, and agreed to be bound  |
//| by the foregoing limitations and restrictions. Thank you.                     |
//|                                                                               |
//|===============================================================================|
//|                                                                               |
//|   This file includes SVRF/TVF Technology under license by Mentor Graphics     |
//| Corporation.  "SVRF/TVF Technology" shall mean Mentor Graphics' Standard      |
//| Verification Rule Format ("SVRF") and Tcl Verification Format ("TVF")         |
//| proprietary syntaxes for expressing process rules.  You shall not use SVRF/TVF|
//| Technology unless you are a Mentor Graphics customer with a license to use the|
//| applicable Mentor Graphics software. The exact terms of your obligations and  |
//| rights are governed by your respective license.  You shall not use SVRF/TVF   |
//| Technology except: (a) for your internal business purposes and (b) for use    |
//| with Mentor Graphics' Calibre tools. All SVRF/TVF Technology constitutes or   |
//| contains trade secrets and confidential information of Mentor Graphics or its |
//| licensors. You shall not make SVRF/TVF Technology available in any form to any|
//| person other than your employees and on-site contractors, excluding Mentor    |
//| Graphics competitors, whose job performance requires access and who are under |
//| obligations of confidentiality.                                               |
//|                                                                               |
//|===============================================================================|
//|                                                                               |
//| 1. Skip the following rules:                                                  |
//|       1)      Note Rules                                                      |
//|       2)      CDR Rules                                                       | 
//|       3)      NC.3; PC.3; MVN.3; MVP.3                                        |
//|       4)      FUSE.11; FUSE.19; PI.2                                          |
//| 2. Please pay attention to the "User Choice" block to make some useful choices|
//|										  |
//|===============================================================================|
//|                                                                               |
//| Revision History :                                                            |
//|                                                                               |
//|   Rev         Date           Who                      What                    |
//| -------  -------------  --------------  --------------------------------------|
//|V1.25_0	 2018-01-17		SS YANG			1.ADD for DR update: DG_8_R,SRCK_31,RESNW_10,RESNW_11,SRCK_33,SRCK_34,SRCK_20_b,
//|                                           SRCK_21_b,MTT_2a,MVP_3,MVN_3,NC_3,PC_3,seal ring group rule for 0.11|
//|											2.Update for DR update: AA_9,,MTT_1a,MTT_4,MTT_5, RESNW_7,SRCK_1,SRCK_2,SRCK_3,
//|											SRCK_4,SRCK_5_Vn,SRCK_6_TVn,SRCK_16,SRCK_17,SRCK_18,SRCK_19,SRCK_20,SRCK_21,
//|											PSUB_4,DG_5,PSUB_8,NC_5,LU_4,FUSE_5,FUSE_6,ESD_22a_G,ESD_22b_G,ALPA_10a,
//|                                         ALPA_10b,MOM_4_G,
//|											3.Update for history issue:M1_3a_R, Mn_3a_R,BD_4,MD_6,RESP1_7,ESD_3_G|
//|											4.Update rule comment to aline DR:Convention_3|
//|											5.Update all the switch format for standardization|
//|											6.Add Seal Ring switch for DR update|
//|											7.Add and update layer mapping for DR update|
//|											8.Change the PSUB_9_R rule name to main rule as PSUB_9 for DR update|
//|											9.Change the rule name CT_15 to CT_12 to aline DR|
//|											10.Update the Latch up group derived layer define for history issue|
//|											11.Update Connect for MTT_5 for DR update|
//|                                         12. Update the RESP1_4_R rule name to match DR|
//|                                         13.Update skew_edge_check MTT_1 to match DR|
//|                                         14.Update rule to exclude SRAM region for DR update:AA_1_2,AA_3,AA_4,AA_5,AA_6,
//|                                            AA_7,GT_2,GT_3,GT_4,GT_5,GT_6,GT_13_R,SN_1,SN_3,SN_5,SN_6,SN_7,SN_8,SN_9,
//|                                            SN_10,SP_1,SP_3,SP_4,SP_5,SP_6,SP_7,SP_8,SP_10,CT_1,CT_3,CT_4a,CT_5,CT_6,
//|                                            CT_7_8,CT_9,CT_10,M1_1,M1_2,V1_4_5_8,V1_6_7_9,Mn_2,Vn_1,Vn_3_4_7,MTT_1,
//|                                            MTT_1a,MTT_2a,MTT_3,Convention_2|
//|                                         15.Add SRAM group rule for DR update|
//|                                         16.Update ESD1 group rule for DR update|
//|                                         17.Add ESD_8_G switch for DR update	|
//|											18.Update Convention_4 for code optimize|
//|                                                                                  |
//|V1.24_1   2016-03-18     Liu Li          Update MOM_4_G in 1P8M_1TM            |
//|                                          Update HRP_12 coding to reduce false alarm                                     |
//|V1.24_0   2015-10-08     Weili Kong     1.Add switch for 0.11/0.13 process,PAD_TEXT,resistor connectivity,MOM_4_G for pcell.
//|					    2.Add layer FUSEMK1,GTFUSE,ESDIO2,ESD5V,ALMK1,MOMDMY,MOMMK(1-6).
//|					    3.Update the description for rule:DNW.3,AA.4/9/10,NW.6,NC.6/7,PC.6/7,MVN.6/7,MVP.6/7,
//|					      NLL.4b/6,PLL.4b/6,NLH.4b/6,PLH.4b/6,SN.7/8,SP.7/8,CT.4a,V(1-7).1,TV2.1,PA.3.
//|					    4.Update rule:CT.3,TM2.9.G,PA.1a.1b.G,HRP.3,MIMDMY.2.G,AADUMCK.5,GTDUMCK.5/6,SL.5.G.MTT.7a/7b,MIM.6.R,SMIM.6.R,SMIM.15,GConvention,SAB_10.
//|					    5.Modify rule:GSL=>GSL.G,GFUSE=>GFUSE.G,MIM.(14/17).G=>MIM.(14/17).R,GSRCK.G=>GSRCK,ALAP.10=>ALPA.10a,SMIM.14.G=>SMIM.14.R.
//|					    6.Add rule:DNW.6,PSUB.9_R,GT.(14/15/16).R,PLL.11.R,CT.4c/15,V(1-7).12,TV2.11,MTT.11.G,PA.6,ALPA.10b,SAB_2a,SAB_10a_R.
//|					    7.Add group rule:GMD,GRESAA,GRESNW,GRESP1,GEFU,GLOGO,GESD,GLU,GESD1,GMOM.
//|					    8.Delete rule:MIM.15.G,MIM.SHD.2,BMIM.12.R.SMIM.SHD.2
//|										  |
//|										  |
//|										  |
//|V1.23_3P    04-Nov-2014    Liu Li       modify Tech Ver to 1.23 follow DR version naming
//|
//|V2.3_2P    20-Jan-2014     Liu Li        update TV1_4_5 coding in two top metal  
//|                                                                               |
//|V2.3_1P    20-Sep-2013     Liu Li       Update Mn.8 MIM.14/15,CT.5,CT.5a,TMn.7a/7b,MTT.7/7b,,P2.5,BMIM.6|        
//|                                                                               |
//|V2.3_0P    11-Jul-2013     Liu Li      Update DG.4/4b/5,SN.3/4,SP.3/4,GT.11,CT.5/5b/10, M1.3a_R,M1.5/8,Mn.5/8,TM2.8/9,MIMDMY.2,
//|                                       M1.3c,Mn.3c,M1.6a/6b,Mn.6a/6b,TM1.6/7a/7b,MTT.2b/4/6a/7/7b,HRP.11/12,DUP rule,AADUMCK.4   
//|                                       ALPA rule,SL rule,PA rule,MIM.1/5,BMIM.1/6,P2.7,SMIM.1,SMIM.5MTT2.4,BD rule,PA.4
//|                                       update all switch    
//|                                       For metal layers,update DRC code checking include metal slot. 
//|                                       Delete GT.note3,HRP.11,CT.5b,RDL_P2 rule,RDL_PI,Sealring rule.
//|Pre2.3     19-Mar-2013   Iori Wang       Update dummy check rule.
//|Pre2.3     08-Mar-2013   Liu Li          Update MTT.9,GT.5,MTT.7b,MIMSHD.3            
//|                                                                               |   
//|           04-Mar-2013   Liu Li         Update MTT.2a,MIM.17,RDL_PA2_2,Vn_3_4_7| 
//|                                                                                |
//|           06-Feb-2013   Liu Li        Add HRP.12,MTT.1a/6a/7b,MIMDMY.2,P2.7  |
//|                                        Update HRP.10/11                        | 
//|                                        Delete HRP.9,MIM.6b/6c,TTM2.7b,SMIM.6b/6c|
//|            13-Jan_2013    Liu Li       Add Layer some layers definition       |   
//|                                        update AA_4,CT_4a,CT_4b coding         |        
//|            21-Dec_2012   Eric Wang    Update PSUB_4,TTM2_9 for inductor device| 
//| 					  Update MIM_14,MIM_15,MIM_17,BMIM_13,SMIM_14,SMIM_16,SMIM_18 to follow DR updating for MIMSHD rule| 
//|                                       Add MIM_SHD_2,BMIM_SHD_2,SMIM_SHD_2,MIMSHD_3,AA_11,AA_12 to follow DR. |
//|                                       Remove TTM2_10a/b/c/d,TTM2_7b,TTM2_7c (DR need [NC] or not clear)  |
//|                                       Update HRP_3 to check only horizontal direction width |
//| 	                     Jane Zeng    Add Layer ALRDL and MARKS               |
//|                                       Add Seal Ring check rules               |
//|             06-Sep_2012   Eric Wang    Update Mn_3a,Mn_3b,Vn_10,GT_13 rule name to Mn_3a_R, Mn_3b_R,Vn_10_R,GT_13_R for recommanded rule|
//|                                  	  Update CT_5,CT_5a (for exact CT and AA checking area)|
//|             06-Jun-2012   Eric Wang    Update PA_HOLE definition(change "PA INSIDE ALPA" to "PA OUTSIDE MD" follow DR team request)|
//|                                        Update CT_9(exclude "INDMY" to follow DR update),change GT_9 back(follow DR change back)|
//|                                        Update AA_3,PSUB_4,PSUB_7,GT_3,GT_4,GT_8,GT_9 (exclude "INDMY" to follow DR update)|
//|                                        Update NC_2,PC_2(change "SINGULAR" to "OPPOSITE") to follow DR update)|
//|                                        Update MVN_1 and MVN_2 (follow NC_1 and NC_2 coding style only check core HVT MOS device region)|
//|                                        Update MVP_1 and MVP_2 (follow PC_1 and PC_2 coding style only check core HVT MOS device region)|
//|                                        Update CT_5,CT_5a(Add SN PW and SP NW to define device AA)|
//|                                        Update V1_10 to V1_11 (follow DR update)|
//|					   Update V2_10 V3_10 V4_10 V5_10 V6_10 (follow DR update)|
//|                                        Add GT_13 (follow DR adding these rules)|
//|                                        Add WARN_TM1_FOUND (follow Zhitao's suggestion)|
//|                                        Update SN_7 ( define NTAP_NEW to add NWH and NWHT considering post-lota)|
//| V2.2_0T       07-Nov-2011   Eric Wang      Remove DG_7,Update PA_3 Update NW_6|
//|                                     Add datatype for  DNW,HRPDMY,MIMDMY,ALPA ;|
//|                                  Update CT_5,CT_5a for device AA and pickup AA|
//|                           Update CT_5,CT_5a,PA_3 and Update Vn_10(n=1,2,3,4,5,6)|
//|                              make switch for Vn_10(n=1,2,3,4,5,6)in user choice |
//|                                                           Update GBD rules    |
//|                                        Update AA_7,AA_9,PSUB_2a,PSUB_2b,PSUB_7|
//|                                               GT_Note3,NLL_3,NLL_4,PLL_3,PLL_4|
//|                                                NLH_3,NLH_4,PLH_3,PLH_4,SN_3   |
//|                                                SN_4,SP_3,SP_4,SP_10,CT_5a     |
//|                                                Vn_10(n=2,3,4,5,6),PI_2,RDL_PA2_8|
//|                                                RDL_PI_3,RDL_PI_8,PA_3,MIM_6b  |
//|                                                MIM_6c,SMIM_6b,SMIM_6c         |
//|                                          Modify RESOLUTION 5->1  |
//|   2.7     27-July-2011   Zhitao Chen     Recover DG_5 back as version 2.5     |
//|                                           to ignore BJT and diode.            |
//|   2.6     26-July-2011   Zhitao Chen     Fix false alarms of PSUB_4 TTM2_5    |
//|                                           in inductor and AA_10 in RESNW.     |
//|                                          Add BJT and diode as devices in DG_5.|
//|                                          Change GT_11 into only check channel.|
//|                                          Comment out GT_12, covered by SP_12. |
//|                                          Optimize DNW_4 to find violation     |
//|                                           not depending on NW hole in DNW.    |
//|   2.5     20-July-2011   Zhitao Chen     Add option for 0.11um process DG_4.  |
//|   2.4     20-July-2011   Zhitao Chen     Remove code for DNW in AA_10.        |
//|   2.3     19-July-2011   Zhitao Chen     SN_1/2 SP_1/2 update to avoid false  |
//|                                           alarm at corner to corner patterns. |
//|                                          Vn_2b updated to 4x4.                |
//|   2.2     12-July-2011   Zhitao Chen     DG_4 0.4 ==> 0.27                    |
//|                                          DG_5 add RESNW and RESAA into code.  |
//|                                          V1_2b Vn_2b TV_2b updated.           |
//|                                          NW_4 divided into NW_4 NW_4a NW_4b.  |
//|                                          DNW_3 optimized to cover cases       |
//|                                           that NW is not full ring around DNW.|
//|                                          Optimize M*_3c with ABUT<89.9 instead|
//|                                           of <90 to avoid false alarm of some |
//|                                           non-orthogonal patterns.            |
//|   2.1     26-May-2011    Zhitao Chen     Update MVN_1/2 MVP_1/2 to follow doc.|
//|                                          Add AA_10 DG_7 GT_Note3.             |
//|                                                                               |
//|   2.0     22-March-2011  Zhitao Chen     Change HRP_1~9 into HRP_3~11         |
//|                                          Add HRP_1 HRP_2 (min W & space 0.30) |
//|                                          Del NW_6 NW_7ab, change NW_8 to NW_5 |
//|                                          NW_4 diff net space 1.0 -> 1.2       |
//|                                          PSUB_8 added, PSUB AND DNW           |
//|                                          RDL_PA2_14 RDL_PI_14 added. den 0~50%|
//|                                          SN_9 updated, add NWH for post LOTA  |
//|                                          Vn.2b changed into 3x3 0.29um.       |
//|                                          Add TV.2b 3x3 0.54um.                |
//|                                          GBD (border rules) added             |
//|                                           GBD option is added for user.       |
//|                                           It should be checked only for chip. |
//|                                           Calibre_ver >= 2008.3 needed for it.|
//|                                          And simply change comment of rules:  |
//|                                           DG_4, DG_6, NW_3.                   |
//|*******************************************************************************|
//|  Old File Name : SmicDRL16PM5R_cal013_mixlog_sali_p1mt8_1tm_122533.drc        |
//|   1.0     09-Aug-2010    Seek Rui        Correct PA_3: TM2_SL->TM2 OR TM2SLOT1|
//|                                          Logic DR update to 16P:              |
//|                                            Modify DG.4: 0.33->0.4,            |
//|                                                         DRC will check DG     |
//|                                                         enclose channel on    |
//|                                                         both X/Y direction.   |
//|*******************************************************************************|
//|  Old File Name : SmicDRL15RM4R_cal013_mixlog_sali_p1mt8_122533.drc            |
//|   1.5     29-Dec-2009    Seek Rui        Modify AA.7: NOT PTAP in rule check. |
//|                                          Modify PA.3: PA must covered by TM.  |
//|                                          Modify Opition of TM: TV2_6_7 should |
//|                                                 not be checked when you choose|
//|                                                 thick top metal.              |
//|                                          Modify NW.4, NW.7ab, space between   |
//|                                                 NWRs should follow different  |
//|                                                 potential rule.               |
//|   1.4     12-Jun-2009    Seek Rui        Add layer AADUM(10:1)                |
//|                                          Modify BAD_IMP rule check:           |
//|                                                 NOT INCLUDE AADUM.            |
//|   1.3.a   01-Jun-2009    Seek Rui        Modify NC.2/PC.2                     |
//|                                                 TTM2.10a/TTM2.10b/TTM2.10c/TTM2.10d |
//|                                                 "INTERACT" --> "AND"          |
//|   1.2     07-May-2009    Seek Rui        Modify NC.1/NC.2/PC.1/PC.2           |
//|   1.1     14-Apr-2009    Seek Rui        Unite original DRC to this for 1 top |
//|                                            metal DRC check, diff normal&thick |
//|                                            top metal with opition.            |
//|                                          Add PA rules.                        |
//|                                          Modify TM2.10c, correct the define of|
//|                                                 ind_rf inductor.              |
//|*******************************************************************************|
//|  Old File Name : SmicDRL14RM4R_cal013_mixlog_sali_p1mt6_1225.drc              |
//|   1.2     12-Dec-2008    Carolyn Y       Redefine GTO(add GTDUM)              | 
//|                                          Add layer LOGO(26), MD(130)          |
//|                                              RDL_PA2 rules, RDL_PI rules      |
//|                                          Modify ALPA.1, PA.1                  |
//|                                                 Convention_LAT.3a(NTAP->NTAPi)|
//|                                                 Convention_LAT.3b(PTAP->PTAPi)|
//|                                          Optimize NLL_8/PLL_8/NLH_8/PLH_8     |
//|   1.1     25-Nov-2008    Jenny Jiang     Merge 0.13Logic/Mixed 1.2/2.5&1.2/3.3V|
//|                                          Add option to select 1.2/2.5 or 1.2/3.3V|
//|                                          Update to 4R,Optimize SLOT rule check|
//|                                          Optimize V6_3_4_7;CAP_MIM;MIM.3&MIM.10|
//|					     Add BMIM & SMIM;3T-inductor rule check|
//|*******************************************************************************|
//|  Old File Name : SmicDRL14RM3T_cal013_mixlog_sali_p1mt8_1225.drc              |
//|   1.4     25-Aug-2008    Carolyn Y      No update,just follow p1mt6 version   |
//|   1.3     18-Jan-2008    Drincy Wei     Optimize NC.4,PC.4 (add "OPPOSITE")   |
//|						     DG.1(TOUCH -> INTERACT)	  |
//|                                                  NW.4(NW-> NW NOT INTERACT DG)|
//|   1.2     31-Dec-2007    Karen Kang     add Mn.3a,Mn.3b for choice rules	  |
//|					    add PA.1,modify the GTi->GT0 in connect part|
//|   1.1     21-Nov-2007    Karen Kang     update to 14R,no rule update          |
//|*******************************************************************************|
//|  Old File Name : SmicDRL13RM2T_cal013_mixlog_sali_p1mt8_1255.drc              |
//|   1.1     11-Jul-2007    Karen Kang     update to LO (13R),MM(3T)             |
//|					    modify GT.8,GT.9,GT.11,MIM.13,SP.7,SP.9|	
//|					    add convention latch up rules         |	
//|                                         modify Mn.8,TM.8;RESOLUTION:1-->5     |
//|*******************************************************************************|
//|  Old File Name : SmicDRL12RM2T_cal013_mixlog_sali_p1mt8_1255.drc              |
//|   1.5     22-Jun-2007    Karen Kang     redefine PW_INNW                      | 
//|                                         Modify NC.1 NC.2,PC.1,PC.2            |
//|   1.4     27-Mar-2007    Shirley Chen   update NC.1,NC.2;PC.1,PC.2            |
//|					    change file name                      |
//|   1.3     25-Jan-2007    Karen Kang     Optimize NC.4,PC.4 definition         |
//|   1.2     04-Jan-2007    Karen Kang     Optimize SLOT definition              |
//|   1.1     06-Dec-2006    Karen Kang     Update to 12R , based on DR           |
//|                                         Add "ALPA" layer definition           |
//|                                         Optimize Slot definition;HRP.1,HRP.2, |
//|                                         FUSE.1,FUSE,6;TM.4                    |
//|*******************************************************************************|
//|  Old File Name : SmicDR11R_cal013_mixlog_p1mt8_2.5V.drc                       |
//|   1.1     12-May-2006    Shirley Chen   Update to 11R , based on DR           |
//|					    Add Top metal density check(TM.7)     |
//|*******************************************************************************|
//|  Old File Name : SmicDR10R_cal013_mixlog_p1mt8_2.5V.drc                       |
//|                                                                               |
//|   1.4     25-Apr-2006    Shirley Chen   Modify SAB.9: 0.30-->0.28             |
//|   1.3     13-Mar-2006    Drincy Wei     Optimize rule NC_1,NC_2,PC_1,PC_2     |
//|   1.2     16-Nov-2005    Jenny Jiang    Add M8/V7 as top metal/via for        |
//|                                         compatible and modify SN.9,GT.11,TM.4 |
//|                                                                               |
//|   1.1     07-Oct-2005    Drifty Yang    Update to 10R                         |
//|                                         Add Fuse rules                        |
//|                                                                               |
//|*******************************************************************************|
//|   Old File Name : SmicDR8R_cal013_log_p1mt8_sali.drc                          |
//|                                                                               |
//|   Rev         Date           Who                      What                    |
//| -------  -------------  --------------  --------------------------------------|
//|   1.4     31-Mar-2005     Jenny Jiang   Modify M1_1/M1_2  to 0.16/0.17.       |
//|                                         Modify AA_11 from 0.32 to 0.30        |
//|   1.3     24-Feb-2005     Jenny Jiang   Merge NC and VTNH to NC;PC and VTPH to| 
//|                                         PC                                    |
//|   1.2     26-Jan-2005     Rimbo Yan     change layer number PC-->16 NC-->21   |
//|   1.1     13-Jan-2005     Rimbo Yan     Update to 8P;modified DNW.2,DNW.5,    |
//|                                         N/PC.3 .4 .7 .8;add N/PC.9 .10;MVP/N  |
//|                                                                               |
//|*******************************************************************************|
//|   Old File Name : SmicDR7R_cal013_log_p1mt8_sali.drc                          |
//|                                                                               |
//|   1.1     20-Dec-2004     Rimbo Yan     Update to 7P;rename VTNH,VTPH to NC,PC|
//|                                                                               |
//|*******************************************************************************|
//|   Old File Name : SmicDR6R_cal013_log_p1mt8_sali.drc                          |
//|                                                                               |
//|   1.2     30-Nov-2004     Rimbo Yan     Add NC check;clean false errors caused|
//|                                         by EXCLU layer                        |    
//|   1.1     18-Oct-2004     Rimbo Yan     Add VTNH,PC rule for high vt N/PMOS   |
//|                                                                               |
//|*******************************************************************************|
//| Old File Name : SmicDR5T_cal013_log_p1mt8_sali.drc                            |
//|                                                                               |
//|   1.2     08-Sep-2004     Rimbo Yan     modified AA_11                        |
//|   1.1     26-Aug-2004     Rimbo Yan     update to 5T; modified NW.7,AA.11,DG4,|
//|                                         DG.7,DG.8                             |
//|                                                                               |
//|*******************************************************************************|
//| Old File Name : SmicDR4R_cal013_log_p1mt8_sali.drc                            |
//|                                                                               |
//|   1.2     13-Jul-2004     Rimbo Yan     modified  DG.7 ,GT.10                 |
//|   1.1     01-Jul-2004     Rimbo Yan     update to 4R; modified M1.6, M1.8,Mn.4|
//|                                         Mn.7,Mn.8,Mn.9,MT.5,V1.4,SL_3_4_5a    |
//|                                                                               |
//|*******************************************************************************|
//| Old File Name : SmicDR3T_cal013_log_p1mt8_sali.drc                            |
//|                                                                               |
//|   1.4     22-Jun-2004     Rimbo Yan      Merge Layer 12 ,13 , AA ;            |
//|                                          modified AA.4 ;SAB.11;MT3            |
//|   1.3     10-Jun-2004     Rimbo Yan      add P/NTAP connect to P/NSD ;        |
//|                                           modified M1_2;NW.5                  |
//|   1.2     15-Feb-2004     Rimbo Yan      modify the SL_3_4_5,SN/P.14,DG.3,SN.6|
//|                                          SN.10 SP.7 M1.14                     |
//|   1.1     04-Feb-2004     Rimbo Yan      update to 3T                         |
//|                                                                               |
//|*******************************************************************************|
//| Old File Name : SmicDR2T_cal013_log_p1mt8_sali.drc                            |
//|
//|   1.10    15-DEC-2003     Micky Yu      Improve 45 wide metal def.; SN.10/12  |
//|                                         DG.8                                  |
//|   1.9     17-OCT-2003     Micky Yu      CT.3; Vn.3; NW.5/8; PD.GT; GT.11; DG.3|
//|                                         Mn.3                                  |
//|   1.8     30-SEP-2003     Micky Yu      MT.3; Add virtual connect colon       |
//|                                         NW_DNW Def; AA.11                     |
//|   1.7     15-SEP-2003     Micky Yu      Move SL_0 to Mn Part,check no-SL metal|
//|   1.6     05-SEP-2003     Micky Yu       Make a choice of Un-check SLOT rules |
//|   1.5     25-AUG-2003     Micky Yu       Improve file structure; Connectivity |
//|                                          GT.4/5; FLT_NW; Vn.10; DG.6          |
//|   1.4     11-AUG-2003     Micky Yu       Mn.3                                 |
//|   1.3     10-JUL-2003     Micky Yu       AA.6; CT.3                           |
//|   1.2     04-JUL-2003     Micky Yu       Mn.3                                 |
//|   1.1     27-JUN-2003     Micky Yu       Rename based on D/R revise to 2T     |
//|                                                                               |
//|*******************************************************************************|
//| Old File Name : SmicDR1T_cal013_log_p1mt8_sali.drc                            |
//|                                                                               |
//|   Rev         Date           Who                      What                    |
//| -------  -------------  --------------  --------------------------------------|
//|   1.4     19-JUN-2003     Micky Yu      Density; add LVS power name; NR.6     |
//|                                         NN.NOTE.4;DG.3/7                      |
//|   1.3     13-JUN-2003     Micky Yu      SN/SP/NLL~PLH.3/4, SN/SP.8,AA.11      |
//|                                         M1.11,M2~7.7; Add Text Layer          |
//|   1.2     09-JUN-2003     Micky Yu      GT.8, AA.10                           |
//|   1.1     09-JUN-2003     Micky Yu      Original version                      |
//|                                                                               |
//|===============================================================================|


//=>   1.2V/1.5V core   :  no DG
//=>   2.5V/3.3V   :  DG only
//****************************************************
//  <Choice 1>   Process for 0.13 or 0.11   
//****************************************************

#DEFINE process 11              //Valid value is:{ 13, 11};
							    //;If you run it for 0.11um process, please change it into "11".
								//; But it "13" by default, which means for 0.13um process.

//****************************************************
//  <Choice 2>   For Top metal rule choice #
//****************************************************

//There are two series TM rules, normal and thick top metal rules.
//Default is TM to check normal top metal rule.
//If design follow normal top metal rule, keep default setup, if design follow thick top metal rule, switch change to MTT
#DEFINE Top_metal TM	//Valid value is:{ TM, MTT };	



//****************************************************
//  <Choice 3>   IO Voltage   
//****************************************************

//For the 1.2/2.5V process, set this option to "1225";
//For the 1.5/3.3V or 1.2/3.3V process, set this option to "1533";
//Default value is "1533".

#DEFINE IO 1533					//Valid value is:{ 1225, 1533};

//****************************************************
//  <Choice 4>   MIM BMIM SMIM 
//****************************************************
/* MiM check rule selection. the value:( "one_mask","two_mask","stack_mim" );
Defaults for check rule one mask MIM;
If you want to check two mask MIM rule, please change it into "two_mask";
If you want to check stacked MIM, please change it into "stack_mim".*/


#DEFINE MIM two_mask		//Valid value is:{ one_mask, two_mask, stack_mim }

//********************************************************************************************************************
//  <Choice 5> RECOMMENDED_CHECK (Recommended to make some useful choices to speed DRC running time!)
//********************************************************************************************************************

#DEFINE RECOMMENDED_CHECK YES	//Valid value is:{ YES, NO }
								//; The default setting is YES.
								// This switch is to check recommended rules which named as *_R 
								// If setting YES is to check the rule,if no need check these rules, change to NO.

#DEFINE OPEN_RECOMMENDED_DEFAULT_OFF NO	 //Valid value is:{ YES, NO }
								 //; The default setting is NO to not check following rules: GT_13_R GT_14_R GT_15_R GT_16_R PLL_11_R RESAA_1_R RESAA_1a_1_R RESAA_1a_2_R RESP1_1_R RESP1_1a_1_R RESP1_1b_1_R RESP1_2_R RESP1_6_R HRP_10_R SAB_10a_R MIM_6_R MIM_14_R BMIM_6_R BMIM_7_R SMIM_6_R SMIM_14_R SRGT_13_R RESP1_4_R RESNW_11_R
								 //When rules need to check,Please set the value of RECOMMENDED_CHECK to YES and change OPEN_RECOMMENDED_DEFAULT_OFF "NO"into"YES".


//**********************************************************************************
//  <Choice 6> Guideline Rules
//**********************************************************************************
#DEFINE GUIDELINES_RULES_CHECK YES			//Valid value is:{ YES, NO }
									//; The default setting is YES.
									// This switch is to check recommended rules which named as *_G
									// If setting YES is to check the rule,if no need check these rules, change to NO.
//********************************************************************************************************************
 
#DEFINE Guideline_ESD_Rule NO		//Valid value is:{ YES, NO }
									// the switch is only for ESD guideline rules.
									// Default value is "NO" to not check ESD rules.  
									// When ESD rules need to check,Please set the value of GUIDELINES_RULES_CHECK to YES and change Guideline_ESD_Rule "NO"into"YES".


//********************************************************************************************************************
 
#DEFINE Guideline_FUSE_Rule NO		//Valid value is:{ YES, NO }
									// the switch is only for Metal Fuse guideline rules.
									// Default value is "NO" to not check Metal Fuse rules.  
									// When Metal Fuse rules need to check,Please set the value of GUIDELINES_RULES_CHECK to YES and change Guideline_FUSE_Rule "NO"into"YES".


//********************************************************************************************************************

#DEFINE Guideline_EFUSE_Rule NO	   	 //Valid value is:{ YES, NO }
									 // the switch is only for Poly E-Fuse guideline rules.
									 // Default value is "NO" to not check Poly E-Fuse rules.  
									 // When Poly E-Fuse rules need to check,Please set the value of GUIDELINES_RULES_CHECK to YES and change Guideline_EFUSE_Rule "NO"into"YES".


//********************************************************************************************************************
 
#DEFINE Guideline_MIMDMY_Rule NO 	 //Valid value is:{ YES, NO }
									 // the switch is only for MIMDMY guideline rules.
									 // Default value is "NO" to not check MIMDMY guideline rules.  
									 // When MIMDMY guideline rules need to check,Please set the value of GUIDELINES_RULES_CHECK to YES and change Guideline_MIMDMY_Rule "NO"into"YES".


//********************************************************************************************************************
 
#DEFINE Guideline_MIMSHD_Rule NO 	 //Valid value is:{ YES, NO }
									 // the switch is only for Metal shield guideline rules.
									 // Default value is "NO" to not check Metal shield guideline rules.  
									 // When Metal shield guideline rules need to check,Please set the value of GUIDELINES_RULES_CHECK to YES and change Guideline_MIMSHD_Rule "NO"into"YES".



//****************************************************
//   <Choice 7>the connectivity of resistor
//****************************************************

#DEFINE DEFINE_PAD_BY_TEXT YES		//Valid value is:{ YES, NO}
									//; The default setting is YES.
                        	       //; When ?VDD?,?VCC?,?VSS?,?GND? as text name using layer Metal txt in PAD.
                        	       //; If value is NO, it is regarded as I/O PAD; if value is YES, it is regarded POWER PAD.    

#DEFINE CONNECT_ALL_RESISTOR NO		//Valid value is:{ YES, NO}
									//; The default setting is NO 
                        	       //; When resistors are between PAD and AA injector. 
                        	       //; If value is NO, the connection is broken; if value is YES, the connection is not broken.

//****************************************************
//   <Choice 8> Seal Ring
//****************************************************
#DEFINE SRCK_FOR_11		YES			//Valid value is:{ YES, NO}
									//The default setting is YES to check 0.11um process seal ring rules
									//When 0.11um process seal ring rules no need check,please change to NO.

#DEFINE SRCK_FOR_13		NO			//Valid value is:{ YES, NO}
									//The default setting is NO to not check 0.13um process seal ring rules
									//When 0.13um process seal ring rules need check,please change to YES.

//****************************************************
//   <Choice 9> MOM_CHECK For Pcell
//****************************************************

#DEFINE MOM_4_CHECK YES		//Valid value is:{ YES, NO}

/*
MOM(metal oxide metal) capacitor rule selection for MOM.4[G]. Defaults to YES.
when check MOM.4[G] guidelines,please set it to "YES";
when not to check MOM.4[G] guidelines,please set it to "NO"*/

//**********************************************************************************
//  <Choice 10> (Recommended to make some useful choices to speed DRC running time!)
//**********************************************************************************
#DEFINE GMS_CHECK		YES				//Valid value is:{ YES, NO}
										//; This switch is for Mix-Rules checking choice !
                                        //; Default set is YES to check Mix-rules
                                        //; For Logic-User, set switch to NO
                                        //; For Mix-User, set switch to YES
                                        
//*************************************
//*  <Choice 11>  ESD1 rules  *
//*************************************

//Approach A:  SMIC ESD designs follow Approach A , where ESD1 mask is generated with SMIC logic operation formula. In this approach, ESD1 is drawn to cover ESD NMOS. If you apply SMIC ESD IO in your design, please follow approach A and must use SMIC logic operation formula for ESD1 mask tape out.

//Approach B: ESD1 is a pure drawing layer for mask tape out. No logic operation formula is needed for ESD1 mask tape out. If SMIC ESD IO will not be adopted in the design, you can follow approach B for ESD1 layout design.




#DEFINE ESD1_Approach_A  YES        //;The Valid value is: {YES,NO}
                                  //;#if value is YES,to check ESD1_Approach_A rules; if value is NO, NOT Check ESD1_Approach_A rules.
                                  //;# Default value is YES

#DEFINE ESD1_Approach_B NO       //;The Valid value is: {YES,NO}
                                  //;#if value is YES,to check ESD1_Approach_B rules; if value is NO, NOT Check ESD1_Approach_B rules.
                                  //;# Default value is NO


//***************************************the END for switch setting*******************************************

//*************************************
//     DIRECTIVE SECTION
//*************************************
LAYOUT PRIMARY "*"
LAYOUT PATH "*.gds"
LAYOUT SYSTEM GDSII 

DRC RESULTS DATABASE "drc_CAL.OUT" ASCII 
DRC SUMMARY REPORT "drc_CAL.SUM" HIER

PRECISION 	1000
RESOLUTION 	1	     

FLAG ACUTE YES
FLAG NONSIMPLE YES
FLAG SKEW YES
//FLAG OFFGRID YES

skew_edge_check {
           @Skew edge check
           (DFM COPY  (DRAWN SKEW)  EDGE) OUTSIDE EDGE INDMY }
// does not check layers that do not appear in other rule
// checks used in the run

TEXT DEPTH PRIMARY

LAYOUT TOP LAYER TM2aib TV2ai M7ib V6i M6ib V5i M5ib V4i M4ib V3i M3ib V2i M2ib V1i M1ib
LAYOUT TOP LAYER M8ib V7i M7ib V6i M6ib V5i M5ib V4i M4ib V3i M3ib V2i M2ib V1i M1ib
LVS POWER NAME "?VDD?" "?VCC?" 



//************************************               
//     INPUT LAYER STATEMENTS
//************************************               

//LAYER	KVi	 9  	//	Alignment mark clear out
LAYER   MAP     10 DATATYPE 0 510
LAYER   MAP     12 DATATYPE 0 1200
LAYER   MAP     13 DATATYPE 0 1300
LAYER	AAi	510 1200 1300  //	Active Area / SDG
LAYER   MAP     10 DATATYPE 1 500
LAYER   AADUM   500     //      Dummy AA layer
LAYER   MAP     14 DATATYPE 0 512
LAYER	NWi	512  	//	N-Well / N-Tub
LAYER   MAP     19 DATATYPE 0 513
LAYER   DNWi    513     //      Deep Nwell
LAYER   MAP     29 DATATYPE 0 514
LAYER 	DGi	 514 	//	Dual Gate
LAYER   MAP     30      DATATYPE 1 515
LAYER   GTDUMi  515     //      GT dummy layer
LAYER   MAP     30      DATATYPE 0 516
LAYER   GTi     516     //      Poly Gate, Poly-1, ONO Gate
LAYER   MAP     31      DATATYPE 0  509
LAYER   P2i     509      //      Capacitor bottom plate
LAYER   NLLi	35  	//	NMOS LDD Implant for Low VDD
LAYER   NLHi	36  	//	NMOS LDD Implant for High VDD
LAYER   PLHi    37  	//	PMOS LDD Implant for High VDD
LAYER   PLLi    38  	//	PMOS LDD Implant for Low VDD
LAYER   MAP     39      DATATYPE 0  517
LAYER   HRPi    517      //      High Resistance Poly Imp
LAYER   MAP     40      DATATYPE 0  518
LAYER   SNi 	518  	//	N+ S/D Implant
LAYER   MAP     41      DATATYPE 0  519
LAYER   ESD1i   519     	//	ESD1 Implant 
LAYER   MAP     43      DATATYPE 0 520
LAYER   SPi 	520  	//	P+ S/D Implant
LAYER   MAP     44      DATATYPE 0  521
LAYER   MVPi    521      //      Low Vt Pmos 
LAYER   MAP     45      DATATYPE 0 522
LAYER   MVNi    522      //      Low Vt Nmos 
LAYER   MAP     46      DATATYPE 0 508
LAYER   VTPHi   508      //       PCH HV VT adjust Implant
LAYER   MAP     47      DATATYPE 0 507
LAYER   VTNHi   507      //       NCH HV VT adjust Implant
LAYER   MAP     16      DATATYPE 0   523
LAYER   PC1     523      //      High Vt Pmos 
LAYER   MAP     21      DATATYPE 0  524
LAYER   NC1     524      //      High Vt Nmos 
LAYER   MAP     48      DATATYPE 0  525
LAYER   SABi	525  	//	Resist Protect Oxide / Salicide block
LAYER   MAP     50      DATATYPE 0  526
LAYER   CTi  	526  	//	Contact Hole
LAYER   MAP     58      DATATYPE 0 506  
LAYER   MIMi    506      //      Top Plate of MiM capacitor
LAYER   MAP     61      DATATYPE 0 527
LAYER   M1ib  	527  	//	Metal-1
LAYER   MAP     62      DATATYPE 0 528
LAYER   M2ib 	528  	//	Metal-2
LAYER   MAP     63      DATATYPE 0 529
LAYER   M3ib 	529  	//	Metal-3
LAYER   MAP     64      DATATYPE 0 530
LAYER   M4ib 	530  	//	Metal-4
LAYER   MAP     65      DATATYPE 0 531
LAYER   M5ib 	531  	//	Metal-5
LAYER   MAP     66      DATATYPE 0 533
LAYER   M6ib 	533  	//	Metal-6
LAYER   MAP     67      DATATYPE 0 534
LAYER   M7ib 	534  	//	Metal-7
LAYER   MAP     68      DATATYPE 0 535
LAYER   M8ib     535      //      Metal-8
LAYER   MAP     120      DATATYPE 0 536
LAYER   TM1aib 	536  	//	Top Metal 1
LAYER   MAP     122      DATATYPE 0 537
LAYER   TM2aib 	537  	//	Top Metal
LAYER   MAP     70      DATATYPE 0 538
LAYER   V1i  	538  	//	Via-1 Hole
LAYER   MAP     71      DATATYPE 0 539
LAYER   V2i 	539  	//	Via-2 Hole
LAYER   MAP     72      DATATYPE 0 540
LAYER   V3i 	540  	//	Via-3 Hole
LAYER   MAP     73      DATATYPE 0 541
LAYER   V4i 	541  	//	Via-4 Hole
LAYER   MAP     74      DATATYPE 0 542
LAYER   V5i 	542  	//	Via-5 Hole
LAYER   MAP     75      DATATYPE 0 543
LAYER   V6i 	543  	//	Via-6 Hole
LAYER   MAP     76      DATATYPE 0 544
LAYER   V7i     544      //      Via-7 Hole
LAYER   MAP     123      DATATYPE 0 545
LAYER   TV2ai 	545  	//	Top Via
LAYER   MAP     26      DATATYPE 0  546
LAYER   LOGO    546     //      L mark area
LAYER   MAP     80      DATATYPE 0 547
LAYER   PAi 	547  	//	Passivation / Pad
LAYER   MAP     81      DATATYPE 0 548
LAYER   FUSEi  	548  	//	Fuse Window
LAYER   PIi     82      //      Polyimid passivation layer
LAYER   MAP     83 DATATYPE 0 549
LAYER   ALPAai   549     //      AL Bonding Pad
LAYER   MAP     83 DATATYPE 3 550
LAYER   ALRDLi   550     //  
LAYER   MAP     130 DATATYPE 0  551 
LAYER   MD      551     //      Metal about topmetal for redistribution;Passivation 2
LAYER   MAP     85 DATATYPE 0  552
LAYER   PSUBi  	552  	//	Native Mos area
LAYER   MAP     90 DATATYPE 0  553
LAYER   DUMBM   553      //      Block layer for Dummy operation on all Metal
LAYER   MAP     95 DATATYPE 0  554
LAYER   RESNW   554  	//	Dummy Pattern for NWELL Resistor
LAYER   MAP     96      DATATYPE 0 310
LAYER   RESP1   310 	//	Dummy Pattern for Poly-1 Resistor
LAYER   MAP     96      DATATYPE 1 300
LAYER   RESP3T  300     //      Dummy Pattern for 3T Resistor
LAYER   MAP     97      DATATYPE 0  555
LAYER   RESAA   555  	//	Dummy Pattern for AA Resistor
LAYER   MAP     100      DATATYPE 0  556
LAYER	OPCBA	556   	//	Blocking Layer for OPC operation on AA
LAYER   MAP     101      DATATYPE 0  557
LAYER	OPCBP	557  	//	Blocking Layer for OPC operation on GT
LAYER   MAP     102      DATATYPE 0  558
LAYER	OPCBM	558  	//	Blocking Layer for OPC operation on M1
LAYER	PWH 	105  	//	P Well for HV device
LAYER	NWH 	106  	//	N Well for HV device
LAYER	NWHT 	110  	//	N Well for triple gate IO
LAYER   MAP     127      DATATYPE 0  559
LAYER   BORDER  559     //      Border layer for chip level design
LAYER   MAP     132      DATATYPE 0 1320  
LAYER   EXCLU   1320     //      Un-DRC region
LAYER   MAP     134     DATATYPE 0 1340
LAYER   DMPNP   1340    //      BJT ID layer
LAYER   MAP     137      DATATYPE 0  560
LAYER   CAPBP   560     //      Capacitor Dummy
LAYER   MAP     138     DATATYPE 0 1380
LAYER   DSTR    1380
LAYER   MAP     210     DATATYPE 0 2100
LAYER   HRPDMY  2100    //      HRP dummy
LAYER   MAP     211     DATATYPE 0 2110
LAYER   MIMDMY  2110    //      MIM Dummy Layer 
LAYER   MAP     212     DATATYPE 0    2120      
LAYER   INDMY   2120     //      IN Dummy Layer
LAYER   empty   999     //      Only for slot density check
LAYER MAP 91 DATATYPE 0 910
LAYER DUMBA     910     // Dummy AA block layer
LAYER MAP 189  DATATYPE  151  1895
LAYER MARKS 1895
LAYER MAP 60 DATATYPE  0  561
LAYER INST 561
LAYER MAP 83 DATATYPE  1  563
LAYER ALPAR 563
LAYER MAP 89 DATATYPE 156 8956 
LAYER DUPMK1 8956
LAYER MAP 211 DATATYPE 1 8957
LAYER MAP 211 TEXTTYPE 1 8957
LAYER MOMDMYi 8957

LAYER MAP       61 DATATYPE 1 611
LAYER M1DUM	611
LAYER MAP       62 DATATYPE 1 621
LAYER M2DUM	621
LAYER MAP	63 DATATYPE 1 631
LAYER M3DUM	631
LAYER MAP       64 DATATYPE 1 641
LAYER M4DUM	641
LAYER MAP       65 DATATYPE 1 651
LAYER M5DUM	651
LAYER MAP       66 DATATYPE 1 661
LAYER M6DUM	661
LAYER MAP       67 DATATYPE 1 671
LAYER M7DUM	671
LAYER MAP       68 DATATYPE 1 681
LAYER M8DUM	681
LAYER MAP       120 DATATYPE 1 1201
LAYER TM1DUMi   1201
LAYER MAP       122 DATATYPE 1 1221
LAYER TM2DUMi   1221
LAYER MAP   61 DATATYPE 2  682     
LAYER M1SLOT 682
LAYER MAP   62 DATATYPE 2  683     
LAYER M2SLOT 683
LAYER MAP   63 DATATYPE 2  684     
LAYER M3SLOT 684
LAYER MAP   64 DATATYPE 2  685     
LAYER M4SLOT 685
LAYER MAP   65 DATATYPE 2  686     
LAYER M5SLOT 686
LAYER MAP   66 DATATYPE 2  687     
LAYER M6SLOT 687
LAYER MAP   67 DATATYPE 2  688     
LAYER M7SLOT 688
LAYER MAP   68 DATATYPE 2  689     
LAYER M8SLOT 689
LAYER MAP   120 DATATYPE 2  690     
LAYER TM1SLOT 690
LAYER MAP   122 DATATYPE 2  691     
LAYER TM2SLOT 691
LAYER MAP 92 DATATYPE 0 920 
LAYER DUMBP 920
LAYER MAP 93 DATATYPE 0 930 
LAYER VARMOS 930
LAYER MAP 81 DATATYPE 152 813
LAYER FUSEMK1i 813

LAYER MAP 81 DATATYPE 2 812
LAYER EFUSEi  812

LAYER MAP 81 DATATYPE 1 811
LAYER GTFUSEi 811

LAYER MAP 133 DATATYPE 3 1333
LAYER ESDIO2i 1333

LAYER MAP 133 DATATYPE 1 1331
LAYER ESD5Vi 1331

LAYER MAP 83 DATATYPE 151 966
LAYER ALMK1i 966

LAYER MAP 211 DATATYPE  11  2111
LAYER MOMMK1i		    2111

LAYER MAP 211 DATATYPE  12  2112
LAYER MOMMK2i		    2112

LAYER MAP 211 DATATYPE  13  2113
LAYER MOMMK3i	      	    2113

LAYER MAP 211 DATATYPE  14  2114
LAYER MOMMK4i		    2114

LAYER MAP 211 DATATYPE  15  2115
LAYER MOMMK5i		    2115

LAYER MAP 211 DATATYPE  16  2116
LAYER MOMMK6i	   	    2116

LAYER MAP 211 DATATYPE  17  2117
LAYER MOMMK7i		    2117

LAYER MAP 131 DATATYPE 175  959 
LAYER VDDMK1 959 

LAYER MAP 131  DATATYPE 176  960
LAYER VSSMK1 960

LAYER  MAP  61     TEXTTYPE  0     527
LAYER  MAP  141    DATATYPE  0     1410
LAYER  MAP  141    TEXTTYPE  0     1410
LAYER  M1TXT                527    1410

LAYER  MAP  62     TEXTTYPE  0     528
LAYER  MAP  142    DATATYPE  0     1411
LAYER  MAP  142    TEXTTYPE  0     1411
LAYER  M2TXT                 528   1411

LAYER  MAP  63     TEXTTYPE  0     529
LAYER  MAP  143    DATATYPE  0     1412
LAYER  MAP  143    TEXTTYPE  0     1412
LAYER  M3TXT                 529   1412

LAYER  MAP  64     TEXTTYPE  0     530
LAYER  MAP  144    DATATYPE  0     1413
LAYER  MAP  144    TEXTTYPE  0     1413
LAYER  M4TXT                 530   1413

LAYER  MAP  65     TEXTTYPE  0     531
LAYER  MAP  145    DATATYPE  0     1414
LAYER  MAP  145    TEXTTYPE  0     1414
LAYER  M5TXT                 531   1414

LAYER  MAP  66     TEXTTYPE  0     533
LAYER  MAP  146    DATATYPE  0     1415
LAYER  MAP  146    TEXTTYPE  0     1415
LAYER  M6TXT                 533   1415

LAYER  MAP  67     TEXTTYPE  0     534
LAYER  MAP  147    DATATYPE  0     1416
LAYER  MAP  147    TEXTTYPE  0     1416
LAYER  M7TXT                 534   1416

LAYER  MAP  68     TEXTTYPE  0     535
LAYER  MAP  148    DATATYPE  0     1417
LAYER  MAP  148    TEXTTYPE  0     1417
LAYER  M8TXT                 535   1417

LAYER  MAP  120     TEXTTYPE  0     536
LAYER  MAP  120    DATATYPE  3     1418
LAYER  MAP  120    TEXTTYPE  3     1418
LAYER  TM1TXT                536   1418

LAYER  MAP  122	   TEXTTYPE  0     537
LAYER  MAP  122    DATATYPE  3     1419
LAYER  MAP  122    TEXTTYPE  3     1419
LAYER  TM2TXT                537   1419

LAYER  MAP  83     TEXTTYPE  0     549
LAYER  MAP  83     DATATYPE  2     1420
LAYER  MAP  83     TEXTTYPE  2     1420
LAYER  ALPATXT               549   1420


LAYER MAP 131  DATATYPE 177  1317
LAYER LUWMK1		     1317

M1i =M1ib NOT M1SLOT
M2i =M2ib NOT M2SLOT 
M3i =M3ib NOT M3SLOT 
M4i =M4ib NOT M4SLOT
M5i =M5ib NOT M5SLOT 
M6i =M6ib NOT M6SLOT
M7i =M7ib NOT M7SLOT
M8i =M8ib NOT M8SLOT
TM1ai=TM1aib NOT TM1SLOT 
TM2ai = TM2aib NOT TM2SLOT
TM2DUM = TM2DUMi OR M8DUM  

FUSEMK1 = FUSEMK1i NOT (EXCLU OR MARKS)
EFUSE = EFUSEi NOT (EXCLU OR MARKS)
GTFUSE = GTFUSEi NOT (EXCLU OR MARKS)

MOMDMY = MOMDMYi NOT (EXCLU OR MARKS)
MOMMK1 = MOMMK1i NOT (EXCLU OR MARKS)
MOMMK2 = MOMMK2i NOT (EXCLU OR MARKS)
MOMMK3 = MOMMK3i NOT (EXCLU OR MARKS)
MOMMK4 = MOMMK4i NOT (EXCLU OR MARKS)
MOMMK5 = MOMMK5i NOT (EXCLU OR MARKS)
MOMMK6 = MOMMK6i NOT (EXCLU OR MARKS)
MOMMK7 = MOMMK7i NOT (EXCLU OR MARKS)

TM1i    = COPY TM1ai
TM2i    = M8i OR TM2ai  
TV2i    = V7i OR TV2ai
//KV	= KVi NOT (EXCLU OR MARKS)
AAO	= AAi NOT (EXCLU OR MARKS)
NW	= NWi NOT (EXCLU OR MARKS)
DNW     = DNWi NOT (EXCLU OR MARKS)
DG      = DGi NOT (EXCLU OR MARKS)
GTO	= GTi NOT (EXCLU OR MARKS)
NLL 	= NLLi NOT (EXCLU OR MARKS)
NLH 	= NLHi NOT (EXCLU OR MARKS)
PLH     = PLHi NOT (EXCLU OR MARKS)
PLL     = PLLi NOT (EXCLU OR MARKS)
HRP     = HRPi NOT (EXCLU OR MARKS)
MIM     = MIMi NOT (EXCLU OR MARKS)
SN  	= SNi NOT (EXCLU OR MARKS)
ESD1    = ESD1i NOT (EXCLU OR MARKS)
ESDIO2  = ESDIO2i NOT (EXCLU OR MARKS)
ESD5V   = ESD5Vi NOT (EXCLU OR MARKS)
ALMK1   = ALMK1i NOT (EXCLU OR MARKS)
SP  	= SPi NOT (EXCLU OR MARKS)
PCi     = PC1 OR VTPHi
NCi     = NC1 OR VTNHi 
PC      = PCi NOT (EXCLU OR MARKS)
MVP     = MVPi NOT (EXCLU OR MARKS)
NC      = NCi NOT (EXCLU OR MARKS)
MVN     = MVNi NOT (EXCLU OR MARKS)
SAB 	= SABi NOT (EXCLU OR MARKS)
CTO  	= CTi NOT (EXCLU OR MARKS)
M1O  	= M1i NOT (EXCLU OR MARKS)
M2  	= M2i NOT (EXCLU OR MARKS)
M3  	= M3i NOT (EXCLU OR MARKS)
M4  	= M4i NOT (EXCLU OR MARKS)
M5	= M5i NOT (EXCLU OR MARKS)
M6  	= M6i NOT (EXCLU OR MARKS)
M7  	= M7i NOT (EXCLU OR MARKS)
M8      = M8i NOT (EXCLU OR MARKS)
TM1  	= TM1i NOT (EXCLU OR MARKS)
TM2  	= TM2i NOT (EXCLU OR MARKS)
V1O  	= V1i NOT (EXCLU OR MARKS)
V2  	= V2i NOT (EXCLU OR MARKS)
V3  	= V3i NOT (EXCLU OR MARKS)
V4  	= V4i NOT (EXCLU OR MARKS)
V5  	= V5i NOT (EXCLU OR MARKS)
V6  	= V6i NOT (EXCLU OR MARKS)
V7      = V7i NOT (EXCLU OR MARKS)
TV2  	= TV2i NOT (EXCLU OR MARKS)
PA  	= PAi NOT (EXCLU OR MARKS)
P2      = P2i NOT (EXCLU OR MARKS)
FUSE    = FUSEi NOT (EXCLU OR MARKS)
PI      = PIi NOT (EXCLU OR MARKS)
ALPAi   = ALPAai OR ALRDLi
ALPA    = ALPAi NOT (EXCLU OR MARKS)
PSUB  	= PSUBi NOT (EXCLU OR MARKS)
GTDUM	= GTDUMi NOT (EXCLU OR MARKS)
GT0	= GTi NOT ((((RESP1 NOT INTERACT SAB) OR (RESP1 AND SAB)) OR HRPDMY) OR (EXCLU OR MARKS))

//TEXT	LAYER	61 141
//TEXT	LAYER	62 142
//TEXT	LAYER	63 143
//TEXT	LAYER	64 144
//TEXT	LAYER	65 145
//TEXT	LAYER	66 146
//TEXT	LAYER	67 147
//TEXT	LAYER	122 148

//ATTACH	141	M1i
//ATTACH	142	M2i
//ATTACH	143	M3i
//ATTACH	144	M4i
//ATTACH	145	M5i
//ATTACH	146	M6i
//ATTACH	147	M7i
//ATTACH	148	TM2i
//ATTACH	61	M1i
//ATTACH	62	M2i
//ATTACH	63	M3i
//ATTACH	64	M4i
//ATTACH	65	M5i
//ATTACH	66	M6i
//ATTACH	67	M7i
//ATTACH	122	TM2i


CONNECT ALPAi TM2i BY PAi

#IFDEF MIM one_mask
TV2_NOTMIM = TV2i NOT MIMi
TV2_ANDMIM = TV2i AND MIMi
CONNECT TM2i MIMi BY TV2_ANDMIM
CONNECT TM2i M7i BY TV2_NOTMIM
CONNECT M7i M6i BY V6i
CONNECT M6i M5i BY V5i
CONNECT M5i M4i BY V4i
CONNECT M4i M3i BY V3i
CONNECT M3i M2i BY V2i
CONNECT M2i M1i BY V1i
#ENDIF
#IFDEF MIM two_mask
V6_ANDP2 = (V6i AND P2i) NOT MIMi
V6_ANDMIM = V6i AND MIMi
V6_NOTMIM = (V6i NOT MIMi) NOT P2i
CONNECT TM2i M7i BY TV2i
CONNECT M7i MIMi BY V6_ANDMIM
CONNECT M7i P2i BY V6_ANDP2
CONNECT M7i M6i BY V6_NOTMIM
CONNECT M6i M5i BY V5i
CONNECT M5i M4i BY V4i
CONNECT M4i M3i BY V3i
CONNECT M3i M2i BY V2i
CONNECT M2i M1i BY V1i
#ENDIF
#IFDEF MIM stack_mim
MIM_up = MIMi ENCLOSE V6
MIM_down = MIMi ENCLOSE V5
MIM_bot1 = M6 AND MIM_up
MIM_bot2 = M5 AND MIM_down
V5_ANDMIM = V5 AND MIM_down
V5_NOTMIM = V5 NOT MIM_down
V6_ANDMIM = V6 AND MIM_up
V6_NOTMIM = V6 NOT MIM_up
CONNECT TM2i M7i BY TV2i
CONNECT M7i MIM_up BY V6_ANDMIM
CONNECT MIM_bot1 MIM_down BY V5_ANDMIM
CONNECT M6i MIM_bot1
CONNECT M5i MIM_bot2
CONNECT M7i M6i BY V6_NOTMIM
CONNECT M6i M5i BY V5_NOTMIM
CONNECT M5i M4i BY V4i
CONNECT M4i M3i BY V3i
CONNECT M3i M2i BY V2i
CONNECT M2i M1i BY V1i
#ENDIF

CONNECT M1i GT0 NTAPi PTAPi PSDi NSDi BY CTi
CONNECT NTAPi PSDi
CONNECT PTAPi NSDi
CONNECT NTAPi NWi
CONNECT NWi NW
CONNECT PTAPi PW
LABEL ORDER TM2i M7i M6i M5i M4i M3i M2i M1i NTAPi PTAPi NSDi PSDi GT0 NWi 

VIRTUAL CONNECT NAME "?VDD?" "?VCC?" "?VSS?" "?GND?"
VIRTUAL CONNECT COLON YES

//******************************************       
//    Switch Setting
//******************************************  
GROUP GRECOMMENDED_CHECK ?_R

#IFDEF RECOMMENDED_CHECK NO
DRC UNSELECT CHECK GRECOMMENDED_CHECK
#ENDIF


#IFDEF OPEN_RECOMMENDED_DEFAULT_OFF  NO
DRC UNSELECT CHECK GT_13_R GT_14_R GT_15_R GT_16_R PLL_11_R RESAA_1_R RESAA_1a_1_R RESAA_1a_2_R RESP1_1_R RESP1_1a_1_R RESP1_1b_1_R RESP1_2_R RESP1_6_R HRP_10_R SAB_10a_R SRGT_13_R RESNW_11_R RESP1_4_R
#ENDIF

#IFDEF MIM one_mask
#IFDEF OPEN_RECOMMENDED_DEFAULT_OFF  NO
DRC UNSELECT CHECK MIM_6_R MIM_14_R 
#ENDIF
#ENDIF

#IFDEF MIM two_mask
#IFDEF OPEN_RECOMMENDED_DEFAULT_OFF  NO
DRC UNSELECT CHECK BMIM_6_R BMIM_7_R 
#ENDIF
#ENDIF

#IFDEF MIM stack_mim
#IFDEF OPEN_RECOMMENDED_DEFAULT_OFF  NO
DRC UNSELECT CHECK SMIM_6_R SMIM_14_R 
#ENDIF
#ENDIF

GROUP Guidelines_rules ?_G

#IFDEF GUIDELINES_RULES_CHECK NO
DRC UNSELECT CHECK Guidelines_rules
#ENDIF

#IFDEF Guideline_ESD_Rule NO
DRC UNSELECT CHECK GESD
#ENDIF



#IFDEF Guideline_FUSE_Rule NO
DRC UNSELECT CHECK GFUSE
#ENDIF



#IFDEF Guideline_EFUSE_Rule NO
DRC UNSELECT CHECK GEFU
#ENDIF


GROUP GMIMDMY  MIMDMY_?

#IFDEF Guideline_MIMDMY_Rule NO
DRC UNSELECT CHECK GMIMDMY
#ENDIF


#IFDEF GMS_CHECK  NO
DRC UNSELECT CHECK GMS
#ENDIF


#IFDEF Top_metal TM
DRC UNSELECT CHECK GMTT GMTT2DUMC SL_4c_G 
#ENDIF

#IFDEF Top_metal MTT
DRC UNSELECT CHECK GTM2 GTM2DUMC TV2_6_7
#ENDIF

//******************************************       
//    LAYER DERIVATIONS AND OPERATIONS
//******************************************       


//==================
// For Connectivity
//==================

PACTi   = SPi AND AAi
NACTi   = SNi AND AAi

PTAPi   = PACTi NOT NWi
NTAPi   = NACTi AND NWi

PGATEi  = PACTi AND GTi
NGATEi  = NACTi AND GTi

PSDi    = (PACTi NOT PGATEi) TOUCH PGATEi
NSDi    = (NACTi NOT NGATEi) TOUCH NGATEi

AA 	= AAO NOT INSIDE OPCBA
GT      = GTO NOT INSIDE OPCBP
CT 	= CTO NOT INSIDE OPCBM
M1 	= M1O NOT INSIDE OPCBM
V1 	= V1O NOT INSIDE OPCBM
SRAM = OR OPCBA OPCBP OPCBM

//==================
//  Resistor Def
//==================

GT_IND = ( GT INTERACT (CT AND GATE) ) AND INDMY
NWR	= NW INTERACT RESNW
AAR	= AA INTERACT RESAA
GTR	= GT INTERACT RESP1
RESP3T_HRP = RESP3T INTERACT HRP
GTR_3T  = GTR INTERACT RESP3T_HRP
GTR_N3T = GTR NOT GTR_3T

NR	= NWR INSIDE AA
SNNR	= SN INTERACT NWR


//==================
//   Well Def
//==================

DRC:1	= EXTENT DRAWN ORIGINAL
BULK	= SIZE DRC:1 BY 1.0

PW 	= (BULK NOT NWi) NOT PSUBi
//PW0     = BULK NOT NWi

PW_INNW = HOLES NW    // DNW defination
NW_DNW 	= (NW TOUCH PW_INNW) INTERACT DNW 

HVNW	= NW INTERACT (DG OR NWH)
LVNW	= NW NOT HVNW

//==================
// Transistor Def
//==================

PACT	= SP AND AA
NACT	= SN AND AA

PTAP	= PACT NOT NW
NTAP	= NACT AND NW

PGATE	= PACT AND GT
NGATE	= NACT AND GT
GATE	= AA AND GT
PSD	= (PACT NOT PGATE) TOUCH PGATE
NSD	= (NACT NOT NGATE) TOUCH NGATE

NMOS    = NGATE OR NSD
PMOS    = PGATE OR PSD

HVAA    = AA AND DG
LVAA    = AA NOT HVAA

PSUB_AA   = AA AND PSUB
PSUB_GT   = GT INTERACT PSUB

NLLAA   = AA AND NLL
NLHAA   = AA AND NLH
PLLAA   = AA AND PLL
PLHAA   = AA AND PLH

INTERGT = GT NOT GATE

//=====================
// CT / Wide Metal Def
//=====================

ACT_CT   = CTO AND AA

Res1 = RESP1 OR RESAA
POLY = GT OUTSIDE Res1
GATEI = POLY AND AA
NMOSI = NACT ENCLOSE GATEI
PMOSI = PACT ENCLOSE GATEI

//=====================
//  HRP / MIM  Def
//=====================

GT_HRP   = GT INTERACT HRP
HR_GT    = GT_HRP AND HRPDMY
SAB_GT   = GT_HRP AND SAB

Vn = ((((V1 OR V2) OR V3) OR V4) OR V5) OR V6
Mn = ((((M1 OR M2) OR M3) OR M4) OR M5) OR M6
Vn_1 = (((V1 OR V2) OR V3) OR V4) OR V5
Mn_1 = (((M1 OR M2) OR M3) OR M4) OR M5

CAP_MIM  = (MIM INTERACT TV2) OR (MIM INTERACT MIMDMY)
DMY_MIM  = MIM NOT CAP_MIM

M7_CAPMIM = (SIZE M7 BY 1.5 UNDEROVER) INTERACT CAP_MIM
M7_DMYMIM = M7 INTERACT DMY_MIM

TV2_MIM = TV2 AND CAP_MIM
TV2_CAPM7 = (TV2 AND M7_CAPMIM) NOT TV2_MIM

WID_DMY = INT DMY_MIM == 2 REGION
LET_DMY = LENGTH WID_DMY == 5

TM2A = TM2 INTERACT TV2
DMY_TM2  = TM2 NOT TM2A
WID_TM2Y = INT DMY_TM2 == 2 REGION
LET_TM2Y = LENGTH WID_TM2Y ==5




//********************************************
//         CHECK GROUP DEFINITIONS
//********************************************


//=================
//   Logic Part
//=================

//GROUP GLG
//  GDNW
//  GAA
//  GNW
//  GNC
//  GPC
//  GDG
//  GGT
//  GMVN
//  GMVP
//  GPSUB
//  GNLL
//  GPLL
//  GNLH
//  GPLH
//  GSN
//  GSP
//  GSAB
//  GCT
//  GM1
//  GM2
//  GM3
//  GM4
//  GM5
//  GM6
//  GM7
//  GTM2
//  GV1
//  GV2
//  GV3
//  GV4
//  GV5
//  GV6
//  GALPA
//  GTV2
//  GFUSE
//  GPA
//  GConvention

//===================
//  Mix-Signal Part
//===================
#IFDEF MIM one_mask
GROUP GMS GHRP GMIM
#ENDIF
#IFDEF MIM two_mask
GROUP GMS GHRP GBMIM GP2
#ENDIF

#IFDEF MIM stack_mim
GROUP GMS GHRP GSMIM
#ENDIF


//==================================
//  DNW -  Deep N-Well  DRC
//==================================

GROUP GDNW DNW_?

DNW_1 {
@ DNW.1
@ DNW width is 3.00
  INT DNW < 3 ABUT<90 SINGULAR REGION
}
DNW_2 {
@ DNW.2
@ Space between DNWs is 6.00
  EXT DNW < 6.0 ABUT<90 SINGULAR REGION
}
DNW_3 {
@ DNW.3
@ DNW enclosure by NW (DNW edge outside of NW is not allowed) is >= 2.0um
 ENC DNW NW < 2.0 ABUT<90 SINGULAR REGION
 DNW COINCIDENT EDGE NW
 DNW OUTSIDE EDGE NW
}
DNW_4 {
@ DNW.4
@ Overlap of NW and DNW is 2.00um.
 X = SIZE DNW BY -2
 (DNW NOT X) NOT NW
}
DNW_5 {
@ DNW.5
@ Space between DNW and NW is 4.10
  X = NW NOT COIN EDGE DNW
  EXT X DNW < 4.10 ABUT<90 REGION
}

DNW_6 {
@ Space between (PW INSIDE DNW) and PW at different nets is >= 1.2um
  Z = PW INSIDE DNW
  EXT Z PW < 1.2 ABUT < 90 REGION NOT CONNECTED
}

//===========================
//  AA - Active Area DRC
//===========================

GROUP GAA AA_?

AA_1_2 {
@ AA width MOS transistors is 0.15, exclude (NW INTERACT OPCBA), SRAM
@ AA width for interconnect is 0.15,exclude (NW INTERACT OPCBA), SRAM
 X = AA NOT INTERACT (NW INTERACT OPCBA)
 (INT X < 0.15 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
AA_3 {
@ Space between AAs that are on the same well is 0.21 (exclude INDMY region)., exclude SRAM region.
  X = EXT AA < 0.21 ABUT<90 SINGULAR REGION
  (X NOT INSIDE SRAM) NOT INDMY
}
AA_4 {
@ N+ AA enclosure by NW except NW resistor region is >= 0.23, exclude SRAM region.
  (ENC NACT (NW NOT NWR) < 0.23 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
AA_5 {
@ Space between NW and N+ AA is 0.30, exclude SRAM region.
  (EXT NW NACT < 0.30 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
AA_6 {
@ P+ AA enclosure by NW is 0.30, exclude (NW INTERACT OPCBA), SRAM
  X = NW NOT INTERACT OPCBA
  (ENC PACT X < 0.30 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
AA_7 {
@ Space between NW to P+AA inside PW is 0.23, exclude SRAM region.
  (EXT (PACT AND PW) NW < 0.23 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
AA_8 {
@ AA area is 0.1 (in um2)
  AREA AA < 0.1
}
AA_9 {
@ Space between N+AA and NW which enclosure a DNW (DRC doesn't flag N+AA inside NW or DNW) is >= 0.4
@ DRC waive check when space between DNW to N+AA is >= 2.6um in same direction.
 NACT_check= NACT NOT INSIDE (NW OR DNW)
 DNW_check = EXT DNW NACT_check <2.6 REGION
 (EXT NACT_check (NW INTERACT DNW_check) < 0.4 ABUT<90 SINGULAR REGION) INTERACT DNW_check
}
AA_10 {
@ AA or AADUM pattern is not allowed to straddle on a boundary of NW except NW resistor region.
 (NW NOT INTERACT RESNW) INSIDE EDGE AA
}
AA_11a {
@ Min. AA density (including dummy AA)is 20%. Density check window size: 500m*500m with step size: 250m.
@ Waive RESNW, Metal Fuse, L Mark, LOGO and Inductor.
@ DRC check with the said window size and rule number and highlight as X. Y = X not (RESNW or Metal Fuse or L MARK or LOGO or INDMY), Z= (Y area)/(250*250)  
@ If Z > 25%, highlight Y for AA density inside of Y that cannot meet of rule value requirement.
  AA_ALL= AAi OR AADUM
  X = DENSITY (AAi OR AADUM) < 0.20 WINDOW 500 STEP 250 BACKUP 
  Y = X NOT (((RESNW OR FUSE) OR LOGO) OR INDMY)
  Z = COPY Y
  M = DENSITY Y  [area(Y)/(250*250)]>0.25  INSIDE OF LAYER Z 
  N = COPY M
  W = DENSITY AA_ALL M [area(AA_ALL)/area(M)] < 0.20 INSIDE OF LAYER N BY POLYGON PRINT density_report_AA_11a.log
  W NOT (((RESNW OR FUSE) OR LOGO) OR INDMY)
}
AA_11b {
@ Max. AA density (including dummy AA)is 80%. Density check window size: 500m*500m with step size: 250m.
@ Waive RESNW, Metal Fuse, L Mark, LOGO and Inductor.
@ DRC check with the said window size and rule number and highlight as X. Y = X not (RESNW or Metal Fuse or L MARK or LOGO or INDMY), Z= (Y area)/(250*250)  
@ If Z > 25%, highlight Y for AA density inside of Y that cannot meet of rule value requirement.
  AA_ALL= AAi OR AADUM
  X = DENSITY (AAi OR AADUM) >0.8 WINDOW 500 STEP 250 BACKUP 
  Y = X NOT (((RESNW OR FUSE) OR LOGO) OR INDMY)
  Z = COPY Y
  M = DENSITY Y  [area(Y)/(250*250)]>0.25  INSIDE OF LAYER Z 
  N = COPY M
  W = DENSITY AA_ALL M [area(AA_ALL)/area(M)]> 0.80  INSIDE OF LAYER N BY POLYGON PRINT density_report_AA_11b.log
  W NOT (((RESNW OR FUSE) OR LOGO) OR INDMY)
}
AA_12a {
@ AA density (including dummy AA) overlap by DUMBA min. is 20%. Density check window size: 500um*500um, step size: 250um
  X = DENSITY (AAi OR AADUM) < 0.20 WINDOW 500 STEP 250 BACKUP PRINT density_report_AA_12a.log
  X AND DUMBA 
}
AA_12b {
@ AA density (including dummy AA) overlap by DUMBA max. is 80%. Density check window size: 500um*500um, step size: 250um
  X = DENSITY (AAi OR AADUM) > 0.80 WINDOW 500 STEP 250 BACKUP PRINT density_report_AA_12b.log
  X AND DUMBA 
}


//==================================
//  NW -  N-Well  DRC
//==================================

GROUP GNW NW_?

NW_1 {
@ NW_1
@ NW width is 0.6 
  INT NW < 0.60 ABUT<90 SINGULAR REGION
}
NW_2 {
@ NW_2
@ NW width for NW resistor is 1.60
  INT NWR < 1.6 ABUT<90 SINGULAR REGION
}
NW_3 {
@ NW_3
@ Space between 1.2V/1.5V NWs at same net is 0.60um
  EXT NW < 0.60 ABUT<90 SINGULAR REGION CONNECTED
}
NW_4 {
@ NW_4
@ Minimum space between 1.2V/1.5V NWs with different net is 1.0um
  EXT (NW NOT INTERACT DG) < 1.0 ABUT<90 SINGULAR REGION NOT CONNECTED
  EXT ((NW INTERACT RESNW) NOT INTERACT DG) < 1.0 ABUT<90 SINGULAR REGION
}
NW_4a {
@ NW_4a
@ Minimum space between 1.2V/1.5V NW and 2.5V/3.3V NW on different net is 1.2um.
  EXT (NW NOT INTERACT DG) (NW INTERACT DG) < 1.2 ABUT<90 SINGULAR REGION NOT CONNECTED
}
NW_4b {
@ NW_4b
@ Minimum space between 2.5V/3.3V NWs on different net is 1.2um.
  EXT (NW INTERACT DG) < 1.2 ABUT<90 SINGULAR REGION NOT CONNECTED
}
NW_5 {
@ NW_5
@ NW area is 0.92
  AREA NW < 0.92
}
NW_6 {
@ It is not allowed if N+AA/P+AA straddle on a boundary of the NW except NW resistor region.
  (NW NOT INTERACT RESNW) INSIDE EDGE NACT
  (NW NOT INTERACT RESNW) INSIDE EDGE PACT
}
/*NW_7_G{
@ Recommend not using unintentional floating Well.
NW NOT INTERACT (NTAPi INTERACT CT)
}*/

//=====================================================
// PSUB - Design minima for layer to define Native NMOS 
//=====================================================

GROUP GPSUB PSUB_?

PSUB_1 {
@ PSUB_1
@ PSUB width is 0.6
  INT PSUB < 0.60 ABUT<90 SINGULAR REGION
}
PSUB_2a {
@ PSUB.2a
@ 1.2V/1.5V NMOS channel length is 0.30
  X = PSUB_GT INSIDE EDGE (PSUB_AA AND SN)
  INT X < 0.3 ABUT<90 REGION
}
PSUB_2b {
@ PSUB.2b
@ 2.5/3.3V NMOS channel length is 1.00
  X = PSUB_GT INSIDE EDGE ((PSUB_AA AND SN) INTERACT DG)
  INT X < 1.0 ABUT<90 REGION
}
PSUB_3 {
@ PSUB.3
@ Space between PSUBs is 0.60
  EXT PSUB < 0.60 ABUT<90 SINGULAR REGION
}
PSUB_4 {
@ PSUB.4
@ Fixed AA enclosure by PSUB is 0.22, except NMOS capacitor (exclude INDMY region)
 X = SIZE (PSUB_AA NOT INTERACT CAPBP) BY 0.22
 Y = PSUB INTERACT AA
  Z = NMOS INTERACT CAPBP
  ((XOR X Y) NOT INTERACT Z) NOT INDMY
  ((PSUB NOT INTERACT AA  == 1) NOT INSIDE CAPBP) NOT INSIDE INDMY

 A= AA NOT OUTSIDE PSUB
((ENC (A) Y ==0.22 OPPOSITE ABUT<90) NOT INSIDE EDGE INDMY) NOT INSIDE EDGE CAPBP
 
}
PSUB_5 {
@ PSUB.5
@ Space between PSUB and AA is 0.37
  EXT PSUB AA < 0.37 ABUT<90 SINGULAR REGION
}
PSUB_6 {
@ PSUB.6
@ Space between PSUB and NW is 1.2
  EXT PSUB NW < 1.2 ABUT<90 SINGULAR REGION
}
PSUB_7 {
@ PSUB.7
@ Extension of Native NMOS poly gate outside of AA is 0.31 (exclude INDMY region)
  X = (PSUB_AA AND SN) INSIDE EDGE PSUB_GT
  Y = ENC X PSUB_GT < 0.31 ABUT<90 REGION
  Y NOT INDMY
}
PSUB_8 {
@ PSUB.8
@ PSUB inside or overlap or cross over a Deep N-Well/NW is not allowed
 PSUB AND DNW
 PSUB AND NW
}

PSUB_9 {
@ One AA shape per PSUB shape, except for NMOS capacitor and inductor region covered by INDMY.
 X= (PSUB NOT INTERACT INDMY) INTERACT GATE
 X NOT INTERACT (AA NOT INTERACT CAPBP) == 1
}

//===========================================
//  NC: high Vt NMOS design minima (optional)
//===========================================

GROUP GNC NC_?

NC_1 {
@ NC_1
@ NC width is 0.60
  X = INT NC < 0.31 ABUT<90  REGION
  X NOT INTERACT EXCLU
  A = INT NC < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE NACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = NACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}
NC_2 {
@ NC_2
@ Space between NCs is 0.6
  X = EXT NC < 0.31 ABUT<90 OPPOSITE REGION
  X NOT INTERACT EXCLU
  A = EXT NC < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE NACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = NACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}

NC_3 {
@ NC overlap with NW is not allowed
 NC AND NW
}

NC_4 {
@ NC_4
@ NC extension outside of N+AA along poly length is 0.18
X = NACT TOUCH EDGE GATE
ENC X NC < 0.18 ABUT<90 OPPOSITE
}
NC_5 {
@ NC_5
@ Space between NC and N+AA for nominal NMOS along poly length is 0.18, exclude SRAM region.
X = NACT TOUCH EDGE (AA INSIDE EDGE GT)
(EXT X NC < 0.18 ABUT<90  REGION OPPOSITE) NOT INSIDE SRAM
}
NC_6 {
@ NC_6
@ NC extension outside of poly gate along source/drain direction is >= 0.27
X = GT INSIDE EDGE (NACT AND NC)
Y = EXPAND EDGE X OUTSIDE BY 0.27
Y NOT NC
}
NC_7 {
@ NC_7
@ Space between NC and poly gate for nominal device along source/drain direction is >= 0.27
X = GT INSIDE EDGE (NACT NOT NC)
EXT NC X < 0.27 ABUT<90 REGION OPPOSITE
}
NC_8 {
@ NC_8
@ No NC and PSUB overlap is allowed
NC AND PSUB
}

//===========================================
//  PC: high Vt PMOS design minima (optional)
//===========================================

GROUP GPC PC_?

PC_1 {
@ PC_1
@ PC width is 0.6
  X = INT PC < 0.31 ABUT<90  REGION
  X NOT INTERACT EXCLU
  A = INT PC < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE PACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = PACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}
PC_2 {
@ PC_2
@ Space between PCs is 0.6
  X = EXT PC < 0.31 ABUT<90 OPPOSITE REGION
  X NOT INTERACT EXCLU
  A = EXT PC < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE PACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = PACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}

PC_3 {
@ PC must be fully enclosure by NW
  PC NOT NW
}

PC_4 {
@ PC_4
@ PC extension outside of P+AA along poly length is 0.18
X = PACT TOUCH EDGE GATE
ENC X PC < 0.18 ABUT<90 OPPOSITE
}
PC_5 {
@ PC_5
@ Space between PC and P+AA for nominal PMOS along poly length is 0.18
X = PACT TOUCH EDGE (AA INSIDE EDGE GT)
EXT X PC < 0.18 ABUT<90  REGION OPPOSITE
}
PC_6 {
@ PC_6
@ PC extension outside of poly gate along source/drain direction is >= 0.27
X = GT INSIDE EDGE (PACT AND PC)
Y = EXPAND EDGE X OUTSIDE BY 0.27
Y NOT PC
}
PC_7 {
@ PC_7
@ Space between PC and poly gate for nominal device along source/drain direction is >= 0.27
X = GT INSIDE EDGE (PACT NOT PC)
EXT PC X < 0.27 ABUT<90 REGION OPPOSITE
}
PC_8 {
@ PC_8
@ No PC and PSUB overlap is allowed
PC AND PSUB
}

//===========================================
//  MVN: low Vt NMOS design minima (optional)
//===========================================

GROUP GMVN MVN_?

MVN_1 {
@ MVN_1
@ MVN width is 0.6
// INT MVN < 0.6 ABUT<90 SINGULAR REGION
  X = INT MVN < 0.31 ABUT<90  REGION
  X NOT INTERACT EXCLU
  A = INT MVN < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE NACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = NACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}
MVN_2 {
@ MVN_2
@ Space between MVNs is 0.6
// EXT MVN < 0.6 ABUT<90 OPPOSITE REGION
  X = EXT MVN < 0.31 ABUT<90 OPPOSITE REGION
  X NOT INTERACT EXCLU
  A = EXT MVN < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE NACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = NACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}
MVN_3 {
@ MVN overlap with NW is not allowed
  MVN AND NW
}

MVN_4 {
@ MVN_4
@ MVN extension outside of N+AA along poly length is 0.18
X = ENC NACT MVN < 0.18  ABUT<90 SINGULAR REGION
X INTERACT GT
}
MVN_5 {
@ MVN_5
@ Space between MVN and N+AA for nominal NMOS along poly length is 0.18
X = NACT TOUCH EDGE (AA INSIDE EDGE GT)
EXT X MVN < 0.18 ABUT<90  REGION OPPOSITE
}
MVN_6 {
@ MVN_6
@ MVN extension outside of poly gate along source/drain direction is >= 0.27
X = GT INSIDE EDGE (NACT AND MVN)
Y = EXPAND EDGE X OUTSIDE BY 0.27
Y NOT MVN
}
MVN_7 {
@ MVN_7
@ Space between MVN and poly gate for nominal device along source/drain direction is >= 0.27
X = GT INSIDE EDGE (NACT NOT MVN)
EXT MVN X < 0.27 ABUT<90 REGION OPPOSITE
}
MVN_8 {
@ MVN_8
@ No MVN and PSUB overlap is allowed
MVN AND PSUB
}

//============================================
//  MVP:  low Vt PMOS design minima (optional)
//============================================

GROUP GMVP MVP_?

MVP_1 {
@ MVP_1
@ MVP width is 0.6
// INT MVP < 0.6 ABUT<90 SINGULAR REGION
  X = INT MVP < 0.31 ABUT<90  REGION
  X NOT INTERACT EXCLU
  A = INT MVP < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE PACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = PACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}
MVP_2 {
@ MVP_2
@ Space between MVPs is 0.6
// EXT MVP < 0.6 ABUT<90 OPPOSITE REGION
  X = EXT MVP < 0.31 ABUT<90  OPPOSITE REGION
  X NOT INTERACT EXCLU
  A = EXT MVP < 0.60 ABUT<90 OPPOSITE REGION
  X1 = GT INSIDE EDGE PACT
  Y1 = EXPAND EDGE X1 OUTSIDE BY 0.27 EXTEND BY 0.18
  X2 = PACT INSIDE EDGE GT
  Y2 = EXPAND EDGE X2 OUTSIDE BY 0.18
  Z = (GATE OR Y1) OR Y2
  (A INTERACT Z) NOT INTERACT EXCLU
}
MVP_3 {
@ MVP must be fully enclosure by NW
  MVP NOT NW
}
MVP_4 {
@ MVP_4
@ MVP extension outside of P+AA along poly length is 0.18
X = ENC PACT MVP< 0.18  ABUT<90 SINGULAR REGION
X INTERACT GT
}
MVP_5 {
@ MVP_5
@ Space between MVP and P+AA for nominal PMOS along poly length is 0.18
X = PACT TOUCH EDGE (AA INSIDE EDGE GT)
EXT X MVP < 0.18 ABUT<90  REGION OPPOSITE
}
MVP_6 {
@ MVP_6
@ MVP extension outside of poly gate along source/drain direction is >= 0.27
X = GT INSIDE EDGE (PACT AND MVP)
Y = EXPAND EDGE X OUTSIDE BY 0.27
Y NOT MVP
}
MVP_7 {
@ MVP_7
@ Space between MVP and poly gate for nominal device along source/drain direction is >= 0.27
X = GT INSIDE EDGE (PACT NOT MVP)
EXT MVP X < 0.27 ABUT<90 REGION OPPOSITE
}
MVP_8 {
@ MVP_8
@ No MVP and PSUB overlap is allowed
MVP AND PSUB
}

//============================
//   DG - Dual Gate DRC
//============================

GROUP GDG DG_?

DG_1 {
@ DG_1
@ DG width is 0.70
  X = INT DG < 0.70 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
DG_2 {
@ DG_2
@ Space between two DGs is 0.70
  EXT DG < 0.70 ABUT<90 SINGULAR REGION
}
DG_3 {
@ DG_3
@ AA enclosure by DG is 0.25
X = AA INTERACT GT
  ENC X DG < 0.25 ABUT<90 SINGULAR REGION
}

#IFDEF process 13
DG_4{
@ DG_4 for 0.13um
@ For 0.13um design, 2.5/3.3V transistor channel (overlap of Poly and AA) enclosure by DG.>=0.27
ENC GATE DG < 0.27 ABUT<90 SINGULAR REGION
}
#ENDIF
#IFDEF process 11
DG_4b{
@ DG_4b for 0.11um
@ For 0.11um design, 2.5/3.3V transistor channel (overlap of Poly and AA) enclosure by DG.( Designer can waive this rule for 0.13um design).>=0.30
ENC GATE DG < 0.3 ABUT<90 SINGULAR REGION
}
#ENDIF
DG_5 {
@ DG_5
@ Space between DG and device AA (include all the devices in the section 7.1.3 6 SMIC Mask layer device table,)		0.25	um is 0.25 
 BJTID = (DNW INTERACT DMPNP) OR (SIZE (NW INTERACT (DMPNP NOT INTERACT DNW)) BY 1.5)
  DIOID1 = SIZE (DSTR INTERACT DNW) BY 3.1 
  DIOID2 =SIZE (DSTR NOT INTERACT DNW) BY 0.42 
  X_1 = AA INTERACT ((RESNW OR RESAA) OR BJTID )
  X_2 = AA INTERACT GT
  X = X_1 OR X_2
 EXT DG X < 0.25 ABUT<90 SINGULAR REGION
  X_3= (NTAP OR PTAP) INTERACT DIOID1
  X_4= (NTAP OR PTAP) INTERACT DIOID2
  err1 = EXT DG [X_3] < 0.25 ABUT<90 SINGULAR 
  err2 = EXT DG [X_4] < 0.25 ABUT<90 SINGULAR  
 AA_REGION1 = (EXPAND EDGE  err1 INSIDE BY 10 EXTEND BY 0.25) AND (NTAP OR PTAP)
 Y1= AA_REGION1 WITH EDGE (AA_REGION1 COIN EDGE err1)
 AA_REGION2 = (EXPAND EDGE err2 INSIDE BY 10 EXTEND BY 0.25) AND (NTAP OR PTAP)
 Y2=AA_REGION2 WITH EDGE (AA_REGION2 COIN EDGE err2)
 Z1= EXT Y1 DSTR <=3.1  ABUT<90 SINGULAR REGION
 Z2=EXT Y2 DSTR <=0.42  ABUT<90 SINGULAR REGION
 (EXPAND EDGE err1 OUTSIDE BY 0.001) INTERACT (Y1 INTERACT Z1)
 (EXPAND EDGE err2 OUTSIDE BY 0.001) INTERACT (Y2 INTERACT Z2) 
}

DG_6 {
@ DG_6
@ Space between DG and 1.2V/1.5V transistor channel (overlap of poly and AA) is 0.33
  X = GT AND LVAA
  EXT DG X < 0.33 ABUT<90 SINGULAR REGION INSIDE ALSO
}
/*
DG_7 {
@ DG cannot overlap or touch with 1.2v MOS AA (AA with poly).
 AA12 = AA NOT DG
 MOS12 = AA12 INTERACT GT
 DG COINCIDENT EDGE MOS12
}
*/
DG_8_R {
@	DG straddle GATE (AA AND GT) is not allowed
 DG INSIDE EDGE GATE
}
//==========================
// GT - Poly design minima
//==========================

GROUP GGT GT_?

GT_1a {
@ GT width for 1.2V/1.5V NMOS/PMOS transistor is 0.13
  X = GT INSIDE EDGE LVAA
  (INT X < 0.13 ABUT<90 REGION) NOT INSIDE OPCBP
}
#IFDEF IO 1225
GT_1b {
@ GT width for 2.5V MOS transistor is 0.28
  X = GT INSIDE EDGE (AA AND DG)
  (INT X < 0.28 ABUT<90 REGION) NOT INSIDE OPCBP
}
#ENDIF
#IFDEF IO 1533
GT_1c1 {
@ GT width for 3.3V NMOS transistor is 0.35
  X = GT INSIDE EDGE (NACT AND DG)
  (INT X < 0.35 ABUT<90 REGION) NOT INSIDE OPCBP
}
GT_1c2 {
@ GT width for 3.3V PMOS transistor is 0.30
  X = GT INSIDE EDGE (PACT AND DG)
  (INT X < 0.30 ABUT<90 REGION) NOT INSIDE OPCBP
}
#ENDIF
GT_2 {
@ Interconnect width is 0.13um , exclude SRAM region
  (INT INTERGT < 0.13 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
GT_3 {
@ Space between GTs is 0.18 (exclude INDMY region), exclude SRAM region
  X = EXT GTO < 0.18 ABUT<90 REGION EXCLUDE FALSE
  (X NOT INSIDE SRAM) NOT INDMY
}
GT_4 {
@ Space between AA and GT on field oxide is 0.07 (exclude INDMY region), (GT INTERACT (GT AND OPCBP))
  //X = AA INSIDE EDGE GT
  //Y = AA NOT COIN EDGE X
  GT_check = GT NOT INTERACT (GT AND OPCBP)
  Z = EXT AA GT_check < 0.07 ABUT <90 REGION
  Z NOT INDMY
}
GT_5 {
@ Extension of AA outside of GT is 0.23, exclude SRAM region
  (ENC (GT NOT GT_IND) AA < 0.23 ABUT<90 REGION OPPOSITE) NOT INSIDE SRAM
}
GT_6 {
@ Extension of GT outside of AA is 0.17, exclude SRAM region
  X = AA INSIDE EDGE GT
  (ENC X GT < 0.17 ABUT<90 REGION) NOT INSIDE SRAM
}
GT_7 {
@ GT pattern density is 15%
  DENSITY (GTi OR GTDUMi) < 0.15 PRINT density_report_GT.log
}
GT_8 {
@ No bent GT on AA are allowed. All GT patterns on AA have to be orthogonal to AA edge (exclude INDMY region)
  X = GT INSIDE EDGE AA
  A = INT X < 0.01 ABUT == 135 REGION
  B = EXT X < 0.01 ABUT == 135 REGION
  C = INT X < 0.01 ABUT == 90 REGION
  D = EXT X < 0.01 ABUT == 90 REGION
  E = INT X < 0.01 ABUT == 45 REGION
  F = EXT X < 0.01 ABUT == 45 REGION
  (A NOT INSIDE OPCBP) NOT INDMY
  (B NOT INSIDE OPCBP) NOT INDMY
  (C NOT INSIDE OPCBP) NOT INDMY
  (D NOT INSIDE OPCBP) NOT INDMY
  (E NOT INSIDE OPCBP) NOT INDMY
  (F NOT INSIDE OPCBP) NOT INDMY
}
GT_9a {
@ NLL extension outside of poly resistor is 0.18
  X = GTR_N3T AND SN
  ENC X NLL < 0.18 ABUT<90 SINGULAR REGION
}
GT_9b {
@ NLH extension outside of poly resistor is 0.18
  X = GTR_N3T AND SN
  ENC X NLH < 0.18 ABUT<90 SINGULAR REGION
}
GT_9c {
@ SN extension outside of poly resistor is 0.18
  ENC GTR_N3T SN < 0.18 ABUT<90 SINGULAR REGION
}
GT_9d {
@ PLL extension outside of poly resistor is 0.18
  X = GTR_N3T AND SP
  ENC X PLL < 0.18 ABUT<90 SINGULAR REGION
}
GT_9e {
@ PLH extension outside of poly resistor is 0.18
  X = GTR_N3T AND SP
  ENC X PLH < 0.18 ABUT<90 SINGULAR REGION
}
GT_9f {
@ SP extension outside of poly resistor is 0.18
  ENC GTR_N3T SP < 0.18 ABUT<90 SINGULAR REGION
}

GT_10a {
@ Space between a NLL and a P- type poly resistor is 0.18
  X = GTR AND SP
  (EXT NLL X < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBP
}
GT_10b {
@ Space between a NLH and a P- type poly resistor is 0.18
  X = GTR AND SP
  (EXT NLH X < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBP
}
GT_10c {
@ Space between a SN and a P- type poly resistor is 0.18
  (EXT SN GTR < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBP
}
GT_10d {
@ Space between a PLL and a N- type poly resistor is 0.18
  X = GTR AND SN
  (EXT PLL X < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBP
}
GT_10e {
@ Space between a PLH and a N- type poly resistor is 0.18
  X = GTR AND SN
  (EXT PLH X < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBP
}
GT_10f {
@ Space between a SP and a N- type poly resistor is 0.18
  (EXT SP GTR < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBP
}

GT_11 {
@ GT used as MOS gate poly must be enclosed by SN or SP(except HRP resistor region)
  X = COPY HR_GT
  Z = (GT INTERACT GATE) NOT X
  (Z NOT SP) NOT SN
}

/* GT_12 is covered by SP_12.
GT_12 {
@ SN and SP overlap on gate is not allowed
  (GATE AND SN) AND SP
}
*/
GT_13_R {
@ For small MOS(channel width <=0.3um), Max AA size along channel width direction from the turning point when L-shape or H-shape AA space to GT is >=0.07um and <=0.08um, is 0.075um, exclude SRAM region
  SD = AA NOT GATE

  A0 = GT INSIDE EDGE AA
  A = LENGTH A0 <=0.3
  B = GATE WITH EDGE A
  C = AA TOUCH EDGE B
  D = SD TOUCH EDGE C
  D1 = LENGTH D >=0.07 <=0.08
  E = EXT SD <= 0.001 ABUT==90 REGION
  F = E WITH EDGE D1
  G = (SD TOUCH EDGE F) NOT TOUCH EDGE D1
  (LENGTH G > 0.075) NOT INSIDE EDGE SRAM
}

GT_14_R {
@ Space between two CTs on poly (poly width <0.24um) to avoid voltage drop is <= 1.Oum.
 X = GTO WITH WIDTH < 0.24
 Y = SIZE (CTO INSIDE X) BY 0.5 INSIDE OF X STEP 0.01
 (X INTERACT Y > 1) NOT INSIDE OPCBP
}

GT_15_R {
@ Poly area is >= 0.09
 AREA GT < 0.09
}

GT_16_R {
@ Enclosed poly area is >= 0.15um
 X = HOLES GT INNER
 AREA (X NOT GT) < 0.15
}


//=======================================
//  NLL - 1.2V NLDD implantation DRC
//=======================================

GROUP GNLL NLL_?

NLL_1 {
@ NLL width is 0.3
  INT NLL < 0.3 ABUT<90 SINGULAR REGION
}
NLL_2 {
@ Space between NLLs is 0.3
  EXT NLL < 0.3 ABUT<90 SINGULAR REGION
}
NLL_3 {
@ Space between NLL and P+ AA inside NW is 0.16
  X = (PACT NOT PTAP) NOT TOUCH EDGE NLL
  EXT (NLL AND NW) X < 0.16 ABUT<90 REGION
}
NLL_4 {
@ Space between NLL and P+ AA inside PW is 0.03
  X = (PACT AND PW) NOT TOUCH EDGE NACT
  EXT (NLL AND PW) X < 0.03 ABUT<90 REGION
}
NLL_4b {
@ Space between a NLL and a butted P+ AA is == 0
  AND NLL PACT
}
NLL_5 {
@ Space between NLL and AA with NLH,PLL,or PLH implantation is 0.16
  EXT NLL (NLHAA NOT COIN EDGE NLLAA) < 0.16 ABUT<90 REGION
  EXT NLL (PLLAA NOT COIN EDGE NLLAA) < 0.16 ABUT<90 REGION
  EXT NLL (PLHAA NOT COIN EDGE NLLAA) < 0.16 ABUT<90 REGION
}
NLL_6 {
@ NLL extension outside of NMOS poly gate along source/drain direction is >= 0.4
  X = GT INSIDE EDGE NACT
  ENC X NLL < 0.4 ABUT<90 OPPOSITE REGION
}
NLL_7 {
@ NLL extension outside of N+ AA is 0.16, if distance to related poly is >0.25
  X = NACT NOT COIN EDGE PACT
  ENC X NLL < 0.16 ABUT<90 REGION
}
NLL_8 {
@ NLL extension outside of N+ AA is 0.30, if distance to related poly is <0.25
  X = GT INSIDE EDGE NACT
  A = EXPAND EDGE X INSIDE BY 0.25 OUTSIDE BY 0.25 CORNER FILL
  Y = NGATE COIN EDGE NACT
  B = EXPAND EDGE Y OUTSIDE BY 0.30 EXTEND BY 0.25
  C = (A OR B) INTERACT NLL
  C NOT NLL
  C AND SP
}
NLL_9 {
@ NLL and AA overlap is 0.16
  INT NLL AA < 0.16 ABUT<90 SINGULAR REGION
}
NLL_10 {
@ NLL area is 0.23
  AREA NLL < 0.23
}


//=======================================
//  PLL - 1.2V PLDD implantation DRC
//=======================================

GROUP GPLL PLL_?

PLL_1 {
@ PLL width is 0.3
  INT PLL < 0.3 ABUT<90 SINGULAR REGION
}
PLL_2 {
@ Space between PLLs is 0.3
  EXT PLL < 0.3 ABUT<90 SINGULAR REGION
}
PLL_3 {
@ Space between PLL and N+ AA inside PW is 0.16
  X = (NACT AND PW) NOT TOUCH EDGE PLL
  EXT (PLL AND PW) X < 0.16 ABUT<90 REGION
}
PLL_4 {
@ Space between PLL and N+ AA inside NW is 0.03
  X = NTAP NOT TOUCH EDGE PACT
  EXT (PLL AND NW) X < 0.03 ABUT<90 REGION
}
PLL_4b {
@ Space between a PLL and a butted N+ AA is == 0
  AND PLL NACT
}
PLL_5 {
@ Space between PLL and AA with NLH,NLL,or PLH implantation is 0.16
  EXT PLL (NLHAA NOT COIN EDGE PLLAA) < 0.16 ABUT<90 REGION
  EXT PLL (NLLAA NOT COIN EDGE PLLAA) < 0.16 ABUT<90 REGION
  EXT PLL (PLHAA NOT COIN EDGE PLLAA) < 0.16 ABUT<90 REGION
}
PLL_6 {
@ PLL extension outside of PMOS poly gate along source/drain direction is >= 0.4
  X = GT INSIDE EDGE PACT
  ENC X PLL < 0.4 ABUT<90 OPPOSITE REGION
}
PLL_7 {
@ PLL extension outside of P+ AA is 0.16, if distance to related poly is >0.25
  X = PACT NOT COIN EDGE NACT
  ENC X PLL < 0.16 ABUT<90 REGION
}
PLL_8 {
@ PLL extension outside of P+ AA is 0.30, if distance to related poly is <0.25
  X = GT INSIDE EDGE PACT
  A = EXPAND EDGE X INSIDE BY 0.25 OUTSIDE BY 0.25 CORNER FILL
  Y = PGATE COIN EDGE PACT
  B = EXPAND EDGE Y OUTSIDE BY 0.30 EXTEND BY 0.25
  C = (A OR B) INTERACT PLL
  C NOT PLL
  C AND SN
}
PLL_9 {
@ PLL and AA overlap is 0.16
  INT PLL AA < 0.16 ABUT<90 SINGULAR REGION
}
PLL_10 {
@ PLL area is 0.23
  AREA PLL < 0.23
}

PLL_11_R {
@ Required PLL space when the PLL length >= 10um, and PLL is located between two (Polys on STI) , which poly space <= 0.66um is >= 0.3um
 X = GT NOT (AA OR AADUM)
 Y = EXT X <= 0.66 ABUT<90 OPPOSITE REGION
 Z = LENGTH (PLL INSIDE EDGE Y) >= 10
 EXT Z < 0.3 ABUT<90 OPPOSITE REGION
}


//=======================================
//  NLH - 2.5/3.3V NLDD implantation DRC
//=======================================

GROUP GNLH NLH_?

NLH_1 {
@ NLH width is 0.3
  INT NLH < 0.3 ABUT<90 SINGULAR REGION
}
NLH_2 {
@ Space between NLHs is 0.3
  EXT NLH < 0.3 ABUT<90 SINGULAR REGION
}
NLH_3 {
@ Space between NLH and P+ AA inside NW is 0.16
  X = (PACT NOT PTAP) NOT TOUCH EDGE NLH
  EXT (NLH AND NW) X < 0.16 ABUT<90 REGION
}
NLH_4 {
@ Space between NLH and P+ AA inside PW is 0.03
  X = (PACT AND PW) NOT TOUCH EDGE NACT
  EXT (NLH AND PW) X < 0.03 ABUT<90 REGION
}
NLH_4b {
@ Space between a NLH and a butted P+ AA is == 0
  AND NLH PACT
}
NLH_5 {
@ Space between NLH and AA with NLL,PLL,or PLH implantation is 0.16
  EXT NLH (NLLAA NOT COIN EDGE NLHAA) < 0.16 ABUT<90 REGION
  EXT NLH (PLLAA NOT COIN EDGE NLHAA) < 0.16 ABUT<90 REGION
  EXT NLH (PLHAA NOT COIN EDGE NLHAA) < 0.16 ABUT<90 REGION
}
NLH_6 {
@ NLH extension outside of NMOS poly gate along source/drain direction is >= 0.4
  X = GT INSIDE EDGE NACT
  ENC X NLH < 0.4 ABUT<90 OPPOSITE REGION
}
NLH_7 {
@ NLH extension outside of N+ AA is 0.16, if distance to related poly is >0.25
  X = NACT NOT COIN EDGE PACT
  ENC X NLH < 0.16 ABUT<90 REGION
}
NLH_8 {
@ NLH extension outside of N+ AA is 0.30, if distance to related poly is <0.25
  X = GT INSIDE EDGE NACT
  A = EXPAND EDGE X INSIDE BY 0.25 OUTSIDE BY 0.25 CORNER FILL
  Y = NGATE COIN EDGE NACT
  B = EXPAND EDGE Y OUTSIDE BY 0.30 EXTEND BY 0.25
  C = (A OR B) INTERACT NLH
  C NOT NLH
  C AND SP
}
NLH_9 {
@ NLH and AA overlap is 0.16
  INT NLH AA < 0.16 ABUT<90 SINGULAR REGION
}
NLH_10 {
@ NLH area is 0.23
  AREA NLH < 0.23
}

//=======================================
//  PLH - 2.5V PLDD implantation DRC
//=======================================

GROUP GPLH PLH_?

PLH_1 {
@ PLH width is 0.3
  INT PLH < 0.3 ABUT<90 SINGULAR REGION
}
PLH_2 {
@ Space between PLHs is 0.3
  EXT PLH < 0.3 ABUT<90 SINGULAR REGION
}
PLH_3 {
@ Space between PLH and N+ AA inside PW is 0.16
  X = (NACT AND PW) NOT TOUCH EDGE PLH
  EXT (PLH AND PW) X < 0.16 ABUT<90 REGION
}
PLH_4 {
@ Space between PLH and N+ AA inside NW is 0.03
  X = NTAP NOT TOUCH EDGE PACT
  EXT (PLH AND NW) X < 0.03 ABUT<90 REGION
}
PLH_4b {
@ Space between a PLH and a butted N+ AA is == 0
  AND PLH NACT
}
PLH_5 {
@ Space between PLH and AA with PLL, NLL or NLH implantation is 0.16
  EXT PLH (NLHAA NOT COIN EDGE PLHAA) < 0.16 ABUT<90 REGION
  EXT PLH (NLLAA NOT COIN EDGE PLHAA) < 0.16 ABUT<90 REGION
  EXT PLH (PLLAA NOT COIN EDGE PLHAA) < 0.16 ABUT<90 REGION
}
PLH_6 {
@ PLH extension outside of PMOS poly gate along source/drain direction is >= 0.4
  X = GT INSIDE EDGE PACT
  ENC X PLH < 0.4 ABUT<90 OPPOSITE REGION
}
PLH_7 {
@ PLH extension outside of P+ AA is 0.16, if distance to related poly is >0.25
  X = PACT NOT COIN EDGE NACT
  ENC X PLH < 0.16 ABUT<90 REGION
}
PLH_8 {
@ PLH extension outside of P+ AA is 0.30, if distance to related poly is <0.25
  X = GT INSIDE EDGE PACT
  A = EXPAND EDGE X INSIDE BY 0.25 OUTSIDE BY 0.25 CORNER FILL
  Y = PGATE COIN EDGE PACT
  B = EXPAND EDGE Y OUTSIDE BY 0.30 EXTEND BY 0.25
  C = (A OR B) INTERACT PLH
  C NOT PLH
  C AND SN
}
PLH_9 {
@ PLL and AA overlap is 0.16
  INT PLH AA < 0.16 ABUT<90 SINGULAR REGION
}
PLH_10 {
@ PLH area is 0.23
  AREA PLH < 0.23
}

//=================================
//  SN - N+ S/D Implantation DRC
//=================================

GROUP GSN SN_?

SN_1 {
@ SN width is 0.3, exclude (SN INTERACT OPCBA)
  X = SN NOT INTERACT OPCBA
  INT X < 0.3 ABUT<90 REGION
}
SN_2 {
@ Space between SNs is 0.3
  EXT SN < 0.3 OPPOSITE ABUT<90 REGION
}
SN_3 {
@ Space between SN and P+ AA inside NW is 0.16, exclude SRAM region.
  X = (PACT NOT PTAP) NOT COIN EDGE SN
  (EXT (SN AND NW) X < 0.16 ABUT>0<90 REGION) NOT INSIDE SRAM
}
SN_4 {
@ Space between SN and P+ AA inside PW is 0.03
  X = (PACT AND PW) NOT COIN EDGE NACT
  EXT (SN AND PW) X < 0.03 ABUT<90 REGION
}
SN_4b {
@ Min. space between a SN and a butted P+ AA is 0
  AND SN PACT
}
SN_5 {
@ SN extension outside of NMOS poly gate is 0.4, exclude SRAM region.
X = GT INSIDE EDGE NACT
(ENC X SN < 0.4 ABUT<90 OPPOSITE  REGION) NOT INSIDE SRAM
}
SN_6 {
@ Space between SN and poly gate for PMOS is 0.4, exclude SRAM region.
  X = GT INSIDE EDGE PACT
  (EXT SN X < 0.4 ABUT<90 REGION OPPOSITE) NOT INSIDE SRAM
}
SN_7 {
@ SN extension outside of N+ AA is >= 0.16, if distance to related poly is >0.25 except NW resistor region., exclude SRAM region.
  NTAP_NEW = NACT AND ((NW OR NWH) OR NWHT)
  X = (((NACT NOT NTAP_NEW) NOT SNNR) NOT COIN EDGE PACT) NOT COIN EDGE SP
  (ENC X SN < 0.16 ABUT<90 REGION) NOT INSIDE SRAM
}
SN_8 {
@ SN extension outside of N+ AA is >= 0.30, if distance to related poly is <0.25 except NW resistor region., exclude SRAM region.
  X = GT INSIDE EDGE NACT
  A = EXPAND EDGE X INSIDE BY 0.25 OUTSIDE BY 0.25 CORNER FILL
  Y = NGATE COIN EDGE NACT
  B = EXPAND EDGE Y OUTSIDE BY 0.30 EXTEND BY 0.25
  C = A OR B
  (((C INTERACT SN) NOT SN) NOT INSIDE SRAM) NOT INSIDE RESNW
  ((C AND SP) NOT INSIDE SRAM) NOT INSIDE RESNW
}
SN_9 {
@ N+AA enclosure by SN in NW and NWH except NW resistor region is >= 0.03, exclude SRAM region.
  NTAP_SN_9 = NACT AND (NW OR NWH)
  X = ((NTAP_SN_9 NOT SNNR) NOT COIN EDGE PACT) NOT COIN EDGE SP
  (ENC X SN < 0.03 ABUT<90 REGION) NOT INSIDE SRAM
}
SN_10 {
@ SN and AA overlap is 0.16, exclude SRAM region.
  X = SN NOT COIN EDGE AA
  (INT X AA < 0.16 ABUT<90  REGION) NOT INSIDE SRAM
}
SN_11 {
@ SN area is 0.23
  AREA SN < 0.23
}


//=======================================
//  SP - P+ S/D implantation DRC
//=======================================

GROUP GSP SP_?

SP_1 {
@ SP width is 0.3, exclude SRAM region.
  (INT SP < 0.3 ABUT<90 REGION) NOT INSIDE SRAM
}
SP_2 {
@ Space between SNs is 0.3
  EXT SP < 0.3 OPPOSITE ABUT<90 REGION
}
SP_3 {
@ Space between SP and N+ AA inside PW is 0.16, exclude SRAM region.
  X = (NACT AND PW) NOT COIN EDGE SP
  (EXT (SP AND PW) X < 0.16 ABUT<90 REGION) NOT INSIDE SRAM
}
SP_4 {
@ Space between SP and N+ AA inside NW is 0.03, exclude SRAM region.
  X = NTAP NOT COIN EDGE PACT
  (EXT (SP AND NW) X < 0.03 ABUT<90 REGION) NOT INSIDE SRAM
}
SP_5 {
@ Space between SP and N-channel poly gate is 0.4, exclude SRAM region.
  X = GT INSIDE EDGE NACT
  (EXT SP X < 0.4 ABUT<90 REGION OPPOSITE) NOT INSIDE SRAM
}
SP_6 {
@ SP extension outside of PMOS poly gate is 0.4, exclude SRAM region.
X = GT INSIDE EDGE PACT
(ENC X SP < 0.4 ABUT<90 OPPOSITE  REGION) NOT INSIDE SRAM
}
SP_7 {
@ SP extension outside of P+ AA is 0.16, if distance to related poly is >0.25, exclude SRAM region.
//  X = ((PACT NOT PTAP) NOT COIN EDGE NACT) NOT COIN EDGE SN
//  ENC X SP < 0.16 ABUT<90 REGION
   X = NW NOT (NW INTERACT RESNW)
   Y = ((PACT AND X) NOT COIN EDGE NACT) NOT COIN EDGE SN
   (ENC Y SP < 0.16 ABUT<90 REGION) NOT INSIDE SRAM
}
SP_8 {
@ SP extension outside of P+ AA is 0.30, if distance to related poly is <0.25, exclude SRAM region.
  X = GT INSIDE EDGE PACT
  A = EXPAND EDGE X INSIDE BY 0.25 OUTSIDE BY 0.25 CORNER FILL
  Y = PGATE COIN EDGE PACT
  B = EXPAND EDGE Y OUTSIDE BY 0.30 EXTEND BY 0.25
  C = A OR B
  ((C INTERACT SP) NOT SP) NOT INSIDE SRAM
  (C AND SN) NOT INSIDE SRAM
}
SP_9 {
@ P+AA enclosure by SP in PW is 0.03
//  X = PTAP NOT COIN EDGE NACT
//  ENC X SP < 0.03 ABUT<90 REGION
  X = NW INTERACT RESNW 
  Y =((PACT NOT (PACT INTERACT X)) NOT NW) NOT COIN EDGE NACT
  ENC Y SP < 0.03 ABUT<90 REGION
}
SP_10 {
@ SP and AA overlap is 0.18, exclude (SP INTERACT OPCBA)
   X = (SP NOT INTERACT OPCBA) NOT COIN EDGE AA
  INT X AA < 0.18 ABUT<90  REGION
}
SP_11 {
@ SP area is 0.23
  AREA SP < 0.23
}
SP_12 {
@ No SN and SP overlap is allowed
  AND SN SP
}
// SP can not be generated by the reverse tone of SN

//=================================
//  SAB - Salicide Block DRC
//=================================

GROUP GSAB SAB_?

SAB_1 {
@ SAB width is 0.42
  INT SAB < 0.42 ABUT<90 SINGULAR REGION
}
SAB_2 {
@ Space between SABs is 0.42
  EXT SAB < 0.42 ABUT<90 SINGULAR REGION
}
SAB_2a {
@ Space between SABs on poly is >= 0.45. (DRC only checks the space when the space region interacted with poly).
 (EXT SAB < 0.45 ABUT<90 SINGULAR REGION) INTERACT GT
}
SAB_3 {
@ Extension of related AA outside of SAB is 0.2
  ENC SAB AA < 0.20 ABUT<90 SINGULAR REGION
}
SAB_4 {
@ Space between SAB and AA is 0.2
  EXT SAB AA < 0.2 ABUT<90 SINGULAR REGION
}
SAB_5 {
@ Space between SAB and GT on AA is 0.36
  EXT SAB GATE < 0.36 ABUT<90 SINGULAR REGION
}
SAB_6 {
@ Extension of SAB outside of poly on field oxide is 0.2
  X = SAB NOT INTERACT GATE
  ENC INTERGT X < 0.2 ABUT<90 REGION
}
SAB_7 {
@ Space between SAB and CT is 0.2
  EXT SAB CT < 0.2 ABUT<90 SINGULAR REGION
}
SAB_8 {
@ Extension of SAB outside of AA is 0.2
  ENC AA SAB < 0.2 ABUT<90 SINGULAR REGION
}
SAB_9 {
@ Overlap of SN/SP and SAB is 0.28
  INT SN SAB < 0.28 ABUT<90 SINGULAR REGION
  INT SP SAB < 0.28 ABUT<90 SINGULAR REGION
}
SAB_10 {
@ SAB area is >= 1.0
  AREA SAB < 1
}
SAB_10a_R {
@ SAB enclosed area (um2) is >= 1.0
 X = (HOLES SAB INNER) NOT SAB
 AREA X < 1
}
SAB_11 {
@ Space between SAB and poly on field oxide is 0.28
  X = SAB NOT INTERACT GATE
  EXT X INTERGT < 0.28 ABUT<90 SINGULAR REGION
}

//========================
//  CT - Contact DRC
//========================

GROUP GCT CT_?

CT_1 {
@ Fixed contact size (edge of a square via) is 0.16, exclude SRAM region.
  (NOT RECTANGLE CT == 0.16 BY == 0.16) NOT INSIDE SRAM
}
CT_2 {
@ Space between contacts is 0.18
  (EXT CTO < 0.18 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
}
CT_3 {
@ Space between AA and contact on poly is 0.12, exclude SRAM region.
  (EXT (CTO INTERACT GT) AA < 0.12 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
CT_4a {
@ Space between poly and contact on AA for 1.2 and 1.5V is >= 0.11, exclude SRAM region.
  (EXT GT ACT_CT < 0.11 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
#IFDEF IO 1533
CT_4b {
@ Space between poly and contact on AA for 3.3V is 0.13
  (EXT (GT AND DG) ACT_CT < 0.13 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
  (EXT GT (ACT_CT AND DG) < 0.13 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
}
#ENDIF
#IFDEF IO 1225
CT_4c {
@ Space between poly and contact on AA for 2.5V is >= 0.11um
 (EXT (GT AND DG) ACT_CT < 0.11 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
 (EXT GT (ACT_CT AND DG) < 0.11 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
}
#ENDIF
CT_5 {
@ CT enclosure by AA for CT landed on device AA is 0.06, exclude SRAM region.
  BJTID = (DNW INTERACT DMPNP) OR (SIZE (NW INTERACT (DMPNP NOT INTERACT DNW)) BY 1.5)
  DIOID = SIZE DSTR BY 0.25
  X_1 = AA INTERACT ((RESNW OR RESAA) OR (BJTID OR DIOID))
  X_2 = ((AA INTERACT GT) NOT (NTAP OR PTAP)) OR ((AA INTERACT GT) INTERACT VARMOS)
  X = X_1 OR X_2
  Y = CT INTERACT X               
  (ENC Y AA< 0.06 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
CT_5a {
@ CT enclosure by AA for CT landed on pickup AA is 0.05
  BJTID = (DNW INTERACT DMPNP) OR (SIZE (NW INTERACT (DMPNP NOT INTERACT DNW)) BY 1.5)
  DIOID = SIZE DSTR BY 0.25
  X_1 = AA INTERACT ((RESNW OR RESAA) OR (BJTID OR DIOID))
  X_2 = NTAP OR PTAP 
  X = COPY X_1  
  Y = (CT INTERACT (AA NOT X)) INTERACT X_2          
  ENC Y AA < 0.05 ABUT<90 SINGULAR REGION
}

CT_6 {
@ CT enclosure by poly for CT landed on poly is 0.06, exclude SRAM region.
  X = CT INTERACT GT
  (ENC X GT < 0.06 ABUT<90 SINGULAR REGION OUTSIDE ALSO) NOT INSIDE SRAM
}
CT_7_8 {
@ CT enclosure by M1 is >= 0.00, exclude SRAM region.
@ CT.8	M1 line end extension outside of CT 		0.05	um, exclude SRAM region.
//for CT_7  

  X = RECTANGLE ENC (CT NOT TOUCH M1) M1 ABUT<90 OUTSIDE ALSO
  GOOD 0 0.05 OPPOSITE 0 0.05 OPPOSITE

  A = ENC [X] M1 < 0.05 OPPOSITE
  (INT A < 0.01 ABUT==90 REGION INTERSECTING ONLY) NOT INSIDE SRAM      //; For CT not touching M1

  B = CT COIN EDGE M1
  (INT B < 0.01 ABUT==90  REGION) NOT INSIDE SRAM        //; For CT touch M1 with >= 2 butting edges

  Y = ENC CT M1 < 0.05 OPPOSITE REGION
  C1 = CT COIN EDGE M1
  C2 = CT COIN EDGE Y
  (INT C1 C2 < 0.01 ABUT==90 REGION) NOT INSIDE SRAM    //; For CT touch M1 with only 1 edge

  (CT NOT M1) NOT INSIDE SRAM
}
CT_9 {
@ CT is not allowed to land on gate (exclude INDMY region), exclude SRAM region.
  ((AND GATE CT) NOT INDMY) NOT INSIDE SRAM
}
CT_10 {
@ CT can not overlap with SAB layer or (STI NOT GT) region. , exclude SRAM region.
 (AND SAB CT) NOT INSIDE SRAM
 ((CT NOT SRAM) NOT AA) NOT GT
 (CTO NOT INTERACT (AAO OR GTO)) NOT INSIDE SRAM
}

CT_12 {
@ It's not allowed CT overlap with NW, AA, Poly or M1 resistor. For NW, AA, Poly resistor, please refer each resistor section definition.
@ M1 resistor definition: (M1 AND M1R).
 CT AND (M1 AND M1R)
 CT AND ((((RESNW AND AA) AND NW) AND SAB) OR ((RESNW AND NW) NOT INTERACT AA))
 CT AND (((RESP1 AND GT) AND SAB) OR ((RESP1 AND GT) NOT INTERACT SAB))
 CT AND (((RESAA AND AA) AND SAB) OR ((RESAA AND AA) NOT INTERACT SAB))
}


/*=====================
//  Fat Metal find 
//=====================


SLWIDE_M1 = M1 INTERACT (SIZE M1 BY -7)   // wide metal
SLWDM1_45 = ANGLE SLWIDE_M1 >0<90
SLWDM1_90 = NOT ANGLE SLWIDE_M1 >0<90
SLWDM1_EXP_45 = EXPAND EDGE SLWDM1_45 INSIDE BY 7*1.414213562
SLWDM1_EXP_90 = EXPAND EDGE SLWDM1_90 INSIDE BY 7 EXTEND BY 7
SLTHIN_M1_TMP = SLWIDE_M1 NOT (SLWDM1_EXP_45 OR SLWDM1_EXP_90)
SLTHIN_M1 = SNAP SLTHIN_M1_TMP 1            // end of shrink
// begin grow
SLTNM1_45 = ANGLE SLTHIN_M1 >0<90
SLTNM1_90 = NOT ANGLE SLTHIN_M1 >0<90
SLTNM1_EXP_45_TMP = EXPAND EDGE SLTNM1_45 OUTSIDE BY 7*1.414213562
SLTNM1_EXP_45 = SNAP SLTNM1_EXP_45_TMP 1
SLTNM1_EXP_90 = EXPAND EDGE SLTNM1_90 OUTSIDE BY 7 EXTEND BY 7
SLTNM1_EXP = SLTNM1_EXP_45 OR SLTNM1_EXP_90
SLWDM1_PRE = SLTNM1_EXP OR SLTHIN_M1
SLWDM1_PRE_FILL = EXT SLWDM1_PRE < 7 ABUT>0<90 INTERSECTING ONLY REGION
M1OVER14 = SLWDM1_PRE OR SLWDM1_PRE_FILL    // end of grow

SLWIDE_M2 = M2 INTERACT (SIZE M2 BY -7.5)   // wide metal
SLWDM2_45 = ANGLE SLWIDE_M2 >0<90
SLWDM2_90 = NOT ANGLE SLWIDE_M2 >0<90
SLWDM2_EXP_45 = EXPAND EDGE SLWDM2_45 INSIDE BY 7.5*1.414213562
SLWDM2_EXP_90 = EXPAND EDGE SLWDM2_90 INSIDE BY 7.5 EXTEND BY 7.5
SLTHIN_M2_TMP = SLWIDE_M2 NOT (SLWDM2_EXP_45 OR SLWDM2_EXP_90)
SLTHIN_M2 = SNAP SLTHIN_M2_TMP 1            // end of shrink
// begin grow
SLTNM2_45 = ANGLE SLTHIN_M2 >0<90
SLTNM2_90 = NOT ANGLE SLTHIN_M2 >0<90
SLTNM2_EXP_45_TMP = EXPAND EDGE SLTNM2_45 OUTSIDE BY 7.5*1.414213562
SLTNM2_EXP_45 = SNAP SLTNM2_EXP_45_TMP 1
SLTNM2_EXP_90 = EXPAND EDGE SLTNM2_90 OUTSIDE BY 7.5 EXTEND BY 7.5
SLTNM2_EXP = SLTNM2_EXP_45 OR SLTNM2_EXP_90
SLWDM2_PRE = SLTNM2_EXP OR SLTHIN_M2
SLWDM2_PRE_FILL = EXT SLWDM2_PRE < 7.5 ABUT>0<90 INTERSECTING ONLY REGION
M2OVER15 = SLWDM2_PRE OR SLWDM2_PRE_FILL    // end of grow

SLWIDE_M3 = M3 INTERACT (SIZE M3 BY -7.5)   // wide metal
SLWDM3_45 = ANGLE SLWIDE_M3 >0<90
SLWDM3_90 = NOT ANGLE SLWIDE_M3 >0<90
SLWDM3_EXP_45 = EXPAND EDGE SLWDM3_45 INSIDE BY 7.5*1.414213562
SLWDM3_EXP_90 = EXPAND EDGE SLWDM3_90 INSIDE BY 7.5 EXTEND BY 7.5
SLTHIN_M3_TMP = SLWIDE_M3 NOT (SLWDM3_EXP_45 OR SLWDM3_EXP_90)
SLTHIN_M3 = SNAP SLTHIN_M3_TMP 1            // end of shrink
// begin grow
SLTNM3_45 = ANGLE SLTHIN_M3 >0<90
SLTNM3_90 = NOT ANGLE SLTHIN_M3 >0<90
SLTNM3_EXP_45_TMP = EXPAND EDGE SLTNM3_45 OUTSIDE BY 7.5*1.414213562
SLTNM3_EXP_45 = SNAP SLTNM3_EXP_45_TMP 1
SLTNM3_EXP_90 = EXPAND EDGE SLTNM3_90 OUTSIDE BY 7.5 EXTEND BY 7.5
SLTNM3_EXP = SLTNM3_EXP_45 OR SLTNM3_EXP_90
SLWDM3_PRE = SLTNM3_EXP OR SLTHIN_M3
SLWDM3_PRE_FILL = EXT SLWDM3_PRE < 7.5 ABUT>0<90 INTERSECTING ONLY REGION
M3OVER15 = SLWDM3_PRE OR SLWDM3_PRE_FILL    // end of grow

SLWIDE_M4 = M4 INTERACT (SIZE M4 BY -7.5)   // wide metal
SLWDM4_45 = ANGLE SLWIDE_M4 >0<90
SLWDM4_90 = NOT ANGLE SLWIDE_M4 >0<90
SLWDM4_EXP_45 = EXPAND EDGE SLWDM4_45 INSIDE BY 7.5*1.414213562
SLWDM4_EXP_90 = EXPAND EDGE SLWDM4_90 INSIDE BY 7.5 EXTEND BY 7.5
SLTHIN_M4_TMP = SLWIDE_M4 NOT (SLWDM4_EXP_45 OR SLWDM4_EXP_90)
SLTHIN_M4 = SNAP SLTHIN_M4_TMP 1            // end of shrink
// begin grow
SLTNM4_45 = ANGLE SLTHIN_M4 >0<90
SLTNM4_90 = NOT ANGLE SLTHIN_M4 >0<90
SLTNM4_EXP_45_TMP = EXPAND EDGE SLTNM4_45 OUTSIDE BY 7.5*1.414213562
SLTNM4_EXP_45 = SNAP SLTNM4_EXP_45_TMP 1
SLTNM4_EXP_90 = EXPAND EDGE SLTNM4_90 OUTSIDE BY 7.5 EXTEND BY 7.5
SLTNM4_EXP = SLTNM4_EXP_45 OR SLTNM4_EXP_90
SLWDM4_PRE = SLTNM4_EXP OR SLTHIN_M4
SLWDM4_PRE_FILL = EXT SLWDM4_PRE < 7.5 ABUT>0<90 INTERSECTING ONLY REGION
M4OVER15 = SLWDM4_PRE OR SLWDM4_PRE_FILL    // end of grow


SLWIDE_M5 = M5 INTERACT (SIZE M5 BY -7.5)   // wide metal
SLWDM5_45 = ANGLE SLWIDE_M5 >0<90
SLWDM5_90 = NOT ANGLE SLWIDE_M5 >0<90
SLWDM5_EXP_45 = EXPAND EDGE SLWDM5_45 INSIDE BY 7.5*1.414213562
SLWDM5_EXP_90 = EXPAND EDGE SLWDM5_90 INSIDE BY 7.5 EXTEND BY 7.5
SLTHIN_M5_TMP = SLWIDE_M5 NOT (SLWDM5_EXP_45 OR SLWDM5_EXP_90)
SLTHIN_M5 = SNAP SLTHIN_M5_TMP 1            // end of shrink
// begin grow
SLTNM5_45 = ANGLE SLTHIN_M5 >0<90
SLTNM5_90 = NOT ANGLE SLTHIN_M5 >0<90
SLTNM5_EXP_45_TMP = EXPAND EDGE SLTNM5_45 OUTSIDE BY 7.5*1.414213562
SLTNM5_EXP_45 = SNAP SLTNM5_EXP_45_TMP 1
SLTNM5_EXP_90 = EXPAND EDGE SLTNM5_90 OUTSIDE BY 7.5 EXTEND BY 7.5
SLTNM5_EXP = SLTNM5_EXP_45 OR SLTNM5_EXP_90
SLWDM5_PRE = SLTNM5_EXP OR SLTHIN_M5
SLWDM5_PRE_FILL = EXT SLWDM5_PRE < 7.5 ABUT>0<90 INTERSECTING ONLY REGION
M5OVER15 = SLWDM5_PRE OR SLWDM5_PRE_FILL    // end of grow


SLWIDE_M6 = M6 INTERACT (SIZE M6 BY -7.5)   // wide metal
SLWDM6_45 = ANGLE SLWIDE_M6 >0<90
SLWDM6_90 = NOT ANGLE SLWIDE_M6 >0<90
SLWDM6_EXP_45 = EXPAND EDGE SLWDM6_45 INSIDE BY 7.5*1.414213562
SLWDM6_EXP_90 = EXPAND EDGE SLWDM6_90 INSIDE BY 7.5 EXTEND BY 7.5
SLTHIN_M6_TMP = SLWIDE_M6 NOT (SLWDM6_EXP_45 OR SLWDM6_EXP_90)
SLTHIN_M6 = SNAP SLTHIN_M6_TMP 1            // end of shrink
// begin grow
SLTNM6_45 = ANGLE SLTHIN_M6 >0<90
SLTNM6_90 = NOT ANGLE SLTHIN_M6 >0<90
SLTNM6_EXP_45_TMP = EXPAND EDGE SLTNM6_45 OUTSIDE BY 7.5*1.414213562
SLTNM6_EXP_45 = SNAP SLTNM6_EXP_45_TMP 1
SLTNM6_EXP_90 = EXPAND EDGE SLTNM6_90 OUTSIDE BY 7.5 EXTEND BY 7.5
SLTNM6_EXP = SLTNM6_EXP_45 OR SLTNM6_EXP_90
SLWDM6_PRE = SLTNM6_EXP OR SLTHIN_M6
SLWDM6_PRE_FILL = EXT SLWDM6_PRE < 7.5 ABUT>0<90 INTERSECTING ONLY REGION
M6OVER15 = SLWDM6_PRE OR SLWDM6_PRE_FILL    // end of grow


SLWIDE_M7 = M7 INTERACT (SIZE M7 BY -7.5)   // wide metal
SLWDM7_45 = ANGLE SLWIDE_M7 >0<90
SLWDM7_90 = NOT ANGLE SLWIDE_M7 >0<90
SLWDM7_EXP_45 = EXPAND EDGE SLWDM7_45 INSIDE BY 7.5*1.414213562
SLWDM7_EXP_90 = EXPAND EDGE SLWDM7_90 INSIDE BY 7.5 EXTEND BY 7.5
SLTHIN_M7_TMP = SLWIDE_M7 NOT (SLWDM7_EXP_45 OR SLWDM7_EXP_90)
SLTHIN_M7 = SNAP SLTHIN_M7_TMP 1            // end of shrink
// begin grow
SLTNM7_45 = ANGLE SLTHIN_M7 >0<90
SLTNM7_90 = NOT ANGLE SLTHIN_M7 >0<90
SLTNM7_EXP_45_TMP = EXPAND EDGE SLTNM7_45 OUTSIDE BY 7.5*1.414213562
SLTNM7_EXP_45 = SNAP SLTNM7_EXP_45_TMP 1
SLTNM7_EXP_90 = EXPAND EDGE SLTNM7_90 OUTSIDE BY 7.5 EXTEND BY 7.5
SLTNM7_EXP = SLTNM7_EXP_45 OR SLTNM7_EXP_90
SLWDM7_PRE = SLTNM7_EXP OR SLTHIN_M7
SLWDM7_PRE_FILL = EXT SLWDM7_PRE < 7.5 ABUT>0<90 INTERSECTING ONLY REGION
M7OVER15 = SLWDM7_PRE OR SLWDM7_PRE_FILL    // end of grow

SLWIDE_TM2 = TM2 INTERACT (SIZE TM2 BY -15)   // wide metal
SLWDTM2_45 = ANGLE SLWIDE_TM2 >0<90
SLWDTM2_90 = NOT ANGLE SLWIDE_TM2 >0<90
SLWDTM2_EXP_45 = EXPAND EDGE SLWDTM2_45 INSIDE BY 15*1.414213562
SLWDTM2_EXP_90 = EXPAND EDGE SLWDTM2_90 INSIDE BY 15 EXTEND BY 15
SLTHIN_TM2_TMP = SLWIDE_TM2 NOT (SLWDTM2_EXP_45 OR SLWDTM2_EXP_90)
SLTHIN_TM2 = SNAP SLTHIN_TM2_TMP 1            // end of shrink
// begin grow
SLTNTM2_45 = ANGLE SLTHIN_TM2 >0<90
SLTNTM2_90 = NOT ANGLE SLTHIN_TM2 >0<90
SLTNTM2_EXP_45_TMP = EXPAND EDGE SLTNTM2_45 OUTSIDE BY 15*1.414213562
SLTNTM2_EXP_45 = SNAP SLTNTM2_EXP_45_TMP 1
SLTNTM2_EXP_90 = EXPAND EDGE SLTNTM2_90 OUTSIDE BY 15 EXTEND BY 15
SLTNTM2_EXP = SLTNTM2_EXP_45 OR SLTNTM2_EXP_90
SLWDTM2_PRE = SLTNTM2_EXP OR SLTHIN_TM2
SLWDTM2_PRE_FILL = EXT SLWDTM2_PRE < 15 ABUT>0<90 INTERSECTING ONLY REGION
TM2OVER30 = SLWDTM2_PRE OR SLWDTM2_PRE_FILL    // end of grow
*/

M1SLOT1 = HOLES M1 INNER EMPTY
M2SLOT1 = HOLES M2 INNER EMPTY
M3SLOT1 = HOLES M3 INNER EMPTY
M4SLOT1 = HOLES M4 INNER EMPTY
M5SLOT1 = HOLES M5 INNER EMPTY
M6SLOT1 = HOLES M6 INNER EMPTY
M7SLOT1 = HOLES M7 INNER EMPTY
TM2SLOT1 = HOLES TM2 INNER EMPTY

M1_SL  = (M1 INTERACT M1SLOT1) OR M1SLOT1
M2_SL  = (M2 INTERACT M2SLOT1) OR M2SLOT1
M3_SL  = (M3 INTERACT M3SLOT1) OR M3SLOT1
M4_SL  = (M4 INTERACT M4SLOT1) OR M4SLOT1
M5_SL  = (M5 INTERACT M5SLOT1) OR M5SLOT1
M6_SL  = (M6 INTERACT M6SLOT1) OR M6SLOT1
M7_SL  = (M7 INTERACT M7SLOT1) OR M7SLOT1
TM2_SL  = (TM2 INTERACT TM2SLOT1) OR TM2SLOT1


//=====================
//  M1 - Metal 1 DRC
//=====================


GROUP GM1 M1_?
/*
//--* Find Wide Metal *--//

WIDE_M1 = M1 INTERACT (SIZE M1 BY -5)   // wide metal

// begin shrink
WDM1_45 = ANGLE WIDE_M1 >0<90

WDM1_90 = NOT ANGLE WIDE_M1 >0<90

WDM1_EXP_45 = EXPAND EDGE WDM1_45 INSIDE BY 5*1.414213562

WDM1_EXP_90 = EXPAND EDGE WDM1_90 INSIDE BY 5 EXTEND BY 5

THIN_M1_TMP = WIDE_M1 NOT (WDM1_EXP_45 OR WDM1_EXP_90)

THIN_M1 = SNAP THIN_M1_TMP 1            // end of shrink

// begin grow
TNM1_45 = ANGLE THIN_M1 >0<90

TNM1_90 = NOT ANGLE THIN_M1 >0<90

TNM1_EXP_45_TMP = EXPAND EDGE TNM1_45 OUTSIDE BY 5*1.414213562

TNM1_EXP_45 = SNAP TNM1_EXP_45_TMP 1

TNM1_EXP_90 = EXPAND EDGE TNM1_90 OUTSIDE BY 5 EXTEND BY 5

TNM1_EXP = TNM1_EXP_45 OR TNM1_EXP_90
WDM1_PRE = TNM1_EXP OR THIN_M1

WDM1_PRE_FILL = EXT WDM1_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M1OVER10 = WDM1_PRE OR WDM1_PRE_FILL    // end of grow

//--* End of Finding Wide Metal *--//
*/

M1_1 {
@ M1 width is 0.16, exclude SRAM region
  X =INT M1 < 0.16 ABUT<90 SINGULAR REGION
  (X NOT INTERACT EXCLU) NOT INSIDE SRAM
}
M1_2 {
@ Space between M1s is 0.17, exclude SRAM region
 (EXT M1O < 0.17 ABUT<90 SINGULAR REGION EXCLUDE FALSE ) NOT INSIDE SRAM
}
M1_3a_R {
@ Space between M1s with one or both M1 width greater than 0.4um is 0.2, when runlength>1um
  X = M1O COIN EDGE (M1O WITH WIDTH > 0.4)
Y= (EXT M1O X < 0.2 ABUT<90 OPPOSITE REGION) NOT INSIDE OPCBM
  Y ENCLOSE RECTANGLE 1.001 0.001

}
M1_3b_R {
@ Space between M1s with one or both M1 width greater than 2um is 0.4
  X = M1O WITH WIDTH > 2
  (EXT M1O X < 0.4 ABUT<90 REGION) NOT INSIDE OPCBM
}
M1_3c {
@ Space between M1s with one or both M1 width greater than 10um is 0.5
  X = M1O WITH WIDTH > 10
  (EXT M1O X < 0.5 ABUT<89.9 REGION) NOT INSIDE OPCBM
}
M1_4 {
@ M1 area is 0.08
  X = AREA M1 < 0.08
  X NOT INTERACT EXCLU
}
M1_5 {
@ Dielectric area enclosed by M1(um2) is 0.17
  X = (HOLES M1 INNER) NOT M1
  AREA X < 0.17 
}
M1_6a {
@ Dummy pattern is required in case M1 density is less than 16%
  DENSITY (M1i OR M1DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M1a.log  //; Density check in each 200x200 square
}
M1_6b {
@ Max. Metal 1 GDS pattern density is 82%
  DENSITY (M1i OR M1DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M1b.log  //; Density check in each 200x200 square
}
M1_7 {
@ Space between metal line and 45 degree bent metal line that are longer than 0.5um is 0.2
  X = ANGLE M1O == 45
  Y = LENGTH X >= 0.5
  (EXT M1O Y < 0.2 ABUT<90 REGION) NOT INSIDE OPCBM
}
M1_8 {
@M1.8	Maximum line width allowed. Metal slot rule will apply for a metal with line width greater than this value. DRC skip to check (M1 interact AND with PA pattern).		14.00	um
  X = M1O WITH WIDTH > 14
  (X NOT INTERACT PA) NOT INSIDE OPCBM
}

//========================
//  V1 - Via 1 DRC
//========================

GROUP GV1 V1_?

V1_1 {
@ Fixed V1 size is 0.19 (except FUSE protection ring region).
  V1x = V1 NOT V1FUSE_RING
  X = NOT RECTANGLE V1x == 0.19 BY == 0.19
  X NOT TOUCH EXCLU
}
V1_2a {
@ Space between V1s is 0.21um
  (EXT V1O < 0.21 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
}
V1_2b {
@ Space between V1s within array greater or equal to 4*4 is 0.25
@ Two via regions whose space is <= 0.27um are considered to be in the same array
  X = SIZE V1O BY 0.135 OVERUNDER
  Y = SIZE X BY 0.65 UNDEROVER
  Z = V1O INSIDE Y
  (EXT Z < 0.25 ABUT<90 SINGULAR REGION) NOT INSIDE OPCBM
}
V1_4_5_8 {
@ V1 enclosure by M1 is 0.005, exclude SRAM region
@ V1.5	Extension of M1 line end outside of V1		0.05	um, exclude SRAM region
@ For V1 enclosed at the 90 degree corner by M1, M1 extension at least along one direction outside V1 is 0.05, exclude SRAM region
  X = RECTANGLE ENC (V1 NOT INTERACT EXCLU) (M1 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.05 OPPOSITE 0.005 0.05 OPPOSITE

  (ENC X M1 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M1 < 0.05 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  (V1 NOT M1) NOT INSIDE SRAM

}
V1_6_7_9 {
@ V1 enclosure by M2 is 0.005, exclude SRAM region.
@ V1.7	Extension of M2 line end outside of V1		0.03	um, exclude SRAM region.
@ For V1 enclosed at the 90 degree corner by M2, M2 extension at least along one direction outside V1 is 0.05, exclude SRAM region.
  X = RECTANGLE ENC (V1 NOT INTERACT EXCLU) (M2 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.03 OPPOSITE 0.005 0.03 OPPOSITE

  (ENC X M2 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M2 < 0.03 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  (V1 NOT M2) NOT INSIDE SRAM
}

V1_11_R {
@ Vis redundancy is recommended wherever layout allows.
@ No. of via when either or both M1 and M2 width >0.9um
//;  X = (M1 OR M2) WITH WIDTH > 0.9
//;  X ENCLOSE V1 < 2
   M1M2 = M1O AND M2
   X1_M1 = M1O WITH WIDTH > 0.9
   X2_M1 = (M1M2 INTERACT X1_M1) INTERACT V1O
   (X2_M1 INTERACT V1O <2) NOT INSIDE OPCBM
   X1_M2 = M2 WITH WIDTH > 0.9
   X2_M2 = (M1M2 INTERACT X1_M2) INTERACT V1O
   (X2_M2 INTERACT V1O <2) NOT INSIDE OPCBM
}

V1_12 {
@ It's not allowed V1 overlap with M1 or M2 resistor.
 (V1O AND (M1 AND M1R)) NOT INSIDE OPCBM
 (V1O AND (M2 AND M2R)) NOT INSIDE OPCBM
}

//========================
//  M2 - Metal 2 DRC 
//========================


GROUP GM2 M2_?

/*
//--* Find Wide Metal *--//

WIDE_M2        = M2 INTERACT (SIZE M2 BY -5)   // wide metal
// begin shrink
WDM2_45        = ANGLE WIDE_M2 >0<90
WDM2_90        = NOT ANGLE WIDE_M2 >0<90

WDM2_EXP_45    = EXPAND EDGE WDM2_45 INSIDE BY 5*1.414213562
WDM2_EXP_90    = EXPAND EDGE WDM2_90 INSIDE BY 5 EXTEND BY 5

THIN_M2_TMP    = WIDE_M2 NOT (WDM2_EXP_45 OR WDM2_EXP_90)
THIN_M2        = SNAP THIN_M2_TMP 1            // end of shrink

// begin grow
TNM2_45        = ANGLE THIN_M2 >0<90
TNM2_90        = NOT ANGLE THIN_M2 >0<90

TNM2_EXP_45_TMP = EXPAND EDGE TNM2_45 OUTSIDE BY 5*1.414213562
TNM2_EXP_45    = SNAP TNM2_EXP_45_TMP 1
TNM2_EXP_90    = EXPAND EDGE TNM2_90 OUTSIDE BY 5 EXTEND BY 5

TNM2_EXP       = TNM2_EXP_45 OR TNM2_EXP_90

WDM2_PRE       = TNM2_EXP OR THIN_M2
WDM2_PRE_FILL  = EXT WDM2_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M2OVER10       = WDM2_PRE OR WDM2_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

M2_1 {
@ M2 width is 0.2
X =  INT M2 < 0.20 ABUT<90 SINGULAR REGION
X NOT INTERACT EXCLU
}
M2_2 {
@ Space between M2s is 0.2, exclude SRAM region.
  (EXT M2 < 0.20 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
M2_3a_R {
@ Space between M2s with one or both M2 width greater than 0.4um is 0.25, when runlength>1um.
  X = M2 COIN EDGE (M2 WITH WIDTH > 0.4)
 Y= EXT M2 X < 0.25 ABUT<90 OPPOSITE REGION
  Y ENCLOSE RECTANGLE 1.001 0.001

}
M2_3b_R {
@ Space between M2s with one or both M2 width greater than 2um is 0.4
  X = M2 WITH WIDTH > 2
  EXT M2 X < 0.4 ABUT<90 REGION
}
M2_3c {
@ Space between M2s with one or both M2 width greater than 10um is 0.5
  X = M2 WITH WIDTH > 10
  EXT M2 X < 0.5 ABUT<89.9 REGION 
}
M2_4 {
@ M2 area (in um2) is 0.12
  X = AREA M2 < 0.12
  X NOT INTERACT EXCLU
}
M2_5 {
@ Dielectric area enclosed by M2(um2) is 0.26
  X = (HOLES M2 INNER) NOT M2
  AREA X < 0.26 
}
M2_6a {
@ Dummy pattern is required in case M2 density is less than 16%
  DENSITY (M2i OR M2DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M2a.log  //; Density check in each 200x200 square
}
M2_6b {
@ Max. Metal2  GDS pattern density is 82%
  DENSITY (M2i OR M2DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M2b.log  //; Density check in each 200x200 square
}
M2_7 {
@ Space between metal line and 45 degree bent metal line that are longer than 0.5um is 0.22
  X = ANGLE M2 == 45
  Y = LENGTH X >= 0.5
  EXT M2 Y < 0.22 ABUT<90 REGION
}
M2_8 { 
@ Max. M2 width is 15. Metal wider than this size should apply slot .
   X = M2 WITH WIDTH > 15
   X NOT INTERACT PA 
}

//========================
//  M3 - Metal 3 DRC 
//========================


GROUP GM3 M3_?
/*
//--* Find Wide Metal *--//

WIDE_M3        = M3 INTERACT (SIZE M3 BY -5)   // wide metal

// begin shrink
WDM3_45        = ANGLE WIDE_M3 >0<90
WDM3_90        = NOT ANGLE WIDE_M3 >0<90

WDM3_EXP_45    = EXPAND EDGE WDM3_45 INSIDE BY 5*1.414213562
WDM3_EXP_90    = EXPAND EDGE WDM3_90 INSIDE BY 5 EXTEND BY 5

THIN_M3_TMP    = WIDE_M3 NOT (WDM3_EXP_45 OR WDM3_EXP_90)
THIN_M3        = SNAP THIN_M3_TMP 1            // end of shrink

// begin grow
TNM3_45        = ANGLE THIN_M3 >0<90
TNM3_90        = NOT ANGLE THIN_M3 >0<90

TNM3_EXP_45_TMP = EXPAND EDGE TNM3_45 OUTSIDE BY 5*1.414213562
TNM3_EXP_45    = SNAP TNM3_EXP_45_TMP 1
TNM3_EXP_90    = EXPAND EDGE TNM3_90 OUTSIDE BY 5 EXTEND BY 5

TNM3_EXP       = TNM3_EXP_45 OR TNM3_EXP_90

WDM3_PRE       = TNM3_EXP OR THIN_M3
WDM3_PRE_FILL  = EXT WDM3_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M3OVER10       = WDM3_PRE OR WDM3_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

M3_1 {
@ M3 width is 0.2
  X=  INT M3 < 0.20 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
M3_2 {
@ Space between M3s is 0.2, exclude SRAM region.
  (EXT M3 < 0.20 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
M3_3a_R {
@ Space between M3s with one or both M3 width greater than 0.4um is 0.25 , when runlength>1um
  X = M3 COIN EDGE (M3 WITH WIDTH > 0.4)
 Y= EXT M3 X < 0.25 ABUT<90 OPPOSITE REGION
  Y ENCLOSE RECTANGLE 1.001 0.001

}
M3_3b_R {
@ Space between M3s with one or both M3 width greater than 2um is 0.4
  X = M3 WITH WIDTH > 2
  EXT M3 X < 0.4 ABUT<90 REGION
}
M3_3c {
@ Space between M3s with one or both M3 width greater than 10um is 0.5
  X = M3 WITH WIDTH > 10
  EXT M3 X < 0.5 ABUT<89.9 REGION 
}
M3_4 {
@ M3 area (in um2) is 0.12
  X=  AREA M3 < 0.12
  X NOT INTERACT EXCLU
}
M3_5 {
@ Dielectric area enclosed by M3(um2) is 0.26
  X = (HOLES M3 INNER) NOT M3
  AREA X < 0.26 
}
M3_6a {
@ Dummy pattern is required in case M3 density is less than 16%
  DENSITY (M3i OR M3DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M3a.log  //; Density check in each 200x200 square
}
M3_6b {
@ Max. Metal3  GDS pattern density is 82%
  DENSITY (M3i OR M3DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M3b.log  //; Density check in each 200x200 square
}
M3_7 {
@ Space between metal line and 45 degree bent metal line that longer than 0.5um is 0.22
  X = ANGLE M3 == 45
  Y = LENGTH X >= 0.5
  EXT M3 Y < 0.22 ABUT<90 REGION
}
M3_8 { 
@ Max. M3 width is 15. Metal wider than this size should apply slot .
 X = M3 WITH WIDTH > 15
 X NOT INTERACT PA
} 

//========================
//  M4 - Metal 4 DRC 
//========================


GROUP GM4 M4_?

/*
//--* Find Wide Metal *--//

WIDE_M4        = M4 INTERACT (SIZE M4 BY -5)   // wide metal

// begin shrink
WDM4_45        = ANGLE WIDE_M4 >0<90
WDM4_90        = NOT ANGLE WIDE_M4 >0<90

WDM4_EXP_45    = EXPAND EDGE WDM4_45 INSIDE BY 5*1.414213562
WDM4_EXP_90    = EXPAND EDGE WDM4_90 INSIDE BY 5 EXTEND BY 5

THIN_M4_TMP    = WIDE_M4 NOT (WDM4_EXP_45 OR WDM4_EXP_90)
THIN_M4        = SNAP THIN_M4_TMP 1            // end of shrink

// begin grow
TNM4_45        = ANGLE THIN_M4 >0<90
TNM4_90        = NOT ANGLE THIN_M4 >0<90

TNM4_EXP_45_TMP = EXPAND EDGE TNM4_45 OUTSIDE BY 5*1.414213562
TNM4_EXP_45    = SNAP TNM4_EXP_45_TMP 1
TNM4_EXP_90    = EXPAND EDGE TNM4_90 OUTSIDE BY 5 EXTEND BY 5

TNM4_EXP       = TNM4_EXP_45 OR TNM4_EXP_90

WDM4_PRE       = TNM4_EXP OR THIN_M4
WDM4_PRE_FILL  = EXT WDM4_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M4OVER10       = WDM4_PRE OR WDM4_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

M4_1 {
@ M4 width is 0.2
  X= INT M4 < 0.20 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
M4_2 {
@ Space between M4s is 0.2, exclude SRAM region.
  (EXT M4 < 0.20 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
M4_3a_R {
@ Space between M4s with one or both M4 width greater than 0.4um is 0.25 , when runlength>1um
  X = M4 COIN EDGE (M4 WITH WIDTH > 0.4)
 Y = EXT M4 X < 0.25 ABUT<90 OPPOSITE REGION
  Y ENCLOSE RECTANGLE 1.001 0.001

}
M4_3b_R {
@ Space between M4s with one or both M4 width greater than 2um is 0.4
  X = M4 WITH WIDTH > 2
  EXT M4 X < 0.4 ABUT<90 REGION
}
M4_3c {
@ Space between M4s with one or both M4 width greater than 10um is 0.5
  X = M4 WITH WIDTH > 10
  EXT M4 X < 0.5 ABUT<89.9 REGION 
}
M4_4 {
@ M4 area is 0.12
  X=  AREA M4 < 0.12
  X NOT INTERACT EXCLU
}
M4_5 {
@ Dielectric area enclosed by M4(um2) is 0.26
  X = (HOLES M4 INNER) NOT M4
  AREA X < 0.26 
}
M4_6a {
@ Dummy pattern is required in case M4 density is less than 16%
  DENSITY (M4i OR M4DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M4a.log  //; Density check in each 200x200 square
}
M4_6b {
@ Max. Metal4  GDS pattern density is 82%
  DENSITY (M4i OR M4DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M4b.log  //; Density check in each 200x200 square
}
M4_7 {
@ Space between metal line and 45 degree bent metal line that longer than 0.5um is 0.22
  X = ANGLE M4 == 45
  Y = LENGTH X >= 0.5
  EXT M4 Y < 0.22 ABUT<90 REGION
}
#IFDEF MIM one_mask
M4_8 { 
@ Max. M4 width is 15. Metal wider than this size should apply slot .
  X = M4 WITH WIDTH > 15
  X NOT INTERACT PA
}
#ENDIF 

#IFDEF MIM two_mask
M4_8 { 
@ Max. M4 width is 15. Metal wider than this size should apply slot .
   X = M4 WITH WIDTH > 15
  X NOT INTERACT PA
}
#ENDIF 
#IFDEF MIM stack_mim
M4_8 { 
@ Max. M4 width is 15. Metal wider than this size should apply slot .
  X = M4 WITH WIDTH > 15
  Y = X INTERACT (MIMSHD INTERACT MIM)
  (X NOT Y) NOT INTERACT PA
} 
#ENDIF


//========================
//  M5 - Metal 5 DRC 
//========================


GROUP GM5 M5_?
/*
//--* Find Wide Metal *--//

WIDE_M5        = M5 INTERACT (SIZE M5 BY -5)   // wide metal

// begin shrink
WDM5_45        = ANGLE WIDE_M5 >0<90
WDM5_90        = NOT ANGLE WIDE_M5 >0<90

WDM5_EXP_45    = EXPAND EDGE WDM5_45 INSIDE BY 5*1.414213562
WDM5_EXP_90    = EXPAND EDGE WDM5_90 INSIDE BY 5 EXTEND BY 5

THIN_M5_TMP    = WIDE_M5 NOT (WDM5_EXP_45 OR WDM5_EXP_90)
THIN_M5        = SNAP THIN_M5_TMP 1            // end of shrink

// begin grow
TNM5_45        = ANGLE THIN_M5 >0<90
TNM5_90        = NOT ANGLE THIN_M5 >0<90

TNM5_EXP_45_TMP = EXPAND EDGE TNM5_45 OUTSIDE BY 5*1.414213562
TNM5_EXP_45    = SNAP TNM5_EXP_45_TMP 1
TNM5_EXP_90    = EXPAND EDGE TNM5_90 OUTSIDE BY 5 EXTEND BY 5

TNM5_EXP       = TNM5_EXP_45 OR TNM5_EXP_90

WDM5_PRE       = TNM5_EXP OR THIN_M5
WDM5_PRE_FILL  = EXT WDM5_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M5OVER10       = WDM5_PRE OR WDM5_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

M5_1 {
@ M5 width is 0.2
  X=  INT M5 < 0.20 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
M5_2 {
@ Space between M5s is 0.2, exclude SRAM region.
  (EXT M5 < 0.20 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
M5_3a_R {
@ Space between M5s with one or both M5 width greater than 0.4um is 0.25 , when runlength>1um
  X = M5 COIN EDGE (M5 WITH WIDTH > 0.4)
 Y = EXT M5 X < 0.25 ABUT<90 OPPOSITE REGION
  Y ENCLOSE RECTANGLE 1.001 0.001

}
M5_3b_R {
@ Space between M5s with one or both M5 width greater than 2um is 0.4
  X = M5 WITH WIDTH > 2
  EXT M5 X < 0.4 ABUT<90 REGION
}
M5_3c {
@ Space between M5s with one or both M5 width greater than 10um is 0.5
  X = M5 WITH WIDTH > 10
  EXT M5 X < 0.5 ABUT<89.9 REGION 
}
M5_4 {
@ M5 area is 0.12
  X=  AREA M5 < 0.12
  X NOT INTERACT EXCLU
}
M5_5 {
@ Dielectric area enclosed by M5(um2) is 0.26
  X = (HOLES M5 INNER) NOT M5
  AREA X < 0.26 
}
M5_6a {
@ Dummy pattern is required in case M5 density is less than 16%
  DENSITY (M5i OR M5DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M5a.log  //; Density check in each 200x200 square
}
M5_6b {
@ Max. Metal5  GDS pattern density is 82%
  DENSITY (M5i OR M5DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M5b.log  //; Density check in each 200x200 square
}
M5_7 {
@ Space between metal line and 45 degree bent metal line that longer than 0.5um is 0.22
  X = ANGLE M5 == 45
  Y = LENGTH X >= 0.5
  EXT M5 Y < 0.22 ABUT<90 REGION
}
#IFDEF MIM one_mask
M5_8 { 
@ Max. M5 width is 15. Metal wider than this size should apply slot .
  X = M5 WITH WIDTH > 15
  X NOT INTERACT PA
} 
#ENDIF
#IFDEF MIM two_mask
M5_8 { 
@ Max. M5 width is 15. Metal wider than this size should apply slot .
  X= M5 WITH WIDTH > 15
  X NOT INTERACT PA
}
#ENDIF
#IFDEF MIM stack_mim 
M5_8 { 
@ Max. M5 width is 15. Metal wider than this size should apply slot .
 X= M5 WITH WIDTH > 15
  Y = X INTERACT MIM
  (X NOT Y) NOT INTERACT PA
} 
#ENDIF

//========================
//  M6 - Metal 6 DRC 
//========================


GROUP GM6 M6_?
/*
//--* Find Wide Metal *--//

WIDE_M6        = M6 INTERACT (SIZE M6 BY -5)   // wide metal

// begin shrink
WDM6_45        = ANGLE WIDE_M6 >0<90
WDM6_90        = NOT ANGLE WIDE_M6 >0<90

WDM6_EXP_45    = EXPAND EDGE WDM6_45 INSIDE BY 5*1.414213562
WDM6_EXP_90    = EXPAND EDGE WDM6_90 INSIDE BY 5 EXTEND BY 5

THIN_M6_TMP    = WIDE_M6 NOT (WDM6_EXP_45 OR WDM6_EXP_90)
THIN_M6        = SNAP THIN_M6_TMP 1            // end of shrink

// begin grow
TNM6_45        = ANGLE THIN_M6 >0<90
TNM6_90        = NOT ANGLE THIN_M6 >0<90

TNM6_EXP_45_TMP = EXPAND EDGE TNM6_45 OUTSIDE BY 5*1.414213562
TNM6_EXP_45    = SNAP TNM6_EXP_45_TMP 1
TNM6_EXP_90    = EXPAND EDGE TNM6_90 OUTSIDE BY 5 EXTEND BY 5

TNM6_EXP       = TNM6_EXP_45 OR TNM6_EXP_90

WDM6_PRE       = TNM6_EXP OR THIN_M6
WDM6_PRE_FILL  = EXT WDM6_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M6OVER10       = WDM6_PRE OR WDM6_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

M6_1 {
@ M6 width is 0.2
  X= INT M6 < 0.20 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
M6_2 {
@ Space between M6s is 0.2, exclude SRAM region.
  (EXT M6 < 0.20 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
M6_3a_R {
@ Space between M6s with one or both M6 width greater than0 0.4um is 0.25 , when runlength>1um
  X = M6 COIN EDGE (M6 WITH WIDTH > 0.4)
 Y = EXT M6 X < 0.25 ABUT<90 OPPOSITE REGION
  Y ENCLOSE RECTANGLE 1.001 0.001
}
M6_3b_R {
@ Space between M6s with one or both M6 width greater than 2um is 0.4
  X = M6 WITH WIDTH > 2
  EXT M6 X < 0.4 ABUT<90 REGION
}
M6_3c {
@ Space between M6s with one or both M6 width greater than 10um is 0.5
  X = M6 WITH WIDTH > 10
  EXT M6 X < 0.5 ABUT<89.9 REGION 
}
M6_4 {
@ M6 area is 0.12
  X=  AREA M6 < 0.12
  X NOT INTERACT EXCLU
}
M6_5 {
@ Dielectric area enclosed by M6(um2) is 0.26
  X = (HOLES M6 INNER) NOT M6
  AREA X < 0.26 
}
M6_6a {
@ Dummy pattern is required in case M6 density is less than 16%
  DENSITY (M6i OR M6DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M6a.log  //; Density check in each 200x200 square
}
M6_6b {
@ Max. Metal6 GDS pattern density is 82%
  DENSITY (M6i OR M6DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M6b.log  //; Density check in each 200x200 square
}
M6_7 {
@ Space between metal line and 45 degree bent metal line longer than 0.5um is 0.22
  X = ANGLE M6 == 45
  Y = LENGTH X >= 0.5
  EXT M6 Y < 0.22 ABUT<90 REGION
}
#IFDEF MIM one_mask
M6_8 { 
@ Max. M6 width is 15. Metal wider than this size should apply slot(DRC waive: (TM-1 AND DUPMK1) region for one top metal design).
  X = M6 WITH WIDTH > 15
  Y = X INTERACT (MIMSHD INTERACT MIM)
  (X NOT Y) NOT INTERACT PA
} 
#ENDIF
#IFDEF MIM two_mask
M6_8 { 
@ Max. M6 width is 15. Metal wider than this size should apply slot(DRC waive: (TM-1 AND DUPMK1) region for one top metal design).
 X = M6 WITH WIDTH > 15
 Y = X INTERACT (MIMSHD INTERACT MIM)
 (X NOT Y) NOT INTERACT PA
  
} 
#ENDIF
#IFDEF MIM stack_mim
M6_8 { 
@ Max. M6 width is 15. Metal wider than this size should apply slot(DRC waive: (TM-1 AND DUPMK1) region for one top metal design).
  X = M6 WITH WIDTH > 15
  Y = X INTERACT MIM
  (X NOT Y) NOT INTERACT PA  
  
} 
#ENDIF


//========================
//  M7 - Metal 7 DRC 
//========================


GROUP GM7 M7_?
/*
//--* Find Wide Metal *--//

WIDE_M7        = M7 INTERACT (SIZE M7 BY -5)   // wide metal

// begin shrink
WDM7_45        = ANGLE WIDE_M7 >0<90
WDM7_90        = NOT ANGLE WIDE_M7 >0<90

WDM7_EXP_45    = EXPAND EDGE WDM7_45 INSIDE BY 5*1.414213562
WDM7_EXP_90    = EXPAND EDGE WDM7_90 INSIDE BY 5 EXTEND BY 5

THIN_M7_TMP    = WIDE_M7 NOT (WDM7_EXP_45 OR WDM7_EXP_90)
THIN_M7        = SNAP THIN_M7_TMP 1            // end of shrink

// begin grow
TNM7_45        = ANGLE THIN_M7 >0<90
TNM7_90        = NOT ANGLE THIN_M7 >0<90

TNM7_EXP_45_TMP = EXPAND EDGE TNM7_45 OUTSIDE BY 5*1.414213562
TNM7_EXP_45    = SNAP TNM7_EXP_45_TMP 1
TNM7_EXP_90    = EXPAND EDGE TNM7_90 OUTSIDE BY 5 EXTEND BY 5

TNM7_EXP       = TNM7_EXP_45 OR TNM7_EXP_90

WDM7_PRE       = TNM7_EXP OR THIN_M7
WDM7_PRE_FILL  = EXT WDM7_PRE < 5 ABUT>0<90 INTERSECTING ONLY REGION

M7OVER10       = WDM7_PRE OR WDM7_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

M7_1 {
@ M7 width is 0.2
  X=  INT M7 < 0.20 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
M7_2 {
@ Space between M7s is 0.2, exclude SRAM region.
  (EXT M7 < 0.20 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM
}
M7_3a_R {
@ Space between M7s with one or both M7 width greater than 0.4um is 0.25 , when runlength>1um
  X = M7 COIN EDGE (M7 WITH WIDTH > 0.4)
  Y = EXT M7 X < 0.25 ABUT<90 OPPOSITE REGION
  Y ENCLOSE RECTANGLE 1.001 0.001
}
M7_3b_R {
@ Space between M7s with one or both M7 width greater than 2um is 0.4
  X = M7 WITH WIDTH > 2
  EXT M7 X < 0.4 ABUT<90 REGION
}
M7_3c {
@ Space between M7s with one or both M7 width greater than 10um is 0.5
  X = M7 WITH WIDTH > 10
  EXT M7 X < 0.5 ABUT<89.9 REGION 
}
M7_4 {
@ Minimum area of a Mn region is 0.12
  X=  AREA M7 < 0.12
  X NOT INTERACT EXCLU
}
M7_5 {
@ Dielectric area enclosed by M7(um2) is 0.26
  X = (HOLES M7 INNER) NOT M7
  AREA X < 0.26 
}
M7_6a {
@ Dummy pattern is required in case M7 density is less than 16%
  DENSITY (M7i OR M7DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_M7a.log  //; Density check in each 200x200 square
}
M7_6b {
@ Max. Metal7 GDS pattern density is 82%
  DENSITY (M7i OR M7DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_M7b.log  //; Density check in each 200x200 square
}
M7_7 {
@ Space between metal line and 45 degree bent metal line that longer than 0.5um is 0.22
  X = ANGLE M7 == 45
  Y = LENGTH X >= 0.5
  EXT M7 Y < 0.22 ABUT<90 REGION
}
#IFDEF MIM one_mask
M7_8 { 
@ Max. M7 width is 15. Metal wider than this size should apply slot (DRC waive: (TM-1 AND DUPMK1) region for one top metal design).
  X = M7 WITH WIDTH > 15
  Y = X INTERACT MIM
  ((X NOT Y) NOT INTERACT PA) NOT (M7 AND DUPMK1) 
}
#ENDIF
#IFDEF MIM two_mask
M7_8 { 
@ Max. M7 width is 15. Metal wider than this size should apply slot (DRC waive: (TM-1 AND DUPMK1) region for one top metal design).
  X = M7 WITH WIDTH > 15
  (X NOT INTERACT PA) NOT (M7 AND DUPMK1)
}
#ENDIF
#IFDEF MIM stack_mim
M7_8 { 
@ Max. M7 width is 15. Metal wider than this size should apply slot (DRC waive: (TM-1 AND DUPMK1) region for one top metal design).
  X = M7 WITH WIDTH > 15
  (X NOT INTERACT PA) NOT (M7 AND DUPMK1)
}
#ENDIF


//========================
//  V2 - Via 2 DRC
//========================

GROUP GV2 V2_?

V2_1 {
@ Fixed V2 size is 0.19 (square shape) (except FUSE protection ring region, and SRAM region).
  V2x = V2 NOT V2FUSE_RING
  X=  NOT RECTANGLE V2x == 0.19 BY == 0.19
  (X NOT TOUCH EXCLU) NOT INSIDE SRAM
}
V2_2a {
@ Space between V2s is 0.21
  EXT V2 < 0.21 ABUT<90 SINGULAR REGION
}
V2_2b {
@ Space between V2s within array greater or equal to 4*4 is 0.25um
@ Two via regions whose space is <= 0.27um are considered to be in the same array
  X = SIZE V2 BY 0.135 OVERUNDER
  Y = SIZE X BY 0.65 UNDEROVER
  Z = V2 INSIDE Y
  EXT Z < 0.25 ABUT<90 SINGULAR REGION
}
V2_3_4_7 {
@ V2 enclosure by M2 is 0.005, exclude SRAM region.
@ Extension of M2 line end outside of V2 is 0.05, exclude SRAM region.
@ For V2 enclosed at the 90 degree corner by M2, M2 extension at least along one direction outside V2 is 0.05, exclude SRAM region.
  X = RECTANGLE ENC (V2 NOT INTERACT EXCLU) (M2 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.05 OPPOSITE 0.005 0.05 OPPOSITE

  (ENC X M2 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M2 < 0.05 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  (V2 NOT M2) NOT INSIDE SRAM

}
V2_5_6_8 {
@ V2 enclosure by M3 is 0.005
@ Extension of M3 line end outside of V2 is 0.03
@ For V2 enclosed at the 90 degree corner by M3, M3 extension at least along one direction outside V2 is 0.03
  X = RECTANGLE ENC (V2 NOT INTERACT EXCLU) (M3 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.03 OPPOSITE 0.005 0.03 OPPOSITE

  ENC X M3 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] M3 < 0.03 OPPOSITE
  INT Y < 0.005 ABUT==90 INTERSECTING ONLY
  V2 NOT M3
 
}
V2_10_R {
@ No. of V2s when either or both M2 and M3 width > 0.9um is 2
 // X = AND M2 M3
 // Y = X WITH WIDTH > 0.9
 // Y INTERACT V2 < 2
   M2M3 = M2 AND M3
   X1_M2 = M2 WITH WIDTH > 0.9
   X2_M2 = (M2M3 INTERACT X1_M2) INTERACT V2
   X2_M2 INTERACT V2 <2
   X1_M3 = M3 WITH WIDTH > 0.9
   X2_M3 = (M2M3 INTERACT X1_M3) INTERACT V2
   X2_M3 INTERACT V2 <2
}
// V2_11 in V2_3&V2_5
V2_12 {
@ It is not allowed V2 overlap with M2 or M3 resistor.
 V2 AND (M2 AND M2R)
 V2 AND (M3 AND M3R)
}


//========================
//  V3 - Via 3 DRC
//========================

GROUP GV3 V3_?


V3_1 {
@ Fixed V3 size is 0.19 (square shape) (except FUSE protection ring region, and SRAM region).
  V3x = V3 NOT V3FUSE_RING
  X= NOT RECTANGLE V3x == 0.19 BY == 0.19
  (X NOT TOUCH EXCLU) NOT INSIDE SRAM
}
V3_2a {
@ Space between V3s is 0.21
  EXT V3 < 0.21 ABUT<90 SINGULAR REGION
}
V3_2b {
@ Space between V3s within array greater or equal to 4*4 is 0.25um
@ Two via regions whose space is <= 0.27um are considered to be in the same array
  X = SIZE V3 BY 0.135 OVERUNDER
  Y = SIZE X BY 0.65 UNDEROVER
  Z = V3 INSIDE Y
  EXT Z < 0.25 ABUT<90 SINGULAR REGION
}
V3_3_4_7 {
@ V3 enclosure by M3 is 0.005, exclude SRAM region
@ Extension of M3 line end outside of V3 is 0.05, exclude SRAM region
@ For V3 enclosed at the 90 degree corner by M3, M3 extension at least along one direction outside V3 is 0.05, exclude SRAM region
  X = RECTANGLE ENC (V3 NOT INTERACT EXCLU) (M3 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.05 OPPOSITE 0.005 0.05 OPPOSITE

  (ENC X M3 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M3 < 0.05 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  (V3 NOT M3) NOT INSIDE SRAM

}
V3_5_6_8 {
@ V3 enclosure by M4 is 0.005
@ Extension of M4 line end outside of V3 is 0.03
@ For V3 enclosed at the 90 degree corner by M4, M4 extension at least along one direction outside V3 is 0.03
  X = RECTANGLE ENC (V3 NOT INTERACT EXCLU) (M4 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.03 OPPOSITE 0.005 0.03 OPPOSITE

  ENC X M4 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] M4 < 0.03 OPPOSITE
  INT Y < 0.005 ABUT==90 INTERSECTING ONLY
  V3 NOT M4

}
V3_10_R {
@ No. of V3s when either or both M3 and M4 width > 0.9um is 2
 // X = AND M3 M4
 // Y = X WITH WIDTH > 0.9
 // Y INTERACT V3 < 2
    M3M4 = M3 AND M4
   X1_M3 = M3 WITH WIDTH > 0.9
   X2_M3 = (M3M4 INTERACT X1_M3) INTERACT V3
   X2_M3 INTERACT V3 <2
   X1_M4 = M4 WITH WIDTH > 0.9
   X2_M4 = (M3M4 INTERACT X1_M4) INTERACT V3
   X2_M4 INTERACT V3 <2
}
// V3_11 in V3_3&V3_5

V3_12 {
@ It's not allowed V3 overlap with M3 or M4 resistor.
 V3 AND (M3 AND M3R)
 V3 AND (M4 AND M4R)
}

//========================
//  V4 - Via 4 DRC
//========================

GROUP GV4 V4_?

V4_1 {
@ Fixed V4 size is 0.19(square shape) (except FUSE protection ring region, and SRAM region).
  V4x = V4 NOT V4FUSE_RING
  X=  NOT RECTANGLE V4x == 0.19 BY == 0.19
  (X NOT TOUCH EXCLU) NOT INSIDE SRAM
}
V4_2a {
@ Space between V4s is 0.21
  EXT V4 < 0.21 ABUT<90 SINGULAR REGION
}
V4_2b {
@ Space between V4s within array greater or equal to 4*4 is 0.25um
@ Two via regions whose space is <= 0.27um are considered to be in the same array
  X = SIZE V4 BY 0.135 OVERUNDER
  Y = SIZE X BY 0.65 UNDEROVER
  Z = V4 INSIDE Y
  EXT Z < 0.25 ABUT<90 SINGULAR REGION
}
V4_3_4_7 {
@ V4 enclosure by M4 is 0.005, exclude SRAM region
@ Extension of M4 line end outside of V4 is 0.05, exclude SRAM region
@ For V4 enclosed at the 90 degree corner by M4, M4 extension at least along one direction outside V4 is 0.05, exclude SRAM region
  X = RECTANGLE ENC (V4 NOT INTERACT EXCLU) (M4 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.05 OPPOSITE 0.005 0.05 OPPOSITE

  (ENC X M4 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M4 < 0.05 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  (V4 NOT M4) NOT INSIDE SRAM

}
V4_5_6_8 {
@ V4 enclosure by M5 is 0.005
@ Extension of M5 line end outside of V4 is 0.03
@ For V4 enclosed at the 90 degree corner by M5, M5 extension at least along one direction outside V4 is 0.03
  X = RECTANGLE ENC (V4 NOT INTERACT EXCLU) (M5 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.03 OPPOSITE 0.005 0.03 OPPOSITE

  ENC X M5 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] M5 < 0.03 OPPOSITE
  INT Y < 0.005 ABUT==90 INTERSECTING ONLY
  V4 NOT M5

}
V4_10_R {
@ No. of V4s when either or both M4 and M5 width > 0.9um is 2
 // X = AND M4 M5
 // Y = X WITH WIDTH > 0.9
 // Y INTERACT V4 < 2
    M4M5 = M4 AND M5
   X1_M4 = M4 WITH WIDTH > 0.9
   X2_M4 = (M4M5 INTERACT X1_M4) INTERACT V4
   X2_M4 INTERACT V4 <2
   X1_M5 = M5 WITH WIDTH > 0.9
   X2_M5 = (M4M5 INTERACT X1_M5) INTERACT V4
   X2_M5 INTERACT V4 <2
}
// V4_11 in V4_3&V4_5

V4_12 {
@ It's not allowed V1 overlap with M5 or M4 resistor.
 V4 AND (M4 AND M4R)
 V4 AND (M5 AND M5R)
}

//========================
//  V5 - Via 5 DRC
//========================

GROUP GV5 V5_?

V5_1 {
@ Fixed V5 size is 0.19(square shape) (except FUSE protection ring region, and SRAM region)
  V5x = V5 NOT V5FUSE_RING
  X= NOT RECTANGLE V5x == 0.19 BY == 0.19
  (X NOT TOUCH EXCLU) NOT INSIDE SRAM
}
V5_2a {
@ Space between V5s is 0.21
  EXT V5 < 0.21 ABUT<90 SINGULAR REGION
}
V5_2b {
@ Space between V5s within array greater or equal to 4*4 is 0.25um
@ Two via regions whose space is <= 0.27um are considered to be in the same array
  X = SIZE V5 BY 0.135 OVERUNDER
  Y = SIZE X BY 0.65 UNDEROVER
  Z = V5 INSIDE Y
  EXT Z < 0.25 ABUT<90 SINGULAR REGION
}
V5_3_4_7 {
@ V5 enclosure by M5 is 0.005, exclude SRAM region
@ Extension of M5 line end outside of V5 is 0.05, exclude SRAM region
@ For V5 enclosed at the 90 degree corner by M5, M5 extension at least along one direction outside V5 is 0.05, exclude SRAM region
  X = RECTANGLE ENC (V5 NOT INTERACT EXCLU) (M5 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.05 OPPOSITE 0.005 0.05 OPPOSITE

  (ENC X M5 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M5 < 0.05 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  (V5 NOT M5) NOT INSIDE SRAM

}
V5_5_6_8 {
@ V5 enclosure by M6 is 0.005
@ Extension of M6 line end outside of V5 is 0.03
@ For V5 enclosed at the 90 degree corner by M6, M6 extension at least along one direction outside V5 is 0.03
  X = RECTANGLE ENC (V5 NOT INTERACT EXCLU) (M6 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.03 OPPOSITE 0.005 0.03 OPPOSITE

  ENC X M6 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] M6 < 0.03 OPPOSITE
  INT Y < 0.005 ABUT==90 INTERSECTING ONLY
  V5 NOT M6

}

V5_10_R {
@ No. of V5s when either or both M5 and M6 width > 0.9um is 2
 // X = AND M5 M6
 // Y = X WITH WIDTH > 0.9
 // Y INTERACT V5 < 2
   M5M6 = M5 AND M6
   X1_M5 = M5 WITH WIDTH > 0.9
   X2_M5 = (M5M6 INTERACT X1_M5) INTERACT V5
   X2_M5 INTERACT V5 <2
   X1_M6 = M6 WITH WIDTH > 0.9
   X2_M6 = (M5M6 INTERACT X1_M6) INTERACT V5
   X2_M6 INTERACT V5 <2
}

// V5_11 in V5_3&V5_5

V5_12 {
@ It's not allowed V5 overlap with M5 or M6 resistor.
 V5 AND (M5 AND M5R)
 V5 AND (M6 AND M6R)
}

//========================
//  V6 - Via 6 DRC
//========================

GROUP GV6 V6_?

V6_1 {
@ Fixed V6 size is 0.19 (square shape) (except FUSE protection ring region, and SRAM region).
  V6x = V6 NOT V6FUSE_RING
  X=  NOT RECTANGLE V6x == 0.19 BY == 0.19
  (X NOT TOUCH EXCLU) NOT INSIDE SRAM
}
V6_2a {
@ Space between V6s is 0.21
  EXT V6 < 0.21 ABUT<90 SINGULAR REGION
}
V6_2b {
@ Space between V6s within array greater or equal to 4*4 is 0.25um
@ Two via regions whose space is <= 0.27um are considered to be in the same array
  X = SIZE V6 BY 0.135 OVERUNDER
  Y = SIZE X BY 0.65 UNDEROVER
  Z = V6 INSIDE Y
  EXT Z < 0.25 ABUT<90 SINGULAR REGION
}
V6_3_4_7 {
@ V6 enclosure by M6 is 0.005, exclude SRAM region
@ Extension of M6 line end outside of V6 is 0.05, exclude SRAM region
@ For V6 enclosed at the 90 degree corner by M6, M6 extension at least along one direction outside V6 is 0.05, exclude SRAM region
  X = RECTANGLE ENC (V6 NOT INTERACT EXCLU) (M6 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 0.05 OPPOSITE 0.005 0.05 OPPOSITE

  (ENC X M6 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION) NOT INSIDE SRAM

  Y = ENC [X] M6 < 0.05 OPPOSITE
  (INT Y < 0.005 ABUT==90 INTERSECTING ONLY REGION) NOT INSIDE SRAM
  ((V6 NOT INSIDE P2) NOT INSIDE M6) NOT INSIDE SRAM

}
V6_5_6_8 {
@ V6 enclosure by M7 is 0.005
@ Extension of M7 line end outside of V6 is 0.03
@ For V6 enclosed at the 90 degree corner by M7, M7 extension at least along one direction outside V6 is 0.03
  X = RECTANGLE ENC (V6 NOT INTERACT EXCLU) (M7 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.005 OPPOSITE 0.03 OPPOSITE 0.005 OPPOSITE 0.03 OPPOSITE

  ENC X M7 < 0.005 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] M7 < 0.03 OPPOSITE
  INT Y < 0.005 ABUT==90 INTERSECTING ONLY
  V6 NOT M7

}

V6_10_R {
@ No. of V6s when either or both M5 and M6 width > 0.9um is 2
 // X = AND M5 M6
 // Y = X WITH WIDTH > 0.9
 // Y INTERACT V5 < 2
   M6M7 = M6 AND M7
   X1_M6 = M6 WITH WIDTH > 0.9
   X2_M6 = (M6M7 INTERACT X1_M6) INTERACT V6
   X2_M6 INTERACT V6 <2
   X1_M7 = M7 WITH WIDTH > 0.9
   X2_M7 = (M6M7 INTERACT X1_M7) INTERACT V6 
   X2_M7 INTERACT V6 <2
}


// V6_11 in V6_3&V6_5

V6_12 {
@ It's not allowed V6 overlap with M6 or M7 resistor.
 V6 AND (M6 AND M6R)
 V6 AND (M7 AND M7R)
}

//=====================
//  TV2 - Top Via 2 DRC
//=====================

GROUP GTV2 TV2_?

TV2_1 {
@ Fixed TV2 size is 0.36
  TV2x = TV2 NOT TV2FUSE_RING
  X = NOT RECTANGLE TV2x == 0.36 BY == 0.36
  X NOT TOUCH EXCLU
}
TV2_2a {
@ Space between TV2s is 0.34
  EXT TV2 < 0.34 ABUT<90 SINGULAR REGION
}
TV2_2b {
@ Min space between TVs within array greater or equal to 3x3 is 0.50um;
@ Two via regions whose space is <= 0.52um are considered to be in the same array.
  X = SIZE TV2 BY 0.26 OVERUNDER
  Y = SIZE X BY 0.85 UNDEROVER
  Z = TV2 INSIDE Y
  EXT Z < 0.50 ABUT<90 SINGULAR REGION
}
TV2_4_5 {
@ TV2 enclosure by metal layer directly underneath TV2 is 0.01
@ Extension of Mn line end outside of TV2. Mn is a metal layer directly underneath TV2 is 0.05 
  X = RECTANGLE ENC (TV2 NOT INTERACT EXCLU) (M7 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.01 OPPOSITE 0.05 OPPOSITE 0.01 OPPOSITE 0.05 OPPOSITE

  ENC X M7 < 0.01 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] M7 < 0.05 OPPOSITE
  INT Y < 0.01 ABUT==90 INTERSECTING ONLY
  TV2 NOT M7

}

TV2_6_7 {
@ TV2 enclosure by TM2 is 0.03
@TV.7	Extension of TM line end outside of TV.		0.07	um
  X = RECTANGLE ENC (TV2 NOT INTERACT EXCLU) (TM2 NOT INTERACT EXCLU) ABUT<90
  GOOD 0.03 OPPOSITE 0.07 OPPOSITE 0.03 OPPOSITE 0.07 OPPOSITE

  ENC X TM2 < 0.03 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO

  Y = ENC [X] TM2 < 0.07 OPPOSITE
  INT Y < 0.03 ABUT==90 INTERSECTING ONLY
  TV2 NOT TM2

}

// TV2_10 in TV2_4&TV2_6

TV2_11 {
@ It's not allowed TV2 overlap with Mn or TM1 resistor when Mn/TM1 directly underneath TV2. And It's not allowed TV2 overlap with TM2/MTT* resistor when TM2/MTT* directly above TV2.
 TV2 AND (M7 AND M7R)
 TV2 AND (TM2 AND (TM2R OR M8R))
}

//=======================
//  TM2 - Top Metal 2 DRC
//=======================


GROUP GTM2 TM2_?

/*
//--* Find Wide Metal *--//

WIDE_TM     = TM INTERACT (SIZE TM BY -1)   // wide metal

// begin shrink
WDTM_45     = ANGLE WIDE_TM >0<90
WDTM_90     = NOT ANGLE WIDE_TM >0<90

WDTM_EXP_45 = EXPAND EDGE WDTM_45 INSIDE BY 1*1.414213562
WDTM_EXP_90 = EXPAND EDGE WDTM_90 INSIDE BY 1 EXTEND BY 1

THIN_TM_TMP = WIDE_TM NOT (WDTM_EXP_45 OR WDTM_EXP_90)
THIN_TM     = SNAP THIN_TM_TMP 1            // end of shrink

// begin grow
TNTM_45     = ANGLE THIN_TM >0<90
TNTM_90     = NOT ANGLE THIN_TM >0<90

TNTM_EXP_45_TMP = EXPAND EDGE TNTM_45 OUTSIDE BY 1*1.414213562
TNTM_EXP_45 = SNAP TNTM_EXP_45_TMP 1
TNTM_EXP_90 = EXPAND EDGE TNTM_90 OUTSIDE BY 1 EXTEND BY 1

TNTM_EXP    = TNTM_EXP_45 OR TNTM_EXP_90

WDTM_PRE    = TNTM_EXP OR THIN_TM
WDTM_PRE_FILL = EXT WDTM_PRE < 1 ABUT>0<90 INTERSECTING ONLY REGION

TMOVER10    = WDTM_PRE OR WDTM_PRE_FILL    // end of grow


//--* End of Finding Wide Metal *--//
*/

TM2_1 {
@ TM2 width is 0.42
  X = INT TM2 < 0.42 ABUT<90 SINGULAR REGION
  X NOT INTERACT EXCLU
}
TM2_2 {
@ Space between TM2s is 0.42
  EXT TM2 < 0.42 ABUT<90 SINGULAR REGION
}
TM2_4 {
@ Space between TM2s with one or both width greater than 2um is 0.5
  X = TM2 WITH WIDTH > 2
  EXT TM2 X < 0.5 ABUT<90 REGION
}
TM2_5 {
@ TM2 area (in um2) is 0.42
  X=  AREA TM2 < 0.42
  X NOT INTERACT EXCLU
}
TM2_6 {
@ Dielectric area enclosed by TM2(um2) is 1.0
  X = (HOLES TM2 INNER) NOT TM2 
  AREA X < 1.0 
}
TM2_7a {
@ Min. Top Metal GDS pattern density is 16%
  DENSITY (TM2i OR TM2DUM) < 0.16 WINDOW 200 STEP 100 PRINT density_report_TMa.log //; Density check in each 200x200 square
}
TM2_7b {
@ Max. Top Metal GDS pattern density is 82%
  DENSITY (TM2i OR TM2DUM) > 0.82 WINDOW 200 STEP 100 PRINT density_report_TMb.log //; Density check in each 200x200 square
}
TM2_8 {
@ Max. TM2 width is 30. Metal wider than this size should apply slot (exclude DUPMK1 region) .
  X = TM2 WITH WIDTH > 30
  (X NOT INTERACT PA) NOT DUPMK1 

}
TM2_9_G {
@ It is forbidden that designers use both TM1/TM2 GDS and inter metal GDS for top metal layout in one chip at the same time.DRC checking should cover the metal layer ALL corresponding GDS layers, include metal main pattern, metal dummy pattern and metal slot pattern.
 X = (M8ib OR M8SLOT) OR M8DUM
 Y = (TM2aib OR TM2SLOT) OR TM2DUMi
 flatten ((DRC:1 INTERACT X) INTERACT Y)
}


//=======================
//  TTM2 - Thick Top Metal 2 DRC
//=======================

GROUP GMTT MTT_?

MTT_1 {
@ TTM2.1
@ TM2 width is 1.5 , exclude SRAM region.
@ DRC waive check between 86 to 90 degree angel widths in the INDMY covered region.
((INT TM2 < 1.5 ABUT<90 SINGULAR REGION) NOT INSIDE SRAM) NOT INSIDE INDMY
((INT TM2 < 1.5 ABUT<86 SINGULAR REGION) NOT INSIDE SRAM) INSIDE INDMY

}
MTT_1a{
@ MTT max. width that is not required metal slot (exclude DUPMK1 region and MTT AND PA pattern).		30	m
((TM2 NOT PA) NOT DUPMK1) WITH WIDTH >30
}
MTT_2a {
@ TTM2.2a
@ Space between TM2s is 1.5, exclude SRAM region.(DRC allows 0.007um checking tolerance in INDMY).
  ((EXT TM2 < 1.5 ABUT<89.9 SINGULAR REGION) NOT INSIDE SRAM) NOT INSIDE INDMY
  ((EXT TM2 < 1.493 ABUT<89.9 SINGULAR REGION) NOT INSIDE SRAM) INSIDE INDMY

}
MTT_2b {
@ TTM2.2b
@ Space between TM2s which width larger than 17um is 3.0
  X = TM2 WITH WIDTH > 17
  EXT TM2 X < 3.0 ABUT<90 SINGULAR REGION
}
MTT_3 {
@ TTM2.3
@ TM2 region extension outside of top Via 2 is 0.3, exclude SRAM region.
  (ENC TV2 TM2< 0.3 ABUT<90 SINGULAR REGION OUTSIDE ALSO) NOT INSIDE SRAM
}
MTT_4 {
@ TTM2.4
@ TM2 region extension outside of top Via 2 at the end of TM2 is 0.42., exclude SRAM region.
 X = RECTANGLE ENCLOSURE TV2 TM2 OUTSIDE ALSO
  GOOD 0.3 0.42 0.3 0.42
 X NOT INSIDE SRAM
}

//**************************
// Connect for MTT_5
//**************************
EMPTY_2 = HOLES (EXTENT)
M1_EMPTY_2 = M1i OR EMPTY_2
M2_EMPTY_2 = M2i OR EMPTY_2
M3_EMPTY_2 = M3i OR EMPTY_2
M4_EMPTY_2 = M4i OR EMPTY_2
M5_EMPTY_2 = M5i OR EMPTY_2
M6_EMPTY_2 = M6i OR EMPTY_2
M7_EMPTY_2 = M7i OR EMPTY_2
TM2_EMPTY_2 = TM2i OR EMPTY_2
ALPA_EMPTY_2 = ALPAi OR EMPTY_2
PA_EMPTY_2 =PAi OR EMPTY_2
TV2_EMPTY_2 = TV2i OR EMPTY_2
V6_EMPTY_2 = V6i OR EMPTY_2
V5_EMPTY_2 = V5i OR EMPTY_2
V4_EMPTY_2 = V4i OR EMPTY_2
V3_EMPTY_2 = V3i OR EMPTY_2
V2_EMPTY_2 = V2i OR EMPTY_2
V1_EMPTY_2 = V1i OR EMPTY_2
MIM_EMPTY_2 =MIMi OR EMPTY_2
P2_EMPTY_2= P2i OR EMPTY_2

CONNECT ALPA_EMPTY_2 TM2_EMPTY_2 BY PA_EMPTY_2

#IFDEF MIM one_mask
TV2_NOTMIM_1 = TV2_EMPTY_2 NOT MIMi
TV2_ANDMIM_1 = TV2_EMPTY_2 AND MIMi
CONNECT TM2_EMPTY_2 MIM_EMPTY_2 BY TV2_ANDMIM_1
CONNECT TM2_EMPTY_2 M7_EMPTY_2 BY TV2_NOTMIM_1
CONNECT M7_EMPTY_2 M6_EMPTY_2 BY V6_EMPTY_2
CONNECT M6_EMPTY_2 M5_EMPTY_2 BY V5_EMPTY_2
CONNECT M5_EMPTY_2 M4_EMPTY_2 BY V4_EMPTY_2
CONNECT M4_EMPTY_2 M3_EMPTY_2 BY V3_EMPTY_2
CONNECT M3_EMPTY_2 M2_EMPTY_2 BY V2_EMPTY_2
CONNECT M2_EMPTY_2 M1_EMPTY_2 BY V1_EMPTY_2
#ENDIF
#IFDEF MIM two_mask
V6_ANDP2_2 = (V6_EMPTY_2 AND P2i) NOT MIMi
V6_ANDMIM_2 = V6_EMPTY_2 AND MIMi
V6_NOTMIM_2 = (V6_EMPTY_2 NOT MIMi) NOT P2i
CONNECT TM2_EMPTY_2 M7_EMPTY_2 BY TV2_EMPTY_2
CONNECT M7_EMPTY_2 MIM_EMPTY_2 BY V6_ANDMIM_2
CONNECT M7_EMPTY_2 P2_EMPTY_2 BY V6_ANDP2_2
CONNECT M7_EMPTY_2 M6_EMPTY_2 BY V6_NOTMIM_2
CONNECT M6_EMPTY_2 M5_EMPTY_2 BY V5_EMPTY_2
CONNECT M5_EMPTY_2 M4_EMPTY_2 BY V4_EMPTY_2
CONNECT M4_EMPTY_2 M3_EMPTY_2 BY V3_EMPTY_2
CONNECT M3_EMPTY_2 M2_EMPTY_2 BY V2_EMPTY_2
CONNECT M2_EMPTY_2 M1_EMPTY_2 BY V1_EMPTY_2
#ENDIF
#IFDEF MIM stack_mim
MIM_up_3 = (MIMi ENCLOSE V6) OR EMPTY_2
MIM_down_3 = (MIMi ENCLOSE V5) OR EMPTY_2
MIM_bot1_3 = (M6 AND MIM_up_3) OR EMPTY_2
MIM_bot2_3 = (M5 AND MIM_down_3) OR EMPTY_2
V5_ANDMIM_3 = (V5 AND MIM_down_3) OR EMPTY_2
V5_NOTMIM_3 = (V5 NOT MIM_down_3) OR EMPTY_2
V6_ANDMIM_3 = (V6 AND MIM_up_3) OR EMPTY_2
V6_NOTMIM_3 = (V6 NOT MIM_up_3) OR EMPTY_2
CONNECT TM2_EMPTY_2 M7_EMPTY_2 BY TV2_EMPTY_2
CONNECT M7_EMPTY_2 MIM_up_3 BY V6_ANDMIM_3
CONNECT MIM_bot1_3 MIM_down_3 BY V5_ANDMIM_3
CONNECT M6_EMPTY_2 MIM_bot1_3
CONNECT M5_EMPTY_2 MIM_bot2_3
CONNECT M7_EMPTY_2 M6_EMPTY_2 BY V6_NOTMIM_3
CONNECT M6_EMPTY_2 M5_EMPTY_2 BY V5_NOTMIM_3
CONNECT M5_EMPTY_2 M4_EMPTY_2 BY V4_EMPTY_2
CONNECT M4_EMPTY_2 M3_EMPTY_2 BY V3_EMPTY_2
CONNECT M3_EMPTY_2 M2_EMPTY_2 BY V2_EMPTY_2
CONNECT M2_EMPTY_2 M1_EMPTY_2 BY V1_EMPTY_2
#ENDIF


MTT_5 {
@ MTT.5	Space from MTT used as Inductor to other MTT region when projected run length>0.
@Inductor MTT definition: (INDMY AND MTT)
@DRC doesnt check the space under the same INDMY region.
@DRC doesnt check if the Inductor MTT is connected with other MTT through Mn(n=1~7)/TMn(n=1~2)/ALPA conductor layers..		30	m

  X = TM2_EMPTY_2 AND INDMY
  (EXT X TM2_EMPTY_2 < 30 ABUT<90 OPPOSITE SINGULAR REGION NOT CONNECTED) NOT INSIDE INDMY
}
MTT_6 {
@ TTM2.6
@ TM2 area region is 2.25um
  X = AREA TM2 < 2.25
  X NOT INTERACT EXCLU
}
MTT_6a{
@ Enclosed dielectric area by MTT2s >=	1
 X = (HOLES TM2 INNER) NOT TM2
  AREA X < 1.0
}

MTT_7{
@ TTM2.7a
@ Min.TM2 area density is 30 %
  DENSITY (TM2i OR TM2DUM) < 0.3 PRINT "density_report_MTT_7.log"
}

MTT_7b{
@ MTT max. pattern density on the whole chip (including dummy patterns)	<=80%
DENSITY (TM2i OR TM2DUM) > 0.8 PRINT "density_report_MTT_7b.log"
}
MTT_8 {
@ TTM2.8 (GuideLine, could be controled by User)
@ Extension of dummy layer "INDMY" beyond TM2 region used as Inductor is 30
  X = TM2 INTERACT INDMY
  ENC X INDMY < 30 ABUT<90 SINGULAR REGION
}
MTT_9 {
@ TTM2.9
@ Both active and passive devices inside Inductor region are not allowed
// X = (GT OR AA) OR RESNW
// AND X INDMY
 (GATE NOT INTERACT GT_IND) AND INDMY
 RESAA AND INDMY
 RESNW AND INDMY
 RESP1 AND INDMY
 RESP3T AND INDMY
// PLRES AND INDMY
// DIFRES AND INDMY
 DSTR AND INDMY
 DMPNP AND INDMY
 HRPDMY AND INDMY
 MIMDMY AND INDMY
 M1R AND INDMY
 M2R AND INDMY
 M3R AND INDMY
 M4R AND INDMY
 M5R AND INDMY
 M6R AND INDMY
 M7R AND INDMY
}

MTT_11_G {
@ It is forbidden that designers use both TM1/TM2 GDS and inter metal GDS for top metal layout in one chip at the same time. 
@ DRC checking should cover metal layer ALL corresponding GDS layer/data type, include metal main pattern, metal dummy pattern and metal slot pattern.
 X1 = (M8ib OR M8SLOT) OR M8DUM
 Y1 = (TM2aib OR TM2SLOT) OR TM2DUMi
 flatten ((DRC:1 INTERACT X1) INTERACT Y1)
}

/*
TTM2_10a {
@ TTM2.10a
@ No Via and metal layers inside "INDMY" is allowed except Inductor connection
 X = INDMY WITH TEXT "diff_ind_rf"
 DIFF_IND = INDMY INTERACT X
 Mn AND DIFF_IND
 Vn AND DIFF_IND
}
TTM2_10b {
@ TTM2.10b
@ No Via and metal layers inside "INDMY" is allowed except 3T_Inductor connection
 X = INDMY WITH TEXT "diff_ind_3t_rf"
 DIFF_IND_3T = INDMY INTERACT X
 (Mn_1 NOT INTERACT AA) AND DIFF_IND_3T
 (Vn_1 NOT INTERACT AA) AND DIFF_IND_3T
}
TTM2_10c {
@TTM2_10c
@No via & metal layers inside INDMY is allowed except SPRI_Inductor connection
 X = INDMY NOT WITH TEXT "diff_ind_rf"
 Y = X NOT WITH TEXT "diff_ind_3t_rf"
 Z = Y NOT WITH TEXT "diff_ind_3t_alpa_rf"
 SPRI_IND = Z INTERACT X
 Mn AND SPRI_IND
 Vn AND SPRI_IND
}
TTM2_10d {
@TTM2_10d
@No via & metal layers inside INDMY is allowed except 3T inductor connection for 3.3V
 X = INDMY WITH TEXT "diff_ind_3t_alpa_rf"
 ALPA_IND = INDMY INTERACT X
 Mn_1 AND ALPA_IND
 Vn_1 AND ALPA_IND
}


//==========================================
//  PI - Guidline for polymide layout minima
//==========================================

GROUP GPI PI_?

PI_1 {
@ Space between two polymide open area is 15
  EXT PI < 15 ABUT<90 SINGULAR REGION
}
PI_2 {
@ Space between polyimide open area to chip edge is 15
  ENC PIi BORDER < 15 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
*/
//===========================
// Find wide Al bump pad
//===========================

ALPA_MD = SIZE (ALPA INTERACT MD) BY 12 UNDEROVER
ALPA_PI = SIZE (ALPA INTERACT PI) BY 5 UNDEROVER
ALPA_BUMP = ALPA_MD OR ALPA_PI


//=========================================
//  ALPA - Guidline for ALPad layout minima
//=========================================

GROUP GALPA ALPA_?

ALPA_1{
@ ALPA Width >=3.00
INT ALPA <3 ABUT<90 SINGULAR REGION
}
ALPA_2{
@ Space between two ALPAs>=3.00
EXT ALPA <3  ABUT<89.8 SINGULAR REGION
}
ALPad = ALPA WITH WIDTH > 35
RDL = ALPA NOT ALPad
ALPA_10a {
@ Space between RDL and Al bump pad >=10.0, exclude (RDL interact Al bump pad)
EXT (RDL NOT INTERACT ALPad) ALPad <10 ABUT>0<90 SINGULAR REGION  
}
ALPA_10b {
@ Space between RDL and PA ( PA width >32um) is >= 11.5, exclude (RDL interact Al bump pad)
 X = PA WITH WIDTH > 32
 EXT (RDL NOT INTERACT ALPad) X < 11.5 ABUT<90 SINGULAR REGION
}
ALPA_11{
@ Space between RDL and FUSE window >=10.0
EXT RDL FUSE <10 ABUT<90 SINGULAR REGION
}
ALPA_12{
@ Space between RDL and L mark window >=10.0
EXT RDL LOGO <10 ABUT<90 SINGULAR REGION
}
ALPA_13{
@ Al bump pad to Fuse window space >= 50.0
EXT ALPad FUSE <50  ABUT<90 SINGULAR REGION
}
ALPA_14{
@ Pattern density of ALPA layer should be between 0~50%		
DENSITY  ALPAi > 0.5 PRINT density_report_ALPA_14.log
}
/*
//=========================================
//  PA2 RDL - Guidline for PA2 RDL rules
//=========================================

GROUP GPA2_RDL RDL_PA2_?

ALPA_X = ALPA NOT ALPA_BUMP
//PA_HOLE = PA INSIDE ALPA
PA_HOLE = PA OUTSIDE MD

RDL_PA2_1 {
@ Minimum RDL width is 3
  INT ALPA < 3 ABUT<90 SINGULAR REGION
}
RDL_PA2_2 {
@ Minimum RDL space is 3
  EXT ALPA < 3 ABUT<89.9 SINGULAR REGION
}
//RDL_PA2_3:RDL turning if MD(PA2) is polymide.
RDL_PA2_4 {
@ Minimum PA hole size is 4
  RECTANGLE PA_HOLE < 4
  NOT RECTANGLE PA_HOLE ASPECT == 1
}
RDL_PA2_5 {
@ Minimum space between two PA hole is 4
  EXT PA_HOLE < 4 ABUT<90 SINGULAR REGION
}
RDL_PA2_6 {
@ Minimum PA hole to RDL enclosure is 2
  ENC PA_HOLE ALPA < 2 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
RDL_PA2_7 {
@ Minimum PA hole to TM2 enclosue is 2
  ENC PA_HOLE TM2 < 2 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
RDL_PA2_8 {
@ Minimum enclosue of MD(PA2) to Al bump pad is 2.0
  ENC MD ALPA < 2.0 ABUT<90 SINGULAR REGION
}
//RDL_PA2_9:Minimum Al bump pad pitch is 150
RDL_PA2_10 {
@ Minimum space between RDL and Al bump pad is 10
  EXT (ALPA_X NOT TOUCH EDGE ALPA_MD) ALPA_MD < 10 ABUT<90 REGION
}
RDL_PA2_11 {
@ Minimum space between RDL and Fuse window is 10
  EXT ALPA_X FUSE < 10 ABUT<90 SINGULAR REGION
}
RDL_PA2_12 {
@ Minimum space between RDL and L mark window is 10
  EXT ALPA_X LOGO < 10 ABUT<90 SINGULAR REGION
}
RDL_PA2_13 {
@ Minimum space between Al bump pad and Fuse window is 50
  EXT ALPA_MD FUSE < 50 ABUT<90 SINGULAR REGION
}
RDL_PA2_14 {
@ Pattern density of RDL layer should be between 0~50%
 DENSITY ALPA > 0.50 PRINT density_report_RDL_PA2.log
}

//=========================================
//  PI RDL - Guidline for PI RDL rules
//=========================================

GROUP GPI_RDL RDL_PI_?

RDL_PI_1 {
@ Minimum RDL width is 3
  INT ALPA < 3 ABUT<90 SINGULAR REGION
}
RDL_PI_2 {
@ Minimum RDL space is 3
  EXT ALPA < 3 ABUT<90 SINGULAR REGION
}
RDL_PI_3 {
@ RDL turning is 135 if MD(PA2) is polymide.
 EXT ALPA_X < 0.01 ABUT < 135 REGION
}
RDL_PI_4 {
@ Minimum PA hole size is 10
  RECTANGLE PA_HOLE < 10
  NOT RECTANGLE PA_HOLE ASPECT == 1
}
RDL_PI_5 {
@ Minimum space between two PA hole is 10
  EXT PA_HOLE < 10 ABUT<90 SINGULAR REGION
}
RDL_PI_6 {
@ Minimum PA hole to RDL enclosure is 2
  ENC PA_HOLE ALPA < 2 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
RDL_PI_7 {
@ Minimum PA hole to TM2 enclosue is 2
  ENC PA_HOLE TM2 < 2 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
RDL_PI_8 {
@ Minimum enclosue of MD(PA2) to Al bump pad is 2
  ENC MD ALPA < 2 ABUT<90 SINGULAR REGION
}
//RDL_PI_9:Minimum Al bump pad pitch is 150
RDL_PI_10 {
@ Minimum space between RDL and Al bump pad is 10
  EXT (ALPA_X NOT TOUCH EDGE ALPA_PI) ALPA_PI < 10 ABUT<90 REGION
}
RDL_PI_11 {
@ Minimum space between RDL and Fuse window is 10
  EXT ALPA_X FUSE < 10 ABUT<90 SINGULAR REGION
}
RDL_PI_12 {
@ Minimum space between RDL and L mark window is 10
  EXT ALPA_X LOGO < 10 ABUT<90 SINGULAR REGION
}
RDL_PI_13 {
@ Minimum space between Al bump pad and Fuse window is 50
  EXT ALPA_PI FUSE < 50 ABUT<90 SINGULAR REGION
}
RDL_PI_14 {
@ Pattern density of RDL layer should be between 0~50%
 DENSITY ALPA > 0.50 PRINT density_report_RDL_PI.log
}
*/
BORDER_ALL=BORDER OR (HOLES BORDER)
//====================================================
//  BD -  Border enclosure rules for CHIP Level Only
//====================================================

GROUP GBD BD_?


BD_1 {
@ The BORDER layer must enclose all chip layout patterns, which all chip layout patterns include seal ring if seal ring has been added by designers.
@ This rule checking includes the layers of DNW,AA,NW,NC,PC,MVN, MVP,DG,GT,SN,SP,SAB,CT,M1,V1,Mn,Vn,P2,TMn,TVn,PA,MD,Fuse,ALPA,AADUM, GTDUM, MnDUM, TMnDUM.
X1 =(((((((((((DNWi OR AAi) OR NWi) OR NC1) OR PC1) OR  MVNi) OR MVPi) OR MVNi) OR DGi) OR GTi) OR SNi) OR SPi) OR SABi
X2 = (((((((((((((CTi OR M1i) OR V1i) OR M2i) OR M3i) OR M4i) OR M5i) OR M6i) OR M7i) OR V2i) OR V3i) OR V4i) OR V5i) OR V6i) OR (TV2i OR TM2i)
X3 = ((((((((((((PAi OR MD) OR FUSEi) OR ALPAi) OR AADUM) OR GTDUM) OR M1DUM) OR M2DUM) OR M3DUM) OR M4DUM) OR M5DUM) OR M6DUM) OR M7DUM) OR TM2DUM 
X = (X1 OR X2) OR X3           
X NOT BORDER_ALL   

}

BD_2a {
@ Enclosure of AA, GT, CT, M1, V1,Mn, Vn by BORDER layer if it need SMIC to add seal ring. >=0.73
 ENC   AAi BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   GTi BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   CTi BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M1i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M2i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M3i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M4i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M5i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M6i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   M7i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC  TM2i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   V1i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   V2i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   V3i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   V4i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   V5i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC   V6i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
 ENC  TV2i BORDER_ALL < 0.73 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
}
BD_2b {
@ DNW minimum enclosure by chip edge(BORDER layer) is 6
 ENC DNWi BORDER_ALL < 6 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
BD_4 {
@ Enclosure of seal ring outer ring outline edge by BORDER layer if seal ring has been added by designers.>=2
 X1 =((((((M1i OR M2i) OR M3i) OR M4i) OR M5i) OR M6i) OR M7i) OR TM2  
 X2 = ((HOLES X1) OR (X1 TOUCH (HOLES X1))) AND BORDER_ALL
 //X3 = EXTENT DRAWN ORIGINAL IGNORE BORDER
  X3 = EXTENT DRAWN M1ib M2ib M3ib M4ib M5ib M6ib M7ib
 X4 =(BORDER_ALL ENCLOSE X2 ==1) ENCLOSE (X2 WITH EDGE (X2 TOUCH EDGE (X3 WITH EDGE (X3 TOUCH EDGE X2)==4))>=4)         
 
Y= (X3 NOT (INT X3<22 ABUT==90 REGION)) NOT (X2 INSIDE X4)           
Y1 =(((((((((((DNWi OR AAi) OR NWi) OR NC1) OR PC1) OR  MVNi) OR MVPi) OR MVNi) OR DGi) OR GTi) OR SNi) OR SPi) OR SABi
Y2 = (((((((((((((CTi OR M1i) OR V1i) OR M2i) OR M3i) OR M4i) OR M5i) OR M6i) OR M7i) OR V2i) OR V3i) OR V4i) OR V5i) OR V6i) OR (TV2i OR TM2i)
Y3 = ((((((((((((PAi OR MD) OR FUSEi) OR ALPAi) OR AADUM) OR GTDUM) OR M1DUM) OR M2DUM) OR M3DUM) OR M4DUM) OR M5DUM) OR M6DUM) OR M7DUM) OR TM2DUM   
Y0 = (Y1 OR Y2) OR Y3           
BD_RING =(X2 INSIDE X4) NOT TOUCH (Y INTERACT (Y AND Y0))  
ENC BD_RING BORDER_ALL<2 ABUT<90 SINGULAR REGION

}

//============================================              
//  SL -  Metal slot design guideline
//============================================              

GROUP GSL SL_? 


SL_1_G {
@ Slot width >=	1
  INT M1SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT M2SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT M3SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT M4SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT M5SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT M6SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT M7SLOT < 1.0 ABUT<90 SINGULAR REGION
  INT (M8SLOT OR TM2SLOT) < 1.0 ABUT<90 SINGULAR REGION
}

SL_2_G {
@ Space between two open slots. >=1.5
  EXT M1SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT M2SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT M3SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT M4SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT M5SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT M6SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT M7SLOT < 1.50 ABUT<90 SINGULAR REGION
  EXT (M8SLOT OR TM2SLOT) < 1.50 ABUT<90 SINGULAR REGION
}
SL_3_G {
@ Open slot must be fully enclosed by metal line.>=2
  ENC M1SLOT M1ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M2SLOT M2ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M3SLOT M3ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M4SLOT M4ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M5SLOT M5ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M6SLOT M6ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M7SLOT M7ib < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC (TM2SLOT OR M8SLOT) (TM2aib OR M8ib) < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
SL_4a_G {
@ Space between M1 slot edge or inter-metal slot edge and immediately below and above contact or vias. >=0.05
EXT M1SLOT (CT OR V1) < 0.05 ABUT<90 SINGULAR REGION
EXT M2SLOT (V1 OR V2) < 0.05 ABUT<90 SINGULAR REGION 
EXT M3SLOT (V2 OR V3) < 0.05 ABUT<90 SINGULAR REGION 
EXT M4SLOT (V3 OR V4) < 0.05 ABUT<90 SINGULAR REGION 
EXT M5SLOT (V4 OR V5) < 0.05 ABUT<90 SINGULAR REGION 
EXT M6SLOT (V5 OR V6) < 0.05 ABUT<90 SINGULAR REGION 
EXT M7SLOT (V6 OR TV2)< 0.05 ABUT<90 SINGULAR REGION
}
SL_4b_G {
@ Space between top metal slot edge and immediately below and above vias.>= 0.07
EXT (TM2SLOT OR M8SLOT) TV2 <0.07 ABUT<90 SINGULAR REGION  
}
SL_4c_G {
@ Space between MTT slot edge and immediately below vias.>=0.42
EXT (TM2SLOT OR M8SLOT) TV2  <0.42 ABUT<90 SINGULAR REGION
}
SL_5_G {
@ Slot density of each piece of wide metal.
@ When wide metal meet below condition:
@ 1. Wide metal interact with metal slot.
@ 2. Metal width >=14um for M1 and inter-metal, Metal width >=30um for top metal and MTT is >=10%

 M1_W = WITH WIDTH (M1ib INTERACT M1SLOT) >= 14
 SLOT_M1 = M1SLOT AND M1_W
 YM1 = DFM PROPERTY M1_W SLOT_M1 OVERLAP [- = AREA(SLOT_M1)/AREA(M1_W)] < 0.1
 DFM RDB YM1 density_report_SL_5_M1SLOT.rdb
 DFM COPY YM1

 M2_W = WITH WIDTH (M2ib INTERACT M2SLOT) >= 14
 SLOT_M2 = M2SLOT AND M2_W
 YM2 = DFM PROPERTY M2_W SLOT_M2 OVERLAP [- = AREA(SLOT_M2)/AREA(M2_W)] < 0.1
 DFM RDB YM2 density_report_SL_5_M2SLOT.rdb
 DFM COPY YM2

 M3_W = WITH WIDTH (M3ib INTERACT M3SLOT) >= 14
 SLOT_M3 = M3SLOT AND M3_W
 YM3 = DFM PROPERTY M3_W SLOT_M3 OVERLAP [- = AREA(SLOT_M3)/AREA(M3_W)] < 0.1
 DFM RDB YM3 density_report_SL_5_M3SLOT.rdb
 DFM COPY YM3

 M4_W = WITH WIDTH (M4ib INTERACT M4SLOT) >= 14
 SLOT_M4 = M4SLOT AND M4_W
 YM4 = DFM PROPERTY M4_W SLOT_M4 OVERLAP [- = AREA(SLOT_M4)/AREA(M4_W)] < 0.1
 DFM RDB YM4 density_report_SL_5_M4SLOT.rdb
 DFM COPY YM4

 M5_W = WITH WIDTH (M5ib INTERACT M5SLOT) >= 14
 SLOT_M5 = M5SLOT AND M5_W
 YM5 = DFM PROPERTY M5_W SLOT_M5 OVERLAP [- = AREA(SLOT_M5)/AREA(M5_W)] < 0.1
 DFM RDB YM5 density_report_SL_5_M5SLOT.rdb
 DFM COPY YM5

 M6_W = WITH WIDTH (M6ib INTERACT M6SLOT) >= 14
 SLOT_M6 = M6SLOT AND M6_W
 YM6 = DFM PROPERTY M6_W SLOT_M6 OVERLAP [- = AREA(SLOT_M6)/AREA(M6_W)] < 0.1
 DFM RDB YM6 density_report_SL_5_M6SLOT.rdb
 DFM COPY YM6

 M7_W = WITH WIDTH (M7ib INTERACT M7SLOT) >= 14
 SLOT_M7 = M7SLOT AND M7_W
 YM7 = DFM PROPERTY M7_W SLOT_M7 OVERLAP [- = AREA(SLOT_M7)/AREA(M7_W)] < 0.1
 DFM RDB YM7 density_report_SL_5_M7SLOT.rdb
 DFM COPY YM7

 TM2_W = WITH WIDTH ((TM2aib OR M8ib) INTERACT (TM2SLOT OR M8SLOT)) >= 30
 SLOT_TM2 = (TM2SLOT OR M8SLOT) AND TM2_W
 YTM2 = DFM PROPERTY TM2_W SLOT_TM2 OVERLAP [- = AREA(SLOT_TM2)/AREA(TM2_W)] < 0.1
 DFM RDB YTM2 density_report_SL_5_TM2.rdb
 DFM COPY YTM2
}


//=============================================
//  FUSE Guideline for metal fuse design minima
//=============================================

GROUP GFUSE FUSE_?

M6FUSE = FUSE AND M6

PIFUSE_RING = (PI INTERACT FUSE) NOT FUSE
M1FUSE_RING = PIFUSE_RING AND M1
AM1 = HOLES M1FUSE_RING
BM1 = M1FUSE_RING TOUCH AM1

M2FUSE_RING = PIFUSE_RING AND M2
AM2 = HOLES M2FUSE_RING
BM2 = M2FUSE_RING TOUCH AM2

M3FUSE_RING = PIFUSE_RING AND M3
AM3 = HOLES M3FUSE_RING
BM3 = M3FUSE_RING TOUCH AM3

M4FUSE_RING = PIFUSE_RING AND M4
AM4 = HOLES M4FUSE_RING
BM4 = M4FUSE_RING TOUCH AM4

M5FUSE_RING = PIFUSE_RING AND M5
AM5 = HOLES M5FUSE_RING
BM5 = M5FUSE_RING TOUCH AM5

M6FUSE_RING = PIFUSE_RING AND M6
AM6 = HOLES M6FUSE_RING
BM6 = M6FUSE_RING TOUCH AM6

M7FUSE_RING = PIFUSE_RING AND M7
AM7 = HOLES M7FUSE_RING
BM7 = M7FUSE_RING TOUCH AM7

TM2FUSE_RING = PIFUSE_RING AND TM2
ATM2 = HOLES TM2FUSE_RING
BTM2 = TM2FUSE_RING TOUCH ATM2

V1FUSE_RING = V1 INSIDE BM1 
V2FUSE_RING = V2 INSIDE BM2
V3FUSE_RING = V3 INSIDE BM3
V4FUSE_RING = V4 INSIDE BM4
V5FUSE_RING = V5 INSIDE BM5
V6FUSE_RING = V6 INSIDE BM6
TV2FUSE_RING = TV2 INSIDE BM7

FUSE_1_G {
@ Metal fuse width is 0.8
 INT M6FUSE < 0.8 ABUT<90 SINGULAR REGION
}
FUSE_2_G {
@ Metal fuse space is >= 4.0
 EXT M6FUSE < 4 ABUT<90 SINGULAR REGION
}
FUSE_3_G {
@ Metal fuse length (metal length between two Vias) is >= 4
 X = (V5 INTERACT M6FUSE) NOT V5FUSE_RING
 EXT X < 4 ABUT<90 SINGULAR REGION
}
FUSE_4_G {
@ FUSE width is >= 5
 INT FUSE < 5 ABUT<90 SINGULAR REGION
}
FUSE_5_G {
@ V0 and Vn(n=1~6) slot width in protection ring is = 0.19
 INT V1FUSE_RING < 0.19 ABUT<90 SINGULAR REGION
 INT V2FUSE_RING < 0.19 ABUT<90 SINGULAR REGION
 INT V3FUSE_RING < 0.19 ABUT<90 SINGULAR REGION
 INT V4FUSE_RING < 0.19 ABUT<90 SINGULAR REGION
 INT V5FUSE_RING < 0.19 ABUT<90 SINGULAR REGION
 INT V6FUSE_RING < 0.19 ABUT<90 SINGULAR REGION
 V1FUSE_RING WITH WIDTH >0.19
 V2FUSE_RING WITH WIDTH >0.19
 V3FUSE_RING WITH WIDTH >0.19
 V4FUSE_RING WITH WIDTH >0.19
 V5FUSE_RING WITH WIDTH >0.19
 V6FUSE_RING WITH WIDTH >0.19
}
FUSE_6_G {
@ TVn(n=1~2) slot width in protection ring is = 0.36
 INT TV2FUSE_RING < 0.36 ABUT<90 SINGULAR REGION
 TV2FUSE_RING WITH WIDTH > 0.36
}
FUSE_8_G {
@ Space between Metal fuse edge and p-well edge is >= 8
  EXT FUSE NW < 8 ABUT<90 SINGULAR REGION
}
FUSE_9_G {
@ Metal fuse enclosure by FUSE region is >= 3.5
  ENC M6FUSE FUSE < 3.5 ABUT<90 SINGULAR REGION
}
FUSE_10_G {
@ Space between FUSE and protection ring is >= 1.5
 EXT BM1 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BM2 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BM3 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BM4 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BM5 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BM6 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BM7 FUSE < 1.5 ABUT<90 SINGULAR REGION
 EXT BTM2 FUSE < 1.5 ABUT<90 SINGULAR REGION
}
// Space between metal island and protection ring is >= 1.0
FUSE_12_G {
@ CT enclosure by GT in FUSE region is >= 0.3
 CT_FUSE = (PI INTERACT FUSE) AND CT
 ENC CT_FUSE GT < 0.3 ABUT<90 SINGULAR REGION
}
FUSE_14_G {
@ Vn enclosure by Mn/Mn+1 for stacked via in FUSE region is >= 0.3
 V1_FUSE = (PI INTERACT FUSE) AND V1
 V2_FUSE = (PI INTERACT FUSE) AND V2
 V3_FUSE = (PI INTERACT FUSE) AND V3
 V4_FUSE = (PI INTERACT FUSE) AND V4
 V5_FUSE = (PI INTERACT FUSE) AND V5
 V6_FUSE = (PI INTERACT FUSE) AND V6
 TV2_FUSE = (PI INTERACT FUSE) AND TV2

 ENC V1_FUSE M1 < 0.3 ABUT<90 SINGULAR REGION
 ENC V1_FUSE M2 < 0.3 ABUT<90 SINGULAR REGION
 ENC V2_FUSE M2 < 0.3 ABUT<90 SINGULAR REGION
 ENC V2_FUSE M3 < 0.3 ABUT<90 SINGULAR REGION
 ENC V3_FUSE M3 < 0.3 ABUT<90 SINGULAR REGION
 ENC V3_FUSE M4 < 0.3 ABUT<90 SINGULAR REGION
 ENC V4_FUSE M4 < 0.3 ABUT<90 SINGULAR REGION
 ENC V4_FUSE M5 < 0.3 ABUT<90 SINGULAR REGION
 ENC V5_FUSE M5 < 0.3 ABUT<90 SINGULAR REGION
 ENC V5_FUSE M6 < 0.3 ABUT<90 SINGULAR REGION
 ENC V6_FUSE M6 < 0.3 ABUT<90 SINGULAR REGION
 ENC V6_FUSE M7 < 0.3 ABUT<90 SINGULAR REGION
 ENC TV2_FUSE M7 < 0.3 ABUT<90 SINGULAR REGION
 ENC TV2_FUSE TM2 < 0.3 ABUT<90 SINGULAR REGION
}
FUSE_16_G {
@ Vn(n=1~7) enclosure by Mn/Mn+1 in protection ring is >= 0.4
 ENC V1FUSE_RING BM1 < 0.4 ABUT<90 SINGULAR REGION
 ENC V1FUSE_RING BM2 < 0.4 ABUT<90 SINGULAR REGION
 ENC V2FUSE_RING BM2 < 0.4 ABUT<90 SINGULAR REGION
 ENC V2FUSE_RING BM3 < 0.4 ABUT<90 SINGULAR REGION
 ENC V3FUSE_RING BM3 < 0.4 ABUT<90 SINGULAR REGION
 ENC V3FUSE_RING BM4 < 0.4 ABUT<90 SINGULAR REGION
 ENC V4FUSE_RING BM4 < 0.4 ABUT<90 SINGULAR REGION
 ENC V4FUSE_RING BM5 < 0.4 ABUT<90 SINGULAR REGION
 ENC V5FUSE_RING BM5 < 0.4 ABUT<90 SINGULAR REGION
 ENC V5FUSE_RING BM6 < 0.4 ABUT<90 SINGULAR REGION
 ENC V6FUSE_RING BM6 < 0.4 ABUT<90 SINGULAR REGION
 ENC V6FUSE_RING BM7 < 0.4 ABUT<90 SINGULAR REGION
}
FUSE_17_G {
@ TVn(n=1~2) enclosure by TMn(n=1~2) in protection ring is >= 0.4
 ENC TV2FUSE_RING BTM2 < 0.4 ABUT<90 SINGULAR REGION
}

//==================================
//  PA - Passivasion DRC
//==================================

GROUP GPA PA_?

PA_1a_1b_G {
@ PA size for RDL connection, excluding PA pad is == 4um
@ PA size for pad is >= 40um
 X = PA WITH WIDTH >= 40
 Y = RECTANGLE PA == 4 BY == 4
 PA NOT (X OR Y)
}

PA_2a{
@ Space between two PAs when both PA size < 10um. >=4
X= WITH WIDTH PA < 10
EXT X < 4 ABUT<90 SINGULAR REGION
}
PA_2b{
@ Space between two PAs when one or both PA size>= 10um.>=7
X= PA WITH WIDTH >=10
EXT X PA <7 ABUT<90 SINGULAR REGION
}

PA_3 {
@ PA enclosed by ALPA >=1.5.(only check PA interact with ALPA/ALRDL pattern)
ENC (PA INTERACT ALPA) ALPA <1.5 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}
PA_4 {
@ Enclosure of top metal over a passavision window is 1.5
  X = TM2 OR (HOLES TM2)    
  ENC PA X < 1.5 ABUT<90 SINGULAR REGION OUTSIDE ALSO 
  Z = (HOLES TM2 INNER) OR (TM2 TOUCH (HOLES TM2 INNER))
  Y1 =((HOLES TM2) NOT TM2) INTERACT (((HOLES TM2) NOT TM2) AND PA) 
  Y2 =(Y1 OR (Z TOUCH Y1)) NOT PA  
  AREA Y2 >0.5
}
PA_5{
@ ALPA must interact with PA(except ALPA resistor).
@ DRC waive check the ALPA interact with ALPAR and DRC waive ALMK1 covered region (The ALMK1 layer must be drawn identically to dummy purpose ALPA).
 ((ALPA NOT INTERACT (ALPA AND ALPAR)) NOT INTERACT PA) NOT ALMK1
}

PA_6 {
@ No PA pad design (PA size >=40um) is not allowed.
 X = flatten (DRC:1 NOT INTERACT (PA WITH WIDTH >= 40))
 PA INTERACT X
}


//=============================
//   MD: MD design guideline
//=============================

GROUP GMD MD_?


MD_1 {
@ MD size is >= 4um
 INT MD < 4 ABUT<90 SINGULAR REGION
}

MD_2_G {
@ Guideline for the MD dimension.
@ Generally, It is designers' responsibility to early consult the assembly house for additional constraints according to their wafer sort and assembly capabilities, and take these additional constraints into consideration during layout. is >= 40.0 um
 INT MD < 40 ABUT<90 SINGULAR REGION
}

MD_3 {
@ Space between two MDs is >= 4um
 EXT MD < 4.0 ABUT<90 SINGULAR REGION
}

MD_4 {
@ Space between two MDs when one or both MD size >= 10um is >= 7.0 um
 X = MD WITH WIDTH >= 10
 EXT MD X < 7 ABUT<90 SINGULAR REGION
}

MD_5 {
@ Space between MD to PA is >= 6, if MD not interact with PA.
 X = MD NOT INTERACT PA
 EXT X PA < 6 ABUT<90 SINGULAR REGION
}

MD_6 {
@ MD must be fully enclosed by Al bump pad ((PA su 1.5) + ALPA) is >= 1.5 um,DRC allows 0.001um checking tolerance.
 AL_bump_pad =(SIZE PA BY 1.5) OR ALPA
 ENC MD AL_bump_pad < 1.499 ABUT<90 SINGULAR REGION OUTSIDE ALSO
}

MD_7 {
@ MD is not allowed to overlap with PA for RDL connection (size = 4um)
  X = RECTANGLE PA == 4 BY ==4
  MD AND (X INTERACT RDL)
}


//=============================
//  RESNW: NW resistor rule
//=============================

GROUP GRESNW RESNW_?

NWRSTI = NWR NOT INTERACT SAB

RESNW_1 {
@ NW resistor width is >= 1.6um
 INT ((NWR NOT ENCLOSE SN) NOT IN EDGE SN) < 1.6 ABUT<90 REGION
 INT NWRSTI < 1.6 ABUT<90 SINGULAR REGION
}

RESNW_2 {
@ NW space is >= 1.2um
 EXT NWR < 1.2 ABUT<90 SINGULAR REGION
}

RESNW_3_R {
@ Enclosure of an AA beyond a NW is >= 1.0um
 ENC NWR AA < 1.0 ABUT<90 SINGULAR REGION
}

RESNW_4 {
@ Enclosure of a salicide NW beyond a CT is >= 0.3um
 ENC (CT AND (HOLES SAB)) NWR < 0.3 ABUT<90 SINGULAR REGION
}

RESNW_5 {
@ Space between SAB and related NW is >= 0.3um
 X1 = HOLES SAB
 X2 = SAB TOUCH X1
 ENC NWR X1 < 0.3 ABUT<90 SINGULAR REGION
 ENC NWR X2 < 0.3 ABUT<90 SINGULAR REGION
 ((NWR INTERACT X1) NOT X1) NOT SAB
}

RESNW_6 {
@ Enclosure of a SAB beyond a related AA is >= 0.22um
 X = AA ENCLOSE NWR
 ENC X SAB < 0.22 ABUT<90 SINGULAR REGION
}

RESNW_7 {
@For well resistor with AA , Overlap of a SN to SAB (SAB hole must be fully enclosed by SN)		0.40	um
 X = HOLES (SAB INTERACT ((RESNW AND AA) AND NW))
ENC X SN <0.4 ABUT<90  REGION OUTSIDE ALSO
}

RESNW_8 {
@ Space between SAB and related CT in SAB hole is >= 0.3um
 X = HOLES (SAB INTERACT RESNW) INNER
 ENC (CT AND X) X < 0.3 ABUT<90 SINGULAR REGION
}

RESNW_9_R {
@ LDD, SN or SP is not allowed in the NW resistor area.
@ DRC only check the NW resistor under AA.
 X = ((NW AND RESNW) AND AA) AND SAB
 NLL AND X
 PLL AND X
 NLH AND X
 PLH AND X
 SN AND X
 SP AND X
}
RESNW_10 {
@ For NW resistor under STI, NW enclosure  CT	>=	0.21	um
  ENC CT NWRSTI < 0.21 ABUT<90 SINGULAR REGION
}
RESNW_11_R {
@ For NW resistor under STI, space between RESNW to salicide AA area	=	0	um
X = RESNW INTERACT NWRSTI
Y = X INSIDE EDGE NW
Y NOT TOUCH EDGE AA
}

//=============================
//  RESAA: AA resistor rule
//=============================

GROUP GRESAA RESAA_?

RESAA_1_R {
@ Width of AA resistor with SAB is >= 1um
 X = (RESAA AND AA) AND SAB
 Y = X COIN EDGE AA
 INT Y < 1 ABUT<90 REGION
}

RESAA_1a_1_R {
@ Suggest the Nsq >= 1 for stable Resistivity.(Non-silicide Poly resistor region)
 X = RESAA AND SAB
 Y = (RESAA AND AA) AND SAB
 L = (AA INSIDE EDGE X) OR EDGE (AA COIN EDGE X)
 W = Y INSIDE EDGE AA
 DFM PROPERTY Y L W OVERLAP ABUT ALSO [SQUARES = LENGTH(L)/LENGTH(W)] < 1
}

RESAA_1a_2_R {
@ Suggest the Nsq >= 1 for stable Resistivity.(Silicide Poly resistor region)
 Y = (RESAA AND AA) NOT INTERACT SAB
 L = (AA INSIDE EDGE RESAA) OR EDGE (AA COIN EDGE RESAA)
 W = Y INSIDE EDGE AA
 DFM PROPERTY Y L W OVERLAP ABUT ALSO [SQUARES = LENGTH(L)/LENGTH(W)] < 1
}


//=============================
//  RESP1: Poly resistor rule
//=============================


GROUP GRESP1 RESP1_?

RESP1_1_R {
@ Width of poly resistor with SAB is >= 1um
 X = (GT AND RESP1) AND SAB
 Y = X COIN EDGE GT
 INT Y < 1 ABUT<90 OPPOSITE REGION
}

RESP1_1a_1_R {
@ Suggest poly resistor Nsq >= 1 for stable resistivity(Non-silicide Poly resistor region)
 X = RESP1 AND SAB
 Y = (GT AND RESP1) AND SAB
 L = (GT INSIDE EDGE X) OR EDGE (GT COIN EDGE X)
 W = Y INSIDE EDGE GT
 DFM PROPERTY Y L W OVERLAP ABUT ALSO [SQUARES = LENGTH(L)/LENGTH(W)] < 1
}

RESP1_1b_1_R {
@ Suggest poly resistor Nsq >= 1 for stable resistivity(silicide Poly resistor region)
 Y = (GT AND RESP1) NOT INTERACT SAB
 L = (GT INSIDE EDGE RESP1) OR EDGE (GT COIN EDGE RESP1)
 W = Y INSIDE EDGE GT
 DFM PROPERTY Y L W OVERLAP ABUT ALSO [SQUARES = LENGTH(L)/LENGTH(W)] < 1
}

RESP1_2_R {
@ Space between SAB and contact on poly is == 0.22um
 X = ((GTR NOT INTERACT HRP) INTERACT SAB) INTERACT CT
 Y = SAB INTERACT X
 Z = CT INSIDE X
 W = SIZE Z BY 0.22 STEP 0.05 INSIDE OF X
 W NOT TOUCH Y
}


RESP1_3 {
@ Space between the resistor poly(poly interact RESP1) and un-related SAB(poly not interact SAB) is >= 0.3um
 X = SAB NOT INTERACT GTR
 EXT GTR X < 0.3 ABUT<90 SINGULAR REGION
}

RESP1_4_R {
@ Space between the resistor poly(poly interact RESP1) and un-related implant regions (poly not interact implant region) is >= 0.26um
 X1 = SN NOT INTERACT RESP1
 EXT GTR X1 < 0.26 ABUT<90 REGION

 X2 = SP NOT INTERACT RESP1
 EXT GTR X2 < 0.26 ABUT<90 REGION

 X3 = NLL NOT INTERACT RESP1
 EXT GTR X3 < 0.26 ABUT<90 REGION

 X4 = NLH NOT INTERACT RESP1
 EXT GTR X4 < 0.26 ABUT<90 REGION

 X5 = PLL NOT INTERACT RESP1
 EXT GTR X5 < 0.26 ABUT<90 REGION

 X6 = PLH NOT INTERACT RESP1
 EXT GTR X6 < 0.26 ABUT<90 REGION
}


RESP1_6_R {
@ Dog-bone design at the end of poly resistor for contact pick-up is not suggested.
 X = CONVEX EDGE GTR == 1
 EXPAND EDGE X INSIDE BY 0.01
}

RESP1_7 {
@ PLL, PLH, NLH implants are not allowed in the N+ poly resistor region. NLL, PLH, NLH implant are not allowed in the P+ poly resistor region.
  AND PLL ((GTR INTERACT SN) AND RESP1)
  AND PLH ((GTR INTERACT SN) AND RESP1)
  AND NLH ((GTR INTERACT SN) AND RESP1)
  AND NLH ((GTR INTERACT SP) AND RESP1) 
  AND PLH ((GTR INTERACT SP) AND RESP1)
  AND NLL ((GTR INTERACT SP) AND RESP1) 
}


//==================================
//  HRP - High Resistance Poly DRC
//==================================

GROUP GHRP HRP_?

HRP_1 {
@ HRP.1
@ HRP min width is 0.30
  INT HRP < 0.30 ABUT<90 SINGULAR REGION
}
HRP_2 {
@ HRP.2
@ HRP min space is 0.30
  EXT HRP < 0.30 ABUT<90 SINGULAR REGION
}
HRP_3 {
@ Poly width for high resistance poly resistor is >= 1.0
 INT (GT_HRP INSIDE EDGE HRPDMY) < 1.0 ABUT<90  REGION
}
HRP_4 {
@ HRP.4
@ HRP extension outside of PO resistor region is 0.20
  ENC GT_HRP HRP < 0.20 ABUT<90 SINGULAR REGION
}
HRP_5_6 {
@ HRP.5 ; HRP.6
@ Clearance from HRP region to Poly gate of NMOS/PMOS is 0.20
  GT_MOS = GT INTERACT GATE
  EXT HRP GT_MOS < 0.20 ABUT<90 SINGULAR REGION
}
HRP_7 {
@ HRP.7
@ Min and Max P+ implant for pickup oerlap with SAB is 0.30
  SP_HRP = SP INTERACT HRP
  SAB_HRP = SAB INTERACT HRP
  INT SP_HRP SAB_HRP < 0.30 ABUT<90 SINGULAR REGION

  SIZE_SP = SIZE SP_HRP BY -0.30
  AND SIZE_SP SAB_HRP
}
HRP_8 {
@ HRP.8
@ SAB extension outside of PO resistor region is 0.22
  ENC GT_HRP SAB < 0.22 ABUT<90 SINGULAR REGION
}
/*HRP_9 {
@ HRP.9
@ Dummy layer "HRPDMY" is needed for DRC for high resistance Poly region
  SAB_HRP = SAB INTERACT HRP
  SAB_HRP NOT INTERACT HRPDMY
}*/
HRP_10_R {
@Resistor square number > 5 for precision Rs
  X = (GT INTERACT HRP) INTERACT CT
  Y =  GT_HRP AND HRPDMY
  L = GT INSIDE EDGE HRPDMY 
  W = INSIDE EDGE HRPDMY GT
 DFM PROPERTY Y L W OVERLAP ABUT ALSO MULTI [WIDTH = LENGTH(W)] >0 [SQUARES = LENGTH(L)/LENGTH(W)] < 5
}
HRP_11 {
@SN,SP and LDD(NLL, PLL, NLH, PLH) is not allowed in the HRPDMY region.
 HRP_MID = HRPDMY INTERACT GT
 HRP_MID AND SP
 HRP_MID AND SN
 HRP_MID AND NLL
 HRP_MID AND NLH
 HRP_MID AND PLL
 HRP_MID AND PLH
}
HRP_RES = (HRPDMY AND GT) AND SAB
HRP_12 {
@ SAB extension outside of HRPDMY along the length direction of high resistance poly resistor =0.3
HRPDMY NOT INTERACT SAB
((SAB INTERACT HRPDMY) INSIDE EDGE (GT INTERACT HRP_RES)) NOT COIN EDGE ((EXPAND EDGE (HRPDMY TOUCH EDGE (HRPDMY INSIDE EDGE GT)) OUTSIDE BY 0.3) NOT COIN EDGE HRPDMY)   
}

MIMDMY_2_G{
@ MIMDMY must fully cover active MIM region. Active MIM is enclosed by MIMDMY =0.2
 //(MIM INTERACT MIMDMY) NOT MIMDMY 
 ENC (MIM INTERACT MIMDMY) MIMDMY < 0.2 ABUT<90 REGION OUTSIDE ALSO
 (SIZE MIMDMY BY -0.2) NOT MIM
}

LAYER MAP       89  DATATYPE 155 8955
LAYER MIMSHD    8955  // MIM shield Mark layer    
LAYER MAP       171 DATATYPE 0 1710
LAYER M1R       1710  // Dummy for Metal1 Resistor
LAYER MAP       172 DATATYPE 0 1720
LAYER M2R       1720  // Dummy for Metal2 Resistor
LAYER MAP       173 DATATYPE 0 1730
LAYER M3R       1730  // Dummy for Metal3 Resistor
LAYER MAP       174 DATATYPE 0 1740
LAYER M4R       1740  // Dummy for Metal4 Resistor
LAYER MAP       175 DATATYPE 0 1750
LAYER M5R       1750  // Dummy for Metal5 Resistor
LAYER MAP       176 DATATYPE 0 1760
LAYER M6R       1760  // Dummy for Metal6 Resistor
LAYER MAP       177 DATATYPE 0 1770
LAYER M7R       1770  // Dummy for Metal7 Resistor
LAYER MAP       178 DATATYPE 0 1780
LAYER M8R       1780  // Dummy for Metal8 Resistor
LAYER MAP       201 DATATYPE 0 2010
LAYER TM1R      2010  
LAYER MAP       202 DATATYPE 0 2020
LAYER TM2R      2020

#IFDEF MIM one_mask
//===================================
//  MIM - Metal-Insulator-Metal DRC
//===================================

GROUP GMIM MIM_?

CVn = ((((V1 OR V2) OR V3) OR V4) OR V5) OR V6
CMn = ((((M1 OR M2) OR M3) OR M4) OR M5) OR M6

MIM_1 {
@ MIM.1
@ Min MIM width and length as capacitor top plate is 3.00 max 25 
 CAP_MIM ENCLOSE RECTANGLE  25.001 0.001 ORTHOGONAL ONLY
 INT CAP_MIM < 3.0 ABUT<90 SINGULAR REGION
}
MIM_2 {
@ MIM.2
@ Space between MIMs as top plate is 1.20
  EXT CAP_MIM < 1.20 ABUT<90 SINGULAR REGION
}
MIM_3 {
@ MIM.3
@ MIM extension outside of Via which connect to this MIM is 0.24
  ENC TV2_MIM CAP_MIM < 0.24 ABUT<90 SINGULAR REGION
  (TV2 INTERACT MIM) NOT MIM
}
MIM_4 {
@ MIM.4
@ Bottom plate(Mn) extension outside of MIM region is 0.40
  ENC CAP_MIM M7_CAPMIM < 0.40 ABUT<90 OUTSIDE ALSO SINGULAR REGION
}
MIM_5 {
@ MIM.5
@ Bottom metal (Mn) width and length in capacitor is 30
@ If capacitor larger than 30*30,please use combination of smaller capacitor
@ For this bottom Metal structure,the slot rules don't need follow.
 M7_CAPMIM ENCLOSE RECTANGLE  30.001 0.001 ORTHOGONAL ONLY
}
MIM_6_R {
@ MIM.6a
@ Density of MIM pattern is 3%
@ Dummy MiM pattern suggested 2 X 5um with line space 1.5um is required if density less than 3%
  DENSITY MIMi < 0.03 PRINT "density_reprot_MIM_6_R.log"
}
MIM_7 {
@ MIM.7
@ Capacitor bottom metal extension outside of Via connect to Mn is 0.12
  ENC TV2_CAPM7 M7_CAPMIM < 0.12 ABUT<90 SINGULAR REGION
}
MIM_8 {
@ MIM.8
@ Clearance from top Via to MiM region is 0.40
  EXT CAP_MIM TV2_CAPM7 < 0.40 ABUT<90 SINGULAR REGION
}
MIM_9 {
@ MIM.9
@ Space between two Vias on MiM is 1.00
  X= EXT TV2_MIM < 1.0 ABUT<90 SINGULAR REGION
  X INSIDE CAP_MIM
}
MIM_10 {
@ MIM.10
@ Space between Vias on bottom metal(Mn) is 0.36
  X= EXT TV2_CAPM7 < 0.36 ABUT<90 SINGULAR REGION
  X INSIDE M7
}
MIM_11 {
@ MIM.11
@ Dummy MiM width is 0.78
  INT DMY_MIM < 0.78 ABUT<90 SINGULAR REGION
}
MIM_12 {
@ MIM.12
@ Space between dummy MIM and MIM region is 0.80
  EXT CAP_MIM DMY_MIM < 0.8 ABUT<90 SINGULAR REGION
}
MIM_13 {
@ MIM.13
@ Clearance from mim capacitor bottom Mn to dummy Mn is 0.80
  EXT M7_CAPMIM M7_DMYMIM < 0.8 ABUT<90 SINGULAR REGION
}
MIM_14_R {
@ To avoid strong coupling, Mn-1 is not recommended to put beneath MIM bottom plate (except MIMSHD metal design). Minimum space between Mn-1 and MIM bottom plate is >= 2.
  (EXT M7_CAPMIM M6 < 2.00 ABUT<90 SINGULAR REGION INSIDE ALSO) NOT MIMSHD
  //(M7_CAPMIM AND CMn) NOT MIMSHD
}
//MIM_15_G {
//@ Via and metal layers under MIM region are not allowed.
//@ (except MIMSHD covered region). MIMSHD layer is marking layer for metal shield under MIM.
//@ One DRC dummy layer "MIMDMY" is needed to separate MIM region from metal interconnection
//  (AND CVn CAP_MIM) NOT MIMSHD
//  (AND CMn CAP_MIM) NOT MIMSHD
//}
MIM_16 {
@ MIM.16
@ MiM region cross bottom plate Metal(Mn) region is not allowed
  MIM NOT INSIDE M7
}

MIM_17_R {
@ MIM.17
@ Both active and passive devices under MIM region are not allowed
@ (except MIMSHD covered region). 
//  X = (AA OR GT) OR RESNW
//  AND X CAP_MIM

 (GATE AND CAP_MIM) NOT MIMSHD
 (RESAA AND CAP_MIM) NOT MIMSHD
 (RESNW AND CAP_MIM) NOT MIMSHD
 (RESP1 AND CAP_MIM) NOT MIMSHD
 (RESP3T AND CAP_MIM) NOT MIMSHD
// PLRES AND INDMY
// DIFRES AND INDMY
 (DSTR AND CAP_MIM) NOT MIMSHD
 (DMPNP AND CAP_MIM) NOT MIMSHD
 (HRPDMY AND CAP_MIM) NOT MIMSHD
 //(MIMDMY AND CAP_MIM) NOT MIMSHD
 (M1R AND CAP_MIM) NOT MIMSHD
 (M2R AND CAP_MIM) NOT MIMSHD
 (M3R AND CAP_MIM) NOT MIMSHD
 (M4R AND CAP_MIM) NOT MIMSHD
 (M5R AND CAP_MIM) NOT MIMSHD
 (M6R AND CAP_MIM) NOT MIMSHD
 (M7R AND CAP_MIM) NOT MIMSHD
}

#IFDEF Guideline_MIMSHD_Rule YES
//MIM_SHD_2 {
//@ MIMSHD.2
//@ Metal shield design must be fully covered by MIMSHD.              
//@ Metal shield design is the metal layer directly underneath MIM bottom plate.
//  (MIMSHD INTERACT M7_CAPMIM) NOT INTERACT M6
//  (M6 INTERACT M7_CAPMIM) NOT MIMSHD
//}

MIM_SHD_3_G {
@ MIMSHD solid metal (MIMSHD AND Mn-1) must enclose of MIM bottom metal is >= 4
ENC M7_CAPMIM (MIMSHD AND M6)< 4 ABUT<90 REGION    
}
#ENDIF
#ENDIF
#IFDEF MIM two_mask
//====================================
// BMIM - Top plate of two masks MIM
//====================================

GROUP GBMIM BMIM_?


BVn = (((V1 OR V2) OR V3) OR V4) OR V5
BMn = ((((M1 OR M2) OR M3) OR M4) OR M5) OR M6

CAP_BMIM  = ((MIM INTERACT P2) INTERACT V6) OR (MIM INTERACT MIMDMY)
DMY_BMIM  = MIM NOT CAP_BMIM

V6_BMIM = V6 AND CAP_BMIM
V6_BCAP = (V6 AND P2) NOT V6_BMIM

BMIM_1 {
@ BMIM.1
@ Min MIM width as capacitor top plate is 2.00 max 25 
  CAP_BMIM enclose rectangle 25.001 0.001 ORTHOGONAL ONLY 
 INT CAP_BMIM < 2.0 ABUT<90 SINGULAR REGION
}
BMIM_2 {
@ BMIM.2
@ Space between MIMs as top plate is 0.8
  EXT CAP_BMIM < 0.8 ABUT<90 SINGULAR REGION
}
BMIM_3 {
@ BMIM.3
@ MIM extension outside of Via which connect to this MIM is 0.24
  ENC V6_BMIM CAP_BMIM < 0.24 ABUT<90 OUTSIDE ALSO SINGULAR REGION
  (V6 INTERACT MIM) NOT MIM
}
BMIM_4 {
@ BMIM.4
@ Clearance of Via which connect with bottom plate (plate-2) to MIM region is 0.4um.
  EXT CAP_BMIM V6_BCAP < 0.40 ABUT<90 SINGULAR REGION
}
BMIM_5 {
@ BMIM_5
@ Minimum space between two Via on MIM is 0.8
  X= EXT V6_BMIM < 0.8 ABUT<90 SINGULAR REGION
  X INSIDE CAP_BMIM
}
BMIM_6_R {
@ BMIM_6
@ To avoid strong coupling, Mn-1 is not allowed to put beneath MIM and Platte-2.
@ Min.clearance for Mn-1 to MIM is 1.0.
  (EXT M6 CAP_BMIM < 1.00 ABUT<90 SINGULAR REGION INSIDE ALSO) NOT MIMSHD
  //(M6 AND CAP_BMIM) NOT MIMSHD
}
BMIM_7_R {
@ BMIM_7
@ MiM pattern density. Dummy MIM pattern is required if MIM density is less than 3%.
@ Note that if dummy MIM is added, dummy plate-2 will be followed to add.
  DENSITY MIMi < 0.03 PRINT "density_report_BMIM_7_R.log"
}
BMIM_8 {
@ BMIM_8
@ Min.dummy MIM width is 0.78
  INT DMY_BMIM < 0.78 ABUT<90 SINGULAR REGION
}
BMIM_9 {
@ BMIM_9
@ Space between dummy MIM and MIM region is 0.8
  EXT DMY_BMIM CAP_BMIM < 0.80 ABUT<90 SINGULAR REGION
}
BMIM_10 {
@ BMIM_10
@ Clearance between dummy MIM and Plate-2 is 0.8
  EXT DMY_BMIM P2 < 0.8 ABUT<90 SINGULAR REGION
}
BMIM_11 {
@ BMIM_11
@ MiM region cross PLate is not allowed.
  CAP_BMIM NOT INSIDE P2
  DMY_BMIM NOT INSIDE P2
}

//BMIM_12_G {
//@ BMIM_12
//@ Via and metal layers under MIM region are not allowed.
//@ (except MIMSHD covered region). MIMSHD layer is marking layer for metal shield under MIM.
//  (AND BVn CAP_BMIM) NOT MIMSHD
//  (AND BMn CAP_BMIM) NOT MIMSHD
//}

BMIM_13_R {
@ It's not recommended to put sensitivity devices under MIM. The sensitivity devices include RF, Analog, etc.
//  X = (AA OR GT) OR RESNW
//  AND X CAP_BMIM

 (GATE AND CAP_BMIM) NOT MIMSHD
 (RESAA AND CAP_BMIM) NOT MIMSHD
 (RESNW AND CAP_BMIM) NOT MIMSHD
 (RESP1 AND CAP_BMIM) NOT MIMSHD
 (RESP3T AND CAP_BMIM) NOT MIMSHD
// PLRES AND INDMY
// DIFRES AND INDMY
 (DSTR AND CAP_BMIM) NOT MIMSHD
 (DMPNP AND CAP_BMIM) NOT MIMSHD
 (HRPDMY AND CAP_BMIM) NOT MIMSHD
// (MIMDMY AND CAP_BMIM) NOT MIMSHD
 (M1R AND CAP_BMIM) NOT MIMSHD
 (M2R AND CAP_BMIM) NOT MIMSHD
 (M3R AND CAP_BMIM) NOT MIMSHD
 (M4R AND CAP_BMIM) NOT MIMSHD
 (M5R AND CAP_BMIM) NOT MIMSHD
 (M6R AND CAP_BMIM) NOT MIMSHD
 (M7R AND CAP_BMIM) NOT MIMSHD
}

//BMIM_SHD_2 {
//@ MIMSHD.2
//@ Metal shield design must be fully covered by MIMSHD.              
////@ Metal shield design is the metal layer directly underneath MIM bottom plate.
///  (MIMSHD INTERACT (P2 INTERACT MIM)) NOT INTERACT M6  
//  (M6 INTERACT (P2 INTERACT MIM)) NOT MIMSHD
//}

//================
//  Plate 2 rule
//================

GROUP GP2 P2_?

P2_1 {
@ P2_1
@ Minimum extension of plate 2 region to MIM region is 0.4
  ENC MIM P2 < 0.4 ABUT<90 OUTSIDE ALSO SINGULAR REGION
  MIM NOT P2
}
P2_2 {
@ P2_2
@ Minimum space between two via on plate 2 is 0.36
  X= EXT V6_BCAP < 0.36 ABUT<90 SINGULAR REGION
  X INSIDE P2
}
P2_3 {
@ P2_3
@ Min.P2 extension for Via which contact to this plate-2 is 0.2
  ENC V6_BCAP P2 < 0.2 ABUT<90 OUTSIDE ALSO SINGULAR REGION
  ((V6 INTERACT P2) NOT MIM) NOT P2
}
P2_4 {
@ P2_4
@ Min.space of P2 to P2 is 0.4
  EXT P2 < 0.4 ABUT<90 SINGULAR REGION
}
P2_5 {
@ P2_5
@ Mn-1 is not allowed to put beneath P2.Min.clearance for Mn-1 to P2 is 0.5.
  EXT M6 P2 < 0.5 ABUT<90 SINGULAR REGION
  (M6 AND P2) NOT MIMSHD
}
P2_6 {
@ P2_6
@ DUMBM layer is needed in P2 region to avoid dummy metal insertion.
@ Min.distance of P2 enclosure by DUMBM is 2.0
  ENC P2 DUMBM < 2.0 ABUT<90 OUTSIDE ALSO SINGULAR REGION
  (P2 INTERACT DUMBM ) NOT INSIDE DUMBM
}
P2_7{
@ P2 width and length >=0.46 <=30
 P2 enclose rectangle 30.001 0.001 ORTHOGONAL ONLY
 INT P2 < 0.46 ABUT<90 SINGULAR REGION	
}
#ENDIF
#IFDEF MIM stack_mim
//====================================
// SMIM - Top plate of two masks MIM
//====================================

GROUP GSMIM SMIM_?


CAP_SMIM  = ((MIM INTERACT V6) INTERACT V5) OR (MIM INTERACT MIMDMY)
DMY_SMIM  = MIM NOT CAP_SMIM

M6_CAPSMIM = (SIZE M6 BY 1.5 UNDEROVER) INTERACT CAP_SMIM
M5_CAPSMIM = (SIZE M5 BY 1.5 UNDEROVER) INTERACT CAP_SMIM
M6_DMYSMIM = M6 INTERACT DMY_SMIM
M5_DMYSMIM = M5 INTERACT DMY_SMIM

V6_SMIM    = V6 AND CAP_SMIM
V5_SMIM    = V5 AND CAP_SMIM
V6_SCAP    = (V6 AND M6_CAPSMIM) NOT V6_SMIM
V5_SCAP    = (V5 AND M5_CAPSMIM) NOT V5_SMIM

WID_SDMY = INT DMY_SMIM == 2 REGION
LET_SDMY = LENGTH WID_SDMY == 5

SVn = ((V1 OR V2) OR V3) OR V4
SMn = ((M1 OR M2) OR M3) OR M4


SMIM_1 {
@ SMIM.1a
@ Min MIM width as capacitor top plate is 3.00 max 25
 CAP_SMIM ENCLOSE RECTANGLE  25.001 0.001 ORTHOGONAL ONLY
 INT CAP_SMIM < 3.0 ABUT<90 SINGULAR REGION
}
SMIM_2 {
@ SMIM.2
@ Space between MIMs as top plate is 1.20
  EXT CAP_SMIM < 1.20 ABUT<90 SINGULAR REGION
}
SMIM_3 {
@ SMIM.3
@ MIM extension outside of Via which connect to this MIM is 0.24
  ENC V6_SMIM CAP_SMIM < 0.24 ABUT<90 SINGULAR REGION
  ENC V5_SMIM CAP_SMIM < 0.24 ABUT<90 SINGULAR REGION
  (V6 INTERACT CAP_SMIM) NOT CAP_SMIM
  (V5 INTERACT CAP_SMIM) NOT CAP_SMIM
}
SMIM_4 {
@ SMIM.4
@ Bottom plate(M6&M5) extension outside of MIM region is 0.40
  ENC CAP_SMIM M6_CAPSMIM < 0.40 ABUT<90 OUTSIDE ALSO SINGULAR REGION
  ENC CAP_SMIM M5_CAPSMIM < 0.40 ABUT<90 OUTSIDE ALSO SINGULAR REGION
}
SMIM_5a {
@ SMIM.5a
@ Bottom metal (Mn-1) width in capacitor is 30
@ If capacitor larger than 30*30,please use combination of smaller capacitor
@ For this bottom Metal structure,the slot rules don't need follow.
   M6_CAPSMIM ENCLOSE RECTANGLE 30.001 0.001 ORTHOGONAL ONLY 
}
SMIM_5b {
@ SMIM.5b
@ Bottom metal (Mn-2) width in capacitor is 30
@ If capacitor larger than 30*30,please use combination of smaller capacitor
@ For this bottom Metal structure,the slot rules don't need follow.
  M5_CAPSMIM ENCLOSE RECTANGLE 30.001 0.001 ORTHOGONAL ONLY 
}
SMIM_6_R {
@ SMIM_6a
@ Density of MIM pattern is 3%
@ Dummy MiM pattern suggested 2 X 5um with line space 1.5um is required if density less than 3%
  DENSITY MIMi < 0.03 PRINT "density_report_SMIM_6_R.log"
}
/*
SMIM_6b {
@ SMIM.6b (GuideLine, could be controled by User)
@ Dummy MIM pattern suggested 2*5 um*um
  X = DENSITY MIMi < 0.03
  X AND (DMY_SMIM NOT WITH EDGE LET_SDMY)
}
SMIM_6c {
@ SMIM.6c (GuideLine, could be controled by User)
@ Dummy MIM pattern suggested 2*5 um*um with space 1.5 um
  X = DENSITY MIMi < 0.03
  Z = X AND (DMY_SMIM WITH EDGE LET_SDMY)
  EXT Z < 1.5 ABUT<90 SINGULAR REGION
}*/
SMIM_7 {
@ SMIM.7
@ Capacitor bottom metal extension outside of Via connect to Mn is 0.12
  ENC V6_SCAP M6_CAPSMIM < 0.12 ABUT<90 SINGULAR REGION
  ENC V5_SCAP M6_CAPSMIM < 0.12 ABUT<90 SINGULAR REGION
  ENC V5_SCAP M5_CAPSMIM < 0.12 ABUT<90 SINGULAR REGION

}
SMIM_8 {
@ SMIM.8
@ Clearance from top Via to MiM region is 0.40
  EXT CAP_SMIM V6_SCAP < 0.40 ABUT<90 SINGULAR REGION
  EXT CAP_SMIM V5_SCAP < 0.40 ABUT<90 SINGULAR REGION
}
SMIM_9 {
@ SMIM.9
@ Space between two Vias on MiM is 1.00
  X= EXT V5_SMIM < 1.0 ABUT<90 SINGULAR REGION
  X INSIDE CAP_SMIM
  T= EXT V6_SMIM < 1.0 ABUT<90 SINGULAR REGION
  T INSIDE CAP_SMIM
}
SMIM_10 {
@ SMIM.10
@ Space between Vias on bottom metal(Mn) is 0.36
  X= EXT V5_SCAP < 0.36 ABUT<90 SINGULAR REGION
  Y= EXT V6_SCAP < 0.36 ABUT<90 SINGULAR REGION
  X INSIDE M5
  Y INSIDE M6
}
SMIM_11 {
@ SMIM.11
@ Dummy MiM width is 0.78
  INT DMY_SMIM < 0.78 ABUT<90 SINGULAR REGION
}

SMIM_12 {
@ SMIM.12
@ Space between dummy MIM and MIM region is 0.80
  EXT CAP_SMIM DMY_SMIM < 0.8 ABUT<90 SINGULAR REGION
}
SMIM_13 {
@ SMIM_13
@ Clearance from mim capacitor bottom Mn-1(or Mn-2) to dummy Mn is 0.80
  EXT M6_CAPSMIM M6_DMYSMIM < 0.8 ABUT<90 SINGULAR REGION
  EXT M5_CAPSMIM M5_DMYSMIM < 0.8 ABUT<90 SINGULAR REGION
}

SMIM_14_R {
@ To avoid strong coupling, Mn-3 is not recommended to put beneath MIM bottom plate Mn-1 (or Mn-2) (except MIMSHD metal design). Minimum space between Mn-3 and MIM bottom plate Mn-1 (or Mn-2) is >= 2.
  (EXT M6_CAPSMIM M4 < 2.00 ABUT<90 SINGULAR REGION INSIDE ALSO) NOT MIMSHD
  (EXT M5_CAPSMIM M4 < 2.00 ABUT<90 SINGULAR REGION INSIDE ALSO) NOT MIMSHD
  //(M6_CAPSMIM AND SMn) NOT MIMSHD
  //(M5_CAPSMIM AND SMn) NOT MIMSHD
}

SMIM_15 {
@ SMIM_15
@ DUMBM layer is needed in MIM region to avoid dummy metal insertion.
@ Min.distance of bottom meta (Mn-1 or Mn-2) enclosure by DUMBM is 2.0.
  ENC M6_CAPSMIM DUMBM < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  ENC M5_CAPSMIM DUMBM < 2.0 ABUT<90 SINGULAR REGION OUTSIDE ALSO
  //M6_CAPSMIM NOT DUMBM
  //M5_CAPSMIM NOT DUMBM
}

//SMIM_16_G {
//@ SMIM_16
//@ Via and metal layers under MIM region are not allowed.
//@ (except MIMSHD covered region). MIMSHD layer is marking layer for metal shield under MIM.
//@ One DRC dummy layer "MIMDMY" is needed to separate MIM region from metal interconnection
//  (AND SVn CAP_SMIM) NOT MIMSHD
//  (AND SMn CAP_SMIM) NOT MIMSHD
//}
SMIM_17 {
@ SMIM_17
@ MIM region cross bottom plate (Mn-1 or Mn-2) metal region is not allowed.
  CAP_SMIM NOT INSIDE M6_CAPSMIM
  CAP_SMIM NOT INSIDE M5_CAPSMIM
}

SMIM_18_R {
@ It's not recommended to put sensitivity devices under MIM. The sensitivity devices include RF, Analog, etc.
//   X = (AA OR GT) OR RESNW
//   AND X CAP_SMIM

  
 (GATE AND CAP_SMIM) NOT MIMSHD
 (RESAA AND CAP_SMIM) NOT MIMSHD
 (RESNW AND CAP_SMIM) NOT MIMSHD
 (RESP1 AND CAP_SMIM) NOT MIMSHD
 (RESP3T AND CAP_SMIM) NOT MIMSHD
// PLRES AND INDMY
// DIFRES AND INDMY
 (DSTR AND CAP_SMIM) NOT MIMSHD
 (DMPNP AND CAP_SMIM) NOT MIMSHD
 (HRPDMY AND CAP_SMIM) NOT MIMSHD
// (MIMDMY AND CAP_SMIM) NOT MIMSHD
 (M1R AND CAP_SMIM) NOT MIMSHD
 (M2R AND CAP_SMIM) NOT MIMSHD
 (M3R AND CAP_SMIM) NOT MIMSHD
 (M4R AND CAP_SMIM) NOT MIMSHD
 (M5R AND CAP_SMIM) NOT MIMSHD
 (M6R AND CAP_SMIM) NOT MIMSHD
 (M7R AND CAP_SMIM) NOT MIMSHD
}

//SMIM_SHD_2 {
//@ MIMSHD.2
//@ Metal shield design must be fully covered by MIMSHD.              
//@ Metal shield design is the metal layer directly underneath MIM bottom plate.
//  (MIMSHD INTERACT M5_CAPSMIM) NOT INTERACT M4
//  (M4 INTERACT M5_CAPSMIM) NOT MIMSHD
//}
#ENDIF

//=====================================
// DUP (Device Under Pad) Pad Guidelines
//=====================================

GROUP GDUP DUP_?

padarea_outmd = (SIZE PA BY 5 UNDEROVER) AND DUPMK1 
padarea_inmd = MD AND DUPMK1
padarea = padarea_outmd OR padarea_inmd 
DUP_1a_G{
@ For the design without MD (one passivation process), DUPMK1 must enclose PA for DUP pad area.
(((SIZE PA BY 5 UNDEROVER) INTERACT (DRC:1 NOT INTERACT MD)) INTERACT DUPMK1) NOT DUPMK1
}	
DUP_1b_G{
@ For the design with MD (two passivation process), DUPMK1 must enclose MD for DUP pad area.
(MD INTERACT DUPMK1) NOT DUPMK1
}	
DUP_2_G{
@ Two metal layers (TM and TM-1) are needed in DUP pad area, these two metal layers design must be solid.
padarea ENCLOSE (padarea NOT M7)
padarea ENCLOSE (padarea NOT TM2)
}	
DUP_3a_G{
@ ALPAR, MOMDMY, INDMY, Resistor of TM or TM-1 must be outside of DUP pad area.	
((((ALPAR OR MOMDMY) OR INDMY) OR (TM2R OR M8R)) OR M7R) AND padarea
}
DUP_4_G{
@ TV-1 pattern must be outside of DUP pad area	
V6 AND padarea
}
DUP_5_G{
@ DUP pad area must have TV array between TM and TM-1.
@ Two Via areas whose space is within 0.52m are considered to be in the same array.
@ TV space within array in DUP pad opening area should follow TV.2b.	
TV2array = SIZE (SIZE (TV2 INSIDE padarea) BY 0.26 OVERUNDER) BY 0.85 UNDEROVER 
padarea NOT ENCLOSE TV2array
}


//==================================
// Poly E-Fuse Layout Guidelines
//==================================

GROUP GEFU EFU_?

EFU_1b_1c_G {
@ FUSEMK1 (81:152) must interact with EFUSE (81:2) region.
@ FUSEMK1 (81:152) must fully cover EFUSE (81:2) region.
 FUSEMK1 NOT INTERACT EFUSE
 EFUSE NOT FUSEMK1
}

EFU_2b_2c_G {
@ EFUSE (81:2) must interact with GTFUSE(81:1).
@ EFUSE (81:2) must fully cover GTFUSE(81:1).
 EFUSE NOT INTERACT GTFUSE
 GTFUSE NOT EFUSE
}

//============================
//   Logo Design Guidelines
//============================

GROUP GLOGO LOGO_?

LOGO_1_G {
@ Space between LOGO and AA, GT or Metal is >= 10um
@ DRC doesn't check dummy AA, dummy GT, dummy metal.
 EXT LOGO AA < 10 ABUT<90 SINGULAR REGION
 EXT LOGO GT < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M1 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M2 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M3 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M4 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M5 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M6 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO M7 < 10 ABUT<90 SINGULAR REGION
 EXT LOGO TM2 < 10 ABUT<90 SINGULAR REGION
}

LOGO_2_G {
@ LOGO overlap with PA, ALPA, Metal fuse or Polymide window is not allowed.
 LOGO AND PA
 LOGO AND ALPA
 LOGO AND FUSE
 LOGO AND PI
}


//====================
//  Seal Ring Rules
//====================



CTS = CTi AND MARKS
CTS_SL = CTS NOT CTS_SQ
CTS_SQ = RECTANGLE CTS
CTS_INNER = CTS TOUCH (HOLES CTS INNER) == 1
CTS_OUTER = CTS TOUCH (HOLES CTS) == 1 

AAS = AAi AND (AAi ENCLOSE CTS)

M1S = M1i AND MARKS
M1S_INNER = M1S TOUCH (HOLES M1S INNER) == 1
M1S_OUTER = HOLES M1S
M1S_OUTER_RING = M1S TOUCH M1S_OUTER
M1S_RING = M1i AND (M1S INTERACT M1S_OUTER)
V1S = V1i AND MARKS
V1S_SL = V1S NOT V1S_SQ
V1S_SQ = RECTANGLE V1S
V1S_INNER = V1S TOUCH (HOLES V1S INNER) == 1
V1S_OUTER = V1S TOUCH (HOLES V1S) == 1

M2S = M2i AND MARKS
M2S_INNER = M2S TOUCH (HOLES M2S INNER) == 1
M2S_OUTER = HOLES M2S
M2S_OUTER_RING = M2S TOUCH M2S_OUTER
M2S_RING = M2i AND (M2S INTERACT M2S_OUTER)
V2S = V2i AND MARKS
V2S_SL = V2S NOT V2S_SQ
V2S_SQ = RECTANGLE V2S
V2S_INNER = V2S TOUCH (HOLES V2S INNER) == 1
V2S_OUTER = V2S TOUCH (HOLES V2S) == 1

M3S = M3i AND MARKS
M3S_INNER = M3S TOUCH (HOLES M3S INNER) == 1
M3S_OUTER = HOLES M3S
M3S_OUTER_RING = M3S TOUCH M3S_OUTER
M3S_RING = M3i AND (M3S INTERACT M3S_OUTER)
V3S = V3i AND MARKS
V3S_SL = V3S NOT V3S_SQ
V3S_SQ = RECTANGLE V3S
V3S_INNER = V3S TOUCH (HOLES V3S INNER) == 1
V3S_OUTER = V3S TOUCH (HOLES V3S) == 1

M4S = M4i AND MARKS
M4S_INNER = M4S TOUCH (HOLES M4S INNER) == 1
M4S_OUTER = HOLES M4S
M4S_OUTER_RING = M4S TOUCH M4S_OUTER
M4S_RING = M4i AND (M4S INTERACT M4S_OUTER)
V4S = V4i AND MARKS
V4S_SL = V4S NOT V4S_SQ
V4S_SQ = RECTANGLE V4S
V4S_INNER = V4S TOUCH (HOLES V4S INNER) == 1
V4S_OUTER = V4S TOUCH (HOLES V4S) == 1

M5S = M5i AND MARKS
M5S_INNER = M5S TOUCH (HOLES M5S INNER) == 1
M5S_OUTER = HOLES M5S
M5S_OUTER_RING = M5S TOUCH M5S_OUTER
M5S_RING = M5i AND (M5S INTERACT M5S_OUTER)
V5S = V5i AND MARKS
V5S_SL = V5S NOT V5S_SQ
V5S_SQ = RECTANGLE V5S
V5S_INNER = V5S TOUCH (HOLES V5S INNER) == 1
V5S_OUTER = V5S TOUCH (HOLES V5S) == 1

M6S = M6i AND MARKS
M6S_INNER = M6S TOUCH (HOLES M6S INNER) == 1
M6S_OUTER = HOLES M6S
M6S_OUTER_RING = M6S TOUCH M6S_OUTER
M6S_RING = M6i AND (M6S INTERACT M6S_OUTER)
V6S = V6i AND MARKS
V6S_SL = V6S NOT V6S_SQ
V6S_SQ = RECTANGLE V6S
V6S_INNER = V6S TOUCH (HOLES V6S INNER) == 1
V6S_OUTER = V6S TOUCH (HOLES V6S) == 1

M7S = M7i AND MARKS
M7S_INNER = M7S TOUCH (HOLES M7S INNER) == 1
M7S_OUTER = HOLES M7S
M7S_OUTER_RING = M7S TOUCH M7S_OUTER
M7S_RING = M7i AND (M7S INTERACT M7S_OUTER)

TV2S = TV2i AND MARKS
TV2S_SL = TV2S NOT TV2S_SQ
TV2S_SQ = RECTANGLE TV2S
TV2S_INNER = TV2S TOUCH (HOLES TV2S INNER) == 1
TV2S_OUTER = TV2S TOUCH (HOLES TV2S) == 1

TM2S = TM2i AND MARKS
TM2S_INNER = TM2S TOUCH (HOLES TM2S INNER) == 1
TM2S_OUTER = HOLES TM2S
TM2S_OUTER_RING = TM2S TOUCH TM2S_OUTER
TM2S_RING = TM2i AND (TM2S INTERACT TM2S_OUTER)

RDLVIAS = PAi AND MARKS
RDLS = ALRDLi AND MARKS
RDLS_INNER = RDLS TOUCH (HOLES RDLS INNER) == 1
RDLS_OUTER = RDLS TOUCH (HOLES RDLS) == 1
RDLS_RING = ALRDLi AND (RDLS INTERACT RDLS_OUTER)

MS_RING_INNER = M1S_INNER OR ((M2S_INNER OR(M3S_INNER OR (M4S_INNER OR (M5S_INNER OR (M6S_INNER OR (M7S_INNER OR TM2S_INNER)))))) OR RDLS_RING)
M_ALL = M1i OR (M2i OR (M3i OR (M4i OR (M5i OR (M6i OR (M7i OR TM2i))))))
MA_ALL = M_ALL NOT INSIDE MARKS

M1_CORNER_1 = M1S WITH EDGE (LENGTH M1S == 22) == 2
M1_CORNER = NOT RECTANGLE M1_CORNER_1
M2_CORNER_1 = M2S WITH EDGE (LENGTH M2S == 22) == 2
M2_CORNER = NOT RECTANGLE M2_CORNER_1
M3_CORNER_1 = M3S WITH EDGE (LENGTH M3S == 22) == 2
M3_CORNER = NOT RECTANGLE M3_CORNER_1
M4_CORNER_1 = M4S WITH EDGE (LENGTH M4S == 22) == 2
M4_CORNER = NOT RECTANGLE M4_CORNER_1
M5_CORNER_1 = M5S WITH EDGE (LENGTH M5S == 22) == 2
M5_CORNER = NOT RECTANGLE M5_CORNER_1
M6_CORNER_1 = M6S WITH EDGE (LENGTH M6S == 22) == 2
M6_CORNER = NOT RECTANGLE M6_CORNER_1
M7_CORNER_1 = M7S WITH EDGE (LENGTH M7S == 22) == 2
M7_CORNER = NOT RECTANGLE M7_CORNER_1
TM2_CORNER_1 = TM2S WITH EDGE (LENGTH TM2S == 22) == 2
TM2_CORNER = NOT RECTANGLE TM2_CORNER_1
CORN_ALL = M1_CORNER OR (M2_CORNER OR (M3_CORNER OR (M4_CORNER OR (M5_CORNER OR (M6_CORNER OR (M7_CORNER OR TM2_CORNER))))))

ISOLATION_1 = MARKS AND (HOLES M1S_INNER INNER)
ISOLATION_2 = MARKS AND (HOLES M2S_INNER INNER)
ISOLATION_3 = MARKS AND (HOLES M3S_INNER INNER)
ISOLATION_4 = MARKS AND (HOLES M4S_INNER INNER)
ISOLATION_5 = MARKS AND (HOLES M5S_INNER INNER)
ISOLATION_6 = MARKS AND (HOLES M6S_INNER INNER)
ISOLATION_9 = MARKS AND (HOLES M7S_INNER INNER)
ISOLATION_10 = MARKS AND (HOLES TM2S_INNER INNER)

ISOLATION = ISOLATION_1 AND (ISOLATION_2 AND (ISOLATION_3 AND (ISOLATION_4 AND (ISOLATION_5 AND (ISOLATION_6 AND (ISOLATION_9 AND ISOLATION_10))))))

CONNECT AAS M1S_RING BY CTS
CONNECT M2S_RING M1S_RING BY V1S
CONNECT M3S_RING M2S_RING BY V2S
CONNECT M4S_RING M3S_RING BY V3S
CONNECT M5S_RING M4S_RING BY V4S
CONNECT M6S_RING M5S_RING BY V5S
CONNECT M7S_RING M6S_RING BY V6S
CONNECT TM2S_RING M7S_RING BY TV2S
CONNECT MARKS TM2S_RING
CONNECT TM2S_RING RDLS_RING BY RDLVIAS
//*************************
// 0.13 Seal Ring
//*************************
#IFDEF SRCK_FOR_13 YES
GROUP GSRCK SRCK_?
SRCK_1 {
@ Fixed CT slot width is 0.167
@NOTICE: It is a guidelines rule.
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance.			
  X = INT CTS_SL <= 0.163 ABUT<90 SINGULAR REGION
  Y = CTS_SL WITH WIDTH >= 0.171
  X OR Y
}

SRCK_2 {
@ Fixed Vn slot width (n=1~6) is 0.175
@NOTICE: It is a guidelines rule.
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance
 V1_NARROW = INT V1S_SL <= 0.171 ABUT<90 SINGULAR REGION
 V2_NARROW = INT V2S_SL <= 0.171 ABUT<90 SINGULAR REGION
 V3_NARROW = INT V3S_SL <= 0.171 ABUT<90 SINGULAR REGION
 V4_NARROW = INT V4S_SL <= 0.171 ABUT<90 SINGULAR REGION
 V5_NARROW = INT V5S_SL <= 0.171 ABUT<90 SINGULAR REGION
 V6_NARROW = INT V6S_SL <= 0.171 ABUT<90 SINGULAR REGION

 V1_WIDE = V1S_SL WITH WIDTH >= 0.179 
 V2_WIDE = V2S_SL WITH WIDTH >= 0.179
 V3_WIDE = V3S_SL WITH WIDTH >= 0.179
 V4_WIDE = V4S_SL WITH WIDTH >= 0.179
 V5_WIDE = V5S_SL WITH WIDTH >= 0.179
 V6_WIDE = V6S_SL WITH WIDTH >= 0.179

 VN_NARROW = ((((V1_NARROW OR V2_NARROW) OR V3_NARROW) OR V4_NARROW) OR V5_NARROW) OR V6_NARROW
 VN_WIDE = ((((V1_WIDE OR V2_WIDE) OR V3_WIDE) OR V4_WIDE) OR V5_WIDE) OR V6_WIDE
 VN_NARROW OR VN_WIDE
}

SRCK_3 {
@ Fixed V7, TV2 slot width is 0.21
@NOTICE: It is a guidelines rule.
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance
  TV2_NARROW = INT TV2S_SL <= 0.206 ABUT<90 SINGULAR REGION
  TV2_WIDE = TV2S_SL WITH WIDTH >= 0.214
  TV2_NARROW OR TV2_WIDE
}
SRCK_4 {
@ Fixed space between square CT along the direction of seal ring is 0.653
@NOTICE: It is a guidelines rule.
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance
 M1S_DONUT = DONUT M1S == 1
  X1 = ANGLE M1S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = CTS_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4]  >= 0.650<=0.656 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.656 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.650 OPPOSITE REGION
  X6 = EXT X5  >= 0.650<=0.656 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M1S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = CTS_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >= 0.650<=0.656 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.656 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.650 OPPOSITE REGION
  Y6 = EXT Y5>= 0.650<=0.656 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_5_V1 {
@ Fixed space between square via(V1~V6) along the direction of seal ring is 0.62
@NOTICE: It is a guidelines rule.
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance

  M1S_DONUT = DONUT M1S == 1
  X1 = ANGLE M1S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V1S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.623 >=0.617 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.617 OPPOSITE REGION
  X6 = EXT X5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M1S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V1S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.623 >=0.617 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.617 OPPOSITE REGION
  Y6 = EXT Y5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)

}
SRCK_5_V2 {
@ Fixed space between square via(V1~V6) along the direction of seal ring is 0.62
@NOTICE: It is a guidelines rule.
  M2S_DONUT = DONUT M2S == 1
  X1 = ANGLE M2S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V2S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.623 >=0.617 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.617 OPPOSITE REGION
  X6 = EXT X5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M2S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V2S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.623 >=0.617 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.617 OPPOSITE REGION
  Y6 = EXT Y5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_5_V3 {
@ Fixed space between square via(V1~V6) along the direction of seal ring is 0.62
@NOTICE: It is a guidelines rule.
 M3S_DONUT = DONUT M3S == 1
  X1 = ANGLE M3S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V3S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.623 >=0.617 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.617 OPPOSITE REGION
  X6 = EXT X5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M3S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V3S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.623 >=0.617 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.617 OPPOSITE REGION
  Y6 = EXT Y5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_5_V4 {
@ Fixed space between square via(V1~V6) along the direction of seal ring is 0.62
@NOTICE: It is a guidelines rule.
  M4S_DONUT = DONUT M4S == 1
  X1 = ANGLE M4S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V4S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.623 >=0.617 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.617 OPPOSITE REGION
  X6 = EXT X5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M4S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V4S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.623 >=0.617 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.617 OPPOSITE REGION
  Y6 = EXT Y5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_5_V5 {
@ Fixed space between square via(V1~V6) along the direction of seal ring is 0.62
@NOTICE: It is a guidelines rule.
  M5S_DONUT = DONUT M5S == 1
  X1 = ANGLE M5S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V5S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.623 >=0.617 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.617 OPPOSITE REGION
  X6 = EXT X5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M5S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V5S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.623 >=0.617 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.617 OPPOSITE REGION
  Y6 = EXT Y5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}

SRCK_5_V6 {
@ Fixed Space between square square via(V1~V6) along the direction of seal ring is 0.62
@NOTICE: It is a guidelines rule.
  M6S_DONUT = DONUT M6S == 1
  X1 = ANGLE M6S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V6S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.623 >=0.617 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.617 OPPOSITE REGION
  X6 = EXT X5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M6S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V6S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.623 >=0.617 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.623 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.617 OPPOSITE REGION
  Y6 = EXT Y5 <=0.623 >=0.617 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_6_TV2 {
@ Fixed Space between square V7/TV1/TV2 along the direction of seal ring is 0.45
@NOTICE: It is a guidelines rule.
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance
  TM2S_DONUT = DONUT TM2S == 1
  X1 = ANGLE TM2S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = TV2S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.453 >=0.447 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.453 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.447 OPPOSITE REGION
  X6 = EXT X5 <=0.453 >=0.447 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE TM2S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = TV2S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] <=0.453 >=0.447 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.453 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.447 OPPOSITE REGION
  Y6 = EXT Y5 <=0.453 >=0.447 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}

SRCK_7 {
@ Minimum Space between inner CT slot and the metal ring edge is 0.706
@NOTICE: It is a guidelines rule.
  ENC CTS_SL M1S_INNER < 0.706 ABUT < 90 SINGULAR REGION
}
SRCK_8 {
@ Minimum Space between inner Via(V1~V6) slot and the metal ring edge is 0.702
@NOTICE: It is a guidelines rule.
  ENC V1S_SL M1S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V1S_SL M2S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V2S_SL M2S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V2S_SL M3S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V3S_SL M3S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V3S_SL M4S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V4S_SL M4S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V4S_SL M5S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M5S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M6S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M6S_INNER < 0.702 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M7S_INNER < 0.702 ABUT < 90 SINGULAR REGION
}
SRCK_9 {
@ Minimum Space between inner  V7,TV1,TV2 slot and the metal ring edge is 0.67
@NOTICE: It is a guidelines rule.
  ENC TV2S_SL M7S_INNER < 0.67 ABUT < 90 SINGULAR REGION
  ENC TV2S_SL TM2S_INNER < 0.67 ABUT < 90 SINGULAR REGION
}
SRCK_10 {
@ Minimum Space between inner CT slot is 1.543
@NOTICE: It is a guidelines rule.
  EXT (CTS_SL INSIDE M1S_INNER) < 1.543 ABUT < 90 SINGULAR REGION
}
SRCK_11 {
@ Minimum Space between inner V1~V6 slot is 1.535
@NOTICE: It is a guidelines rule.
 EXT (V1S_SL INSIDE M1S_INNER) < 1.535 ABUT < 90 SINGULAR REGION
 EXT (V2S_SL INSIDE M2S_INNER) < 1.535 ABUT < 90 SINGULAR REGION
 EXT (V3S_SL INSIDE M3S_INNER) < 1.535 ABUT < 90 SINGULAR REGION
 EXT (V4S_SL INSIDE M4S_INNER) < 1.535 ABUT < 90 SINGULAR REGION
 EXT (V5S_SL INSIDE M5S_INNER) < 1.535 ABUT < 90 SINGULAR REGION
 EXT (V6S_SL INSIDE M6S_INNER) < 1.535 ABUT < 90 SINGULAR REGION
}
SRCK_12 {
@ Minimum Space between inner V7,TV1,TV2 slot is 1.5
@NOTICE: It is a guidelines rule.
  EXT (TV2S_SL INSIDE TM2S_INNER) < 1.5 ABUT < 90 SINGULAR REGION
}
SRCK_13 {
@ Minimum Space between outer ring CT slot and the metal ring edge is 0.661
@NOTICE: It is a guidelines rule.
  ENC CTS_SL M1S_OUTER_RING < 0.661 ABUT < 90 SINGULAR REGION
}
SRCK_14 {
@ Minimum Space between outer ring via1~via6 slot and the metal ring edge is 0.662
@NOTICE: It is a guidelines rule.
  ENC V1S_SL M1S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
  ENC V1S_SL M2S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION

  ENC V2S_SL M2S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
  ENC V2S_SL M3S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION

  ENC V3S_SL M3S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
  ENC V3S_SL M4S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION

  ENC V4S_SL M4S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
  ENC V4S_SL M5S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION

  ENC V5S_SL M5S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M6S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION

  ENC V6S_SL M6S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M7S_OUTER_RING < 0.662 ABUT < 90 SINGULAR REGION
}
SRCK_15 {
@ Minimum Space between outer ring V7/TV1/TV2 slot and the metal ring edge is 0.64
@NOTICE: It is a guidelines rule.
  ENC TV2S_SL M7S_OUTER_RING < 0.64 ABUT < 90 SINGULAR REGION
  ENC TV2S_SL TM2S_OUTER_RING < 0.64 ABUT < 90 SINGULAR REGION
}
SRCK_16 {
@CT width and length, DRC waive CT slot pattern with width = 0.167um in seal ring region.	=	0.187	um
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance.			
@NOTICE: It is a guidelines rule.
LENGTH CTS_SQ <0.184
 LENGTH CTS_SQ >0.190

}
SRCK_17 {
@V1-V6 width and length. DRC waive V1-V6 slot pattern with width = 0.175um in seal ring region.	=	0.221	um
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance.
@NOTICE: It is a guidelines rule.
 LENGTH V1S_SQ < 0.218 
LENGTH V1S_SQ > 0.224
LENGTH V2S_SQ < 0.218 
LENGTH V2S_SQ > 0.224
LENGTH V3S_SQ < 0.218 
LENGTH V3S_SQ > 0.224
LENGTH V4S_SQ < 0.218 
LENGTH V4S_SQ > 0.224
LENGTH V5S_SQ < 0.218 
LENGTH V5S_SQ > 0.224
LENGTH V6S_SQ < 0.218 
LENGTH V6S_SQ > 0.224
}
SRCK_18 {
@V7, TV1, TV2 width and length. DRC waive V7, TV1, TV2 slot pattern with width = 0.21um in seal ring region.=0.39um
@SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18, DRC allows 0.003um checking tolerance.
@NOTICE: It is a guidelines rule.
 LENGTH TV2S_SQ < 0.387
LENGTH TV2S_SQ > 0.393
}
SRCK_19 {
@ Minimum Space between  CT and M1 edge in the die corner dummy relief area is 0.406
@NOTICE: It is a guidelines rule.
  X1 = ENC CTS_SQ M1S < 0.406 ABUT<90 SINGULAR REGION
  X1 IN CORN_ALL
}
SRCK_20 {
@ Minimum Space between via1~via6 and inter-metal edge in the die corner dummy relief area is 0.389 
@NOTICE: It is a guidelines rule.
  ENC (V1S_SQ AND CORN_ALL) M1S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO 
  ENC (V1S_SQ AND CORN_ALL) M2S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V2S_SQ AND CORN_ALL) M2S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V2S_SQ AND CORN_ALL) M3S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V3S_SQ AND CORN_ALL) M3S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V3S_SQ AND CORN_ALL) M4S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V4S_SQ AND CORN_ALL) M4S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V4S_SQ AND CORN_ALL) M5S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V5S_SQ AND CORN_ALL) M5S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V5S_SQ AND CORN_ALL) M6S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V6S_SQ AND CORN_ALL) M6S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (V6S_SQ AND CORN_ALL) M7S < 0.389 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
}
SRCK_21 {
@ Minimum Space between  via7/TV and TM edge in the die corner dummy relief area is 0.305 
@NOTICE: It is a guidelines rule.
  ENC (TV2S_SQ AND CORN_ALL) M7S < 0.305 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
  ENC (TV2S_SQ AND CORN_ALL) TM2S < 0.305 ABUT < 90 SINGULAR REGION OUTSIDE ALSO
}  
SRCK_22 {
@ Fixed Metal width of die corner dummy pattern for M1 to M7 is 1
@NOTICE: It is a guidelines rule.
  HOLE_M1_CORNER = HOLES M1_CORNER INNER
  HOLE_M2_CORNER = HOLES M2_CORNER INNER
  HOLE_M3_CORNER = HOLES M3_CORNER INNER
  HOLE_M4_CORNER = HOLES M4_CORNER INNER
  HOLE_M5_CORNER = HOLES M5_CORNER INNER
  HOLE_M6_CORNER = HOLES M6_CORNER INNER
  HOLE_M7_CORNER = HOLES M7_CORNER INNER

  EXT HOLE_M1_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M1_CORNER > 1 < 3 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M1_CORNER (ANGLE (M1_CORNER OR HOLE_M1_CORNER)  == 90 ) < 1 ABUT == 0 REGION
  ENC HOLE_M1_CORNER (ANGLE (M1_CORNER OR HOLE_M1_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M1_CORNER (ANGLE (M1_CORNER OR HOLE_M1_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M1_CORNER (ANGLE (M1_CORNER OR HOLE_M1_CORNER) == 0) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED

  EXT HOLE_M2_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M2_CORNER > 1 < 3 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M2_CORNER (ANGLE (M2_CORNER OR HOLE_M2_CORNER)  == 90 ) < 1 ABUT == 0 REGION
  ENC HOLE_M2_CORNER (ANGLE (M2_CORNER OR HOLE_M2_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M2_CORNER (ANGLE (M2_CORNER OR HOLE_M2_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M2_CORNER (ANGLE (M2_CORNER OR HOLE_M2_CORNER) == 0) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED

  EXT HOLE_M3_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M3_CORNER > 1 < 3 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M3_CORNER (ANGLE (M3_CORNER OR HOLE_M3_CORNER)  == 90 ) < 1 ABUT == 0 REGION
  ENC HOLE_M3_CORNER (ANGLE (M3_CORNER OR HOLE_M3_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M3_CORNER (ANGLE (M3_CORNER OR HOLE_M3_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M3_CORNER (ANGLE (M3_CORNER OR HOLE_M3_CORNER) == 0) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED

  EXT HOLE_M4_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M4_CORNER > 1 < 3 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M4_CORNER (ANGLE (M4_CORNER OR HOLE_M4_CORNER)  == 90 ) < 1 ABUT == 0 REGION
  ENC HOLE_M4_CORNER (ANGLE (M4_CORNER OR HOLE_M4_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M4_CORNER (ANGLE (M4_CORNER OR HOLE_M4_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M4_CORNER (ANGLE (M4_CORNER OR HOLE_M4_CORNER) == 0) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED

  EXT HOLE_M5_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M5_CORNER > 1 < 3 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M5_CORNER (ANGLE (M5_CORNER OR HOLE_M5_CORNER)  == 90 ) < 1 ABUT == 0 REGION
  ENC HOLE_M5_CORNER (ANGLE (M5_CORNER OR HOLE_M5_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M5_CORNER (ANGLE (M5_CORNER OR HOLE_M5_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M5_CORNER (ANGLE (M5_CORNER OR HOLE_M5_CORNER) == 0) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED

  EXT HOLE_M6_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M6_CORNER > 1 < 3 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M6_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER)  == 90 ) < 1 ABUT == 0 REGION
  ENC HOLE_M6_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M6_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M6_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 0) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED

  EXT HOLE_M7_CORNER < 1 ABUT<90 SINGULAR REGION
  EXT HOLE_M7_CORNER > 1 < 3 ABUT<90 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M7_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M7_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_M7_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 0) < 1 ABUT == 0 REGION
  ENC HOLE_M7_CORNER (ANGLE (M6_CORNER OR HOLE_M6_CORNER) == 90) > 1 < 3 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED 
}
SRCK_23_M1 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM1 = HOLES M1_CORNER
  NOT RECTANGLE XM1 == 1 BY == 1
}
SRCK_23_M2 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM2 = HOLES M2_CORNER
  NOT RECTANGLE XM2 == 1 BY == 1
}
SRCK_23_M3 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM3 = HOLES M3_CORNER
  NOT RECTANGLE XM3 == 1 BY == 1
}
SRCK_23_M4 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM4 = HOLES M4_CORNER
  NOT RECTANGLE XM4 == 1 BY == 1
}
SRCK_23_M5 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM5 = HOLES M5_CORNER
  NOT RECTANGLE XM5 == 1 BY == 1
}
SRCK_23_M6 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM6 = HOLES M6_CORNER
  NOT RECTANGLE XM6 == 1 BY == 1
}
SRCK_23_M7 {
@ Fixed Space between metal of die corner dummy pattern for M1 to M7  is 1
@NOTICE: It is a guidelines rule.
  XM7 = HOLES M7_CORNER
  NOT RECTANGLE XM7 == 1 BY == 1
}

SRCK_24 {
@ Fixed Top Metal width of die corner dummy pattern is 2
@NOTICE: It is a guidelines rule.

  HOLE_TM2_CORNER = HOLES TM2_CORNER INNER
  EXT HOLE_TM2_CORNER < 2 ABUT<90 SINGULAR REGION
  EXT HOLE_TM2_CORNER > 2 < 10 ABUT<90 SINGULAR OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_TM2_CORNER (ANGLE (TM2_CORNER OR HOLE_TM2_CORNER) == 0) < 2 ABUT == 0 REGION
  ENC HOLE_TM2_CORNER (ANGLE (TM2_CORNER OR HOLE_TM2_CORNER) == 90) > 2 < 10 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
  ENC HOLE_TM2_CORNER (ANGLE (TM2_CORNER OR HOLE_TM2_CORNER) == 0) < 2 ABUT == 0 REGION
  ENC HOLE_TM2_CORNER (ANGLE (TM2_CORNER OR HOLE_TM2_CORNER) == 90) > 2 < 10 ABUT== 0 OPPOSITE REGION EXCLUDE SHIELDED
}
SRCK_25_TM2 {
@ Fixed Space between TMs of die corner dummy pattern is 2
@NOTICE: It is a guidelines rule.
  XTM2 = HOLES TM2_CORNER
  NOT RECTANGLE XTM2 == 2 BY == 2
}
SRCK_26 {
@ Minimum CT distance from each other in die corner dummy area is 0.813
@NOTICE: It is a guidelines rule.
  EXT (CTS AND CORN_ALL) <0.813 ABUT < 90 SINGULAR REGION 
}
SRCK_27 {
@ Minimum Via distance from each other in die corner dummy area is 0.779
@NOTICE: It is a guidelines rule.
  EXT (V1S AND CORN_ALL) <0.779 ABUT < 90 SINGULAR REGION 
  EXT (V2S AND CORN_ALL) <0.779 ABUT < 90 SINGULAR REGION
  EXT (V3S AND CORN_ALL) <0.779 ABUT < 90 SINGULAR REGION
  EXT (V4S AND CORN_ALL) <0.779 ABUT < 90 SINGULAR REGION
  EXT (V5S AND CORN_ALL) <0.779 ABUT < 90 SINGULAR REGION
  EXT (V6S AND CORN_ALL) <0.779 ABUT < 90 SINGULAR REGION 
}
SRCK_28 {
@ Minimum TV1/TV2 distance from each other in die corner dummy area is 0.61
@NOTICE: It is a guidelines rule.
  EXT (TV2S AND CORN_ALL) <0.61 ABUT < 90 SINGULAR REGION
}
SRCK_29 {
@ Fixed Passivation slot width in MARKS covered areas is 2.2
@NOTICE: It is a guidelines rule.
@ SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18/29/33/34, DRC allows 0.003um checking tolerance.
  X = PAi AND MARKS
  X WITH WIDTH > 2.203
  X WITH WIDTH < 2.197
}
SRCK_30 {
@ Minimum Assembly isolation between active AA/GT/METAL/AL RDL patterns and internal metal ring edge is 10
@NOTICE: It is a guidelines rule.
  EXT (AA NOT INSIDE MARKS) MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
  EXT (GT NOT INSIDE MARKS) MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
  EXT MA_ALL MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
  EXT (ALRDLi NOT INSIDE MARKS) MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
}
SRCK_31 {
@Seal ring must be a close ring.
@DRC check CT/Metal/Via/Top metal/Top via/PA/ALPA layers and all the listed layers must be drawn.
@For non-SMIC standard seal ring design, SMIC cant guarantee the seal ring quality. Its strongly recommended to qualify in SMIC before it used in product tape-out.	
	MARKS NOT ENCLOSE (M1i TOUCH (HOLES M1i))
    MARKS NOT ENCLOSE (M2i TOUCH (HOLES M2i))
    MARKS NOT ENCLOSE (M3i TOUCH (HOLES M3i))
    MARKS NOT ENCLOSE (M4i TOUCH (HOLES M4i))
    MARKS NOT ENCLOSE (M5i TOUCH (HOLES M5i))
    MARKS NOT ENCLOSE (M6i TOUCH (HOLES M6i))
	MARKS NOT ENCLOSE (M7i TOUCH (HOLES M7i)) 
	MARKS NOT ENCLOSE (TM2i TOUCH (HOLES TM2i))  
    MARKS NOT ENCLOSE (V1i TOUCH (HOLES V1i))
    MARKS NOT ENCLOSE (V2i TOUCH (HOLES V2i))
    MARKS NOT ENCLOSE (V3i TOUCH (HOLES V3i))
    MARKS NOT ENCLOSE (V4i TOUCH (HOLES V4i))
    MARKS NOT ENCLOSE (V5i TOUCH (HOLES V5i))
    MARKS NOT ENCLOSE (V6i TOUCH (HOLES V6i))
    MARKS NOT ENCLOSE (TV2i TOUCH (HOLES TV2i))
    MARKS NOT ENCLOSE (CTi TOUCH (HOLES CTi))
    MARKS NOT ENCLOSE (PAi TOUCH (HOLES PAi))
    MARKS NOT ENCLOSE (ALPAi TOUCH (HOLES ALPAi))
}		
SRCK_33 {
@ Top metal enclosure of PA	>=	0.212	um
@ SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18/29/33/34, DRC allows 0.003um checking tolerance.			
 
  ENC RDLVIAS TM2S < 0.209 ABUT< 90 SINGULAR REGION
}
SRCK_34 {
@ALPA enclosure of PA	>=	0.989	um
@ SRCK.32	For SRCK.1/2/3/4/5/6/16/17/18/29/33/34, DRC allows 0.003um checking tolerance.			
 ALPAS = ALPAi AND MARKS
 ENC RDLVIAS ALPAS < 0.986 ABUT<90 SINGULAR REGION
}
#ENDIF

//*************************
// 0.11 Seal Ring
//*************************
#IFDEF SRCK_FOR_11 YES
GROUP GSRCK_11 SRCK_?_b
SRCK_1_b {
@	Contact slot width	=	0.185	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
X = INT CTS_SL <0.182 ABUT<90 SINGULAR REGION
  Y = CTS_SL WITH WIDTH > 0.188
  X OR Y
}	
SRCK_2_b {
@	V1-V6 slot width	=	0.194	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
 V1_NARROW = INT V1S_SL <0.191 ABUT<90 SINGULAR REGION
 V2_NARROW = INT V2S_SL <0.191 ABUT<90 SINGULAR REGION
 V3_NARROW = INT V3S_SL <0.191 ABUT<90 SINGULAR REGION
 V4_NARROW = INT V4S_SL <0.191 ABUT<90 SINGULAR REGION
 V5_NARROW = INT V5S_SL <0.191 ABUT<90 SINGULAR REGION
 V6_NARROW = INT V6S_SL <0.191 ABUT<90 SINGULAR REGION
 V1_WIDE = V1S_SL WITH WIDTH >0.197 
 V2_WIDE = V2S_SL WITH WIDTH >0.197
 V3_WIDE = V3S_SL WITH WIDTH >0.197
 V4_WIDE = V4S_SL WITH WIDTH >0.197
 V5_WIDE = V5S_SL WITH WIDTH >0.197
V6_WIDE = V6S_SL WITH WIDTH >0.197
 VN_NARROW = ((((V1_NARROW OR V2_NARROW) OR V3_NARROW) OR V4_NARROW) OR V5_NARROW) OR V6_NARROW 
 VN_WIDE = ((((V1_WIDE OR V2_WIDE) OR V3_WIDE) OR V4_WIDE) OR V5_WIDE) OR V6_WIDE
 VN_NARROW OR VN_WIDE
}
SRCK_3_b {
@V7, TV1, TV2 slot width	=	0.233	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
  TV2_NARROW = INT TV2S_SL <0.230 ABUT<90 SINGULAR REGION
  TV2_WIDE = TV2S_SL WITH WIDTH >0.236
  TV2_NARROW OR TV2_WIDE
  
}
SRCK_4_b {
@	Space between inner CT slot and the metal ring edge	>=	0.784	um
	ENC CTS_SL M1S_INNER < 0.784 ABUT < 90 SINGULAR REGION
}
SRCK_5_b {
@	Space between inner Via(V1~V6) slot and the metal ring edge	>=	0.779	um
  ENC V1S_SL M1S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V1S_SL M2S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V2S_SL M2S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V2S_SL M3S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V3S_SL M3S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V3S_SL M4S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V4S_SL M4S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V4S_SL M5S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M5S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M6S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M6S_INNER < 0.779 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M7S_INNER < 0.779 ABUT < 90 SINGULAR REGION
}
SRCK_6_b {
@	Space between inner V7,TV1,TV2 slot and the metal ring edge	>=	0.744	um
 
  ENC TV2S_SL M7S_INNER < 0.744 ABUT < 90 SINGULAR REGION
  ENC TV2S_SL TM2S_INNER < 0.744 ABUT < 90 SINGULAR REGION
}
SRCK_7_b {
@	CT width and length, DRC waive CT slot pattern with width = 0.185um in seal ring region.	=	0.208	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.			
 LENGTH CTS_SQ > 0.211
 LENGTH CTS_SQ <0.205
}
SRCK_8_b {
@	V1-V6 width and length, DRC waive via slot pattern with width = 0.195um in seal ring region.	=	0.245	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
LENGTH V1S_SQ < 0.242
LENGTH V1S_SQ > 0.248
LENGTH V2S_SQ < 0.242
LENGTH V2S_SQ > 0.248
LENGTH V3S_SQ < 0.242
LENGTH V3S_SQ > 0.248
LENGTH V4S_SQ < 0.242
LENGTH V4S_SQ > 0.248
LENGTH V5S_SQ < 0.242 
LENGTH V5S_SQ > 0.248
LENGTH V6S_SQ < 0.242 
LENGTH V6S_SQ > 0.248
}
SRCK_9_b {
@	V7, TV1, TV2 width and length, DRC waive top via slot pattern with width = 0.233um in seal ring region.	=	0.433	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.

LENGTH TV2S_SQ < 0.43
LENGTH TV2S_SQ > 0.436
}
SRCK_10_b {
@	Space between CT along the direction of seal ring	=	0.724	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
 M1S_DONUT = DONUT M1S == 1
  X1 = ANGLE M1S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = CTS_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] <=0.727 >=0.721  OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.727 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.721 OPPOSITE REGION
  X6 = EXT X5 <=0.727 >=0.721  OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M1S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = CTS_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.721 <=0.727 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.727 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.721 OPPOSITE REGION
  Y6 = EXT Y5 >=0.721 <=0.727 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)

}
SRCK_11_V1_b {
@	Space between via(V1~V6) along the direction of seal ring	=	0.688	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
  M1S_DONUT = DONUT M1S == 1
  X1 = ANGLE M1S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V1S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >=0.685 <= 0.691 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.685 OPPOSITE REGION
  X6 = EXT X5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M1S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V1S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.685 <= 0.691 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.685 OPPOSITE REGION
  Y6 = EXT Y5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_11_V2_b {
@	Space between via(V1~V6) along the direction of seal ring	=	0.688	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
  M2S_DONUT = DONUT M2S == 1
  X1 = ANGLE M2S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V2S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >=0.685 <= 0.691 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.685 OPPOSITE REGION
  X6 = EXT X5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M2S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V2S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.685 <= 0.691 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.685 OPPOSITE REGION
  Y6 = EXT Y5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_11_V3_b {
@	Space between via(V1~V6) along the direction of seal ring	=	0.688	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
M3S_DONUT = DONUT M3S == 1
  X1 = ANGLE M3S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V3S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >=0.685 <= 0.691 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.685 OPPOSITE REGION
  X6 = EXT X5 >=0.685 <=0.691 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M3S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V3S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.685 <= 0.691 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.685 OPPOSITE REGION
  Y6 = EXT Y5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_11_V4_b {
@	Space between via(V1~V6) along the direction of seal ring	=	0.688	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
M4S_DONUT = DONUT M4S == 1
  X1 = ANGLE M4S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V4S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >=0.685 <= 0.691 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.685 OPPOSITE REGION
  X6 = EXT X5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M4S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V4S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.685 <= 0.691 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.685 OPPOSITE REGION
  Y6 = EXT Y5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_11_V5_b {
@	Space between via(V1~V6) along the direction of seal ring	=	0.688	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
  M5S_DONUT = DONUT M5S == 1
  X1 = ANGLE M5S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V5S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >=0.685 <= 0.691 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.685 OPPOSITE REGION
  X6 = EXT X5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M5S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V5S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.685 <= 0.691 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.685 OPPOSITE REGION
  Y6 = EXT Y5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}
SRCK_11_V6_b {
@	Space between via(V1~V6) along the direction of seal ring	=	0.688	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
  M6S_DONUT = DONUT M6S == 1
  X1 = ANGLE M6S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = V6S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >=0.685 <= 0.691 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.685 OPPOSITE REGION
  X6 = EXT X5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE M6S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = V6S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >=0.685 <= 0.691 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.691 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.685 OPPOSITE REGION
  Y6 = EXT Y5 >=0.685 <= 0.691 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}

SRCK_12_TV2_b {
@	Space between V7/TV1/TV2 along the direction of seal ring.	=	0.50	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
  TM2S_DONUT = DONUT TM2S == 1
  X1 = ANGLE TM2S_DONUT == 90
  X2 = INT X1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  X3 = TV2S_SQ INTERACT X2
  X4 = ANGLE X3 == 0
  X5 = EXT [X4] >= 0.497 <= 0.503 OPPOSITE  
  X3 NOT WITH EDGE X5
  EXT X4 > 0.503 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT X4 < 0.497 OPPOSITE REGION
  X6 = EXT X5 >= 0.497 <= 0.503 OPPOSITE REGION
  NOT RECTANGLE (X3 OR X6)

  Y1 = ANGLE TM2S_DONUT == 0
  Y2 = INT Y1 <= 14 OPPOSITE REGION EXCLUDE SHIELDED
  Y3 = TV2S_SQ INTERACT Y2
  Y4 = ANGLE Y3 == 90
  Y5 = EXT [Y4] >= 0.497 <= 0.503 OPPOSITE  
  Y3 NOT WITH EDGE Y5
  EXT Y4 > 0.503 < 20 OPPOSITE REGION EXCLUDE SHIELDED
  EXT Y4 < 0.497 OPPOSITE REGION
  Y6 = EXT Y5 >= 0.497 <= 0.503 OPPOSITE REGION
  NOT RECTANGLE (Y3 OR Y6)
}

SRCK_13_b {
@	Space between outer ring CT slot and the metal ring edge		0.734	um
 ENC CTS_SL M1S_OUTER_RING < 0.734 ABUT < 90 SINGULAR REGION
}
SRCK_14_b {
@	Space between outer ring via1~via6 slot and the metal ring edge		0.735	um
  ENC V1S_SL M1S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V1S_SL M2S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION

  ENC V2S_SL M2S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V2S_SL M3S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION

  ENC V3S_SL M3S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V3S_SL M4S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION

  ENC V4S_SL M4S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V4S_SL M5S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M5S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V5S_SL M6S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M6S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
  ENC V6S_SL M7S_OUTER_RING < 0.735 ABUT < 90 SINGULAR REGION
}
SRCK_15_b {
@	Space between outer ring V7/TV1/TV2 slot and the metal ring edge		0.71	um
  
  ENC TV2S_SL M7S_OUTER_RING < 0.71 ABUT < 90 SINGULAR REGION
  ENC TV2S_SL TM2S_OUTER_RING < 0.71 ABUT < 90 SINGULAR REGION
}
SRCK_16_b {
@	Passivation slot width in MARKS covered areas	=	2.442	um
@SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16, DRC allows 0.003um checking tolerance.
X = PAi AND MARKS	
 X WITH WIDTH > 2.445 
 X WITH WIDTH < 2.439
 
}
SRCK_17_b {
@	Space between active AA/GT/METAL/Al RDL patterns and internal metal ring edge assembly isolation.		10	um
  EXT (AA NOT INSIDE MARKS) MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
  EXT (GT NOT INSIDE MARKS) MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
  EXT MA_ALL MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
  EXT (ALRDLi NOT INSIDE MARKS) MS_RING_INNER < 10 ABUT < 90 SINGULAR REGION
}
SRCK_18_b {
@	Seal ring must be a close ring.
@DRC check CT/Metal/Via/Top metal/Top via/PA/ALPA layers and all the listed layers must be drawn.
@For non-SMIC standard seal ring design, SMIC cant guarantee the seal ring quality. Its strongly recommended to qualify in SMIC before it used in product tape-out.			
	MARKS NOT ENCLOSE (M1i TOUCH (HOLES M1i))
    MARKS NOT ENCLOSE (M2i TOUCH (HOLES M2i))
    MARKS NOT ENCLOSE (M3i TOUCH (HOLES M3i))
    MARKS NOT ENCLOSE (M4i TOUCH (HOLES M4i))
    MARKS NOT ENCLOSE (M5i TOUCH (HOLES M5i))
    MARKS NOT ENCLOSE (M6i TOUCH (HOLES M6i))
	MARKS NOT ENCLOSE (M7i TOUCH (HOLES M7i)) 
	MARKS NOT ENCLOSE (TM2i TOUCH (HOLES TM2i))  
    MARKS NOT ENCLOSE (V1i TOUCH (HOLES V1i))
    MARKS NOT ENCLOSE (V2i TOUCH (HOLES V2i))
    MARKS NOT ENCLOSE (V3i TOUCH (HOLES V3i))
    MARKS NOT ENCLOSE (V4i TOUCH (HOLES V4i))
    MARKS NOT ENCLOSE (V5i TOUCH (HOLES V5i))
    MARKS NOT ENCLOSE (V6i TOUCH (HOLES V6i))
    MARKS NOT ENCLOSE (TV2i TOUCH (HOLES TV2i))
    MARKS NOT ENCLOSE (CTi TOUCH (HOLES CTi))
    MARKS NOT ENCLOSE (PAi TOUCH (HOLES PAi))
    MARKS NOT ENCLOSE (ALPAi TOUCH (HOLES ALPAi))
}
SRCK_20_b {
@ Top metal enclosure of PA	>=	0.235	um
@ SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16/20/21, DRC allows 0.002um checking tolerance.
  
  ENC RDLVIAS TM2S < 0.232 ABUT< 90 SINGULAR REGION
 
}
SRCK_21_b {
@ ALPA enclosure of PA	>=	1.099	um
@ SRCK.19	For SRCK.1/2/3/7/8/9/10/11/12/16/20/21, DRC allows 0.002um checking tolerance.
  ALPAS = ALPAi AND MARKS
 ENC RDLVIAS ALPAS < 1.096 ABUT<90 SINGULAR REGION

}
#ENDIF

//============================
//  Conventional Check
//============================

GROUP GConvention Convention_?

Convention_1 {
@ NW not interacting with N+ pickup is not allowed.
 NW NOT INTERACT NTAPi
}

Convention_2 {
@ PMOS in PW is not allowed, exclude SRAM region
 (PW AND PGATE) NOT INSIDE SRAM
}

Convention_3 {
@ AA must be fully enclosed by (SN OR SP), except AA interact RESNW.
 X = (AA NOT AADUM) NOT INTERACT RESNW
 (X NOT SN) NOT SP
}
LAYER EMPTY_4 1001
Convention_4 {
@ For two top-metal process, TM1 is a must layer. 
@ For one top-metal process, TM1 layer is not allowed.
TM1 OR EMPTY_4
}


//============================
//  Dummy Check Rule
//============================

CONNECT AAi AADUM NTAPi

GROUP GAADUMC AADUMCK_?

AADUMCK_1 {
@ AA width for interconnect >= 0.15um.
@ Space between AAs that are on the same well >= 0.21um, INDMY (212,0) covered regions are excluded for this rule check.
@ AA area (in m2) >= 0.10.
@ AA or AA dummy pattern is not allowed to straddle on a boundary of NW.
  INT AADUM < 0.15 ABUT < 90 REGION
  EXT (AADUM NOT INDMY) < 0.21 SINGULAR REGION CONNECTED
  AREA AADUM < 0.1
  AADUM CUT NWi
}

AADUMCK_2 {
@ Space between AA dummy and AA main patterns >= 0.21um. INDMY (212,0) covered regions are excluded for this rule check.
  EXT (AADUM NOT INDMY) (AAi NOT INDMY) < 0.21 SINGULAR REGION
}

AADUMCK_3 {
@ Space between AA dummy and poly main pattern >= 0.07um. INDMY (212,0) covered regions are excluded for this rule check.
  EXT (AADUM NOT INDMY) ((GTi NOT INTERACT AADUM) NOT INDMY) < 0.07 SINGULAR REGION
}

AADUMCK_4 {
@ AA dummy patterns cannot touch AA/GT main patterns.
  AADUM INTERACT (AAi OR GTi)
}

AADUMCK_5 {
@ Dummy AA pattern is not allowed inside RESAA/RESNW/RESP1 covered areas.
  AADUM INTERACT ((RESAA OR RESNW) OR RESP1)
}

AADUMCK_6 {
@ Space between dummy AA and DUMBA /NW edge >= 2um.
  TEMP = DUMBA OR NWi
  EXT AADUM TEMP < 2 SINGULAR REGION
  ENC AADUM TEMP < 2 SINGULAR REGION
}

GROUP GGTDUMC GTDUMCK_?

GTDUMCK_1 {
@ Interconnect width >= 0.13um.
@ Space between GTs >= 0.18um, INDMY (212,0) covered regions are excluded for this rule check.
  INT GTDUM < 0.13 SINGULAR REGION
  EXT (GTDUM NOT INDMY) < 0.18 SINGULAR REGION
}

GTDUMCK_2 {
@ Space between poly dummy and poly main pattern >= 0.18um. INDMY (212,0) covered regions are excluded for this rule check.
  EXT (GTDUM NOT INDMY) (GT NOT INDMY) < 0.18 SINGULAR REGION
}

GTDUMCK_3 {
@ Dummy poly pattern is not allowed to exist above AA (not include dummy AA).
@ Space between poly dummy and AA main pattern >= 0.07, INDMY (212,0) covered regions are excluded for this rule check.
  GTDUM AND AAi
  EXT (GTDUM NOT INDMY) AAi < 0.07
}

GTDUMCK_4 {
@ Poly dummy patterns cannot touch GT main patterns.
  GTDUM INTERACT GTi
}

GTDUMCK_5 {
@ Dummy poly pattern is not allowed inside RESAA/RESNW/RESP1 covered areas.
  GTDUM INTERACT ((RESAA OR RESNW) OR RESP1)
}

GTDUMCK_6 {
@ Space between dummy poly and DUMBP >= 2um.
  EXT GTDUM DUMBP < 2.00 ABUT < 90 SINGULAR REGION
}

GROUP GMnDUMC MnDUMCK_?

MnDUMCK_1 {
@ M1DUM width is 0.16
  INT M1DUM < 0.16 ABUT < 90 SINGULAR REGION
@ Space between M1DUM is 0.17
  EXT M1DUM < 0.17 ABUT < 90 SINGULAR REGION
@ Space between M1s with one or both M1 width greater than 10um is 0.5
  X = M1DUM WITH WIDTH > 10
  EXT M1DUM X < 0.5 ABUT < 89.9 REGION MEASURE ALL
@ M1DUM area is 0.08
  AREA M1DUM < 0.08
@ Dielectric area enclosed by M1(um2) is 0.17
  AREA ((HOLES M1DUM INNER) NOT M1DUM) < 0.17
}

MnDUMCK_2 {
@ Space between M1 dummy patterns and M1 main patterns must not violate M1.2 and M1.3c.
 EXT M1DUM (M1ib NOT M1SLOT) < 0.17 ABUT < 90 SINGULAR REGION
 EXT M1DUM (M1i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
 EXT M1i (M1DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
}

MnDUMCK_3 {
@ Mn dummy patterns must not violate Mn.1, Mn.2, Mn.3c, Mn.4, Mn.5  (n=2~3).

  INT M2DUM < 0.16 ABUT < 90 SINGULAR REGION
  INT M3DUM < 0.16 ABUT < 90 SINGULAR REGION
  INT M4DUM < 0.16 ABUT < 90 SINGULAR REGION
  INT M5DUM < 0.16 ABUT < 90 SINGULAR REGION
  INT M6DUM < 0.16 ABUT < 90 SINGULAR REGION
  INT M7DUM < 0.16 ABUT < 90 SINGULAR REGION

  EXT M2DUM < 0.17 ABUT < 90 SINGULAR REGION
  EXT M3DUM < 0.17 ABUT < 90 SINGULAR REGION
  EXT M4DUM < 0.17 ABUT < 90 SINGULAR REGION
  EXT M5DUM < 0.17 ABUT < 90 SINGULAR REGION
  EXT M6DUM < 0.17 ABUT < 90 SINGULAR REGION
  EXT M7DUM < 0.17 ABUT < 90 SINGULAR REGION

  EXT M2DUM (M2DUM WITH WIDTH > 10) < 0.5 ABUT < 89.9 REGION MEASURE ALL
  EXT M3DUM (M3DUM WITH WIDTH > 10) < 0.5 ABUT < 89.9 REGION MEASURE ALL
  EXT M4DUM (M4DUM WITH WIDTH > 10) < 0.5 ABUT < 89.9 REGION MEASURE ALL
  EXT M5DUM (M5DUM WITH WIDTH > 10) < 0.5 ABUT < 89.9 REGION MEASURE ALL
  EXT M6DUM (M6DUM WITH WIDTH > 10) < 0.5 ABUT < 89.9 REGION MEASURE ALL
  EXT M7DUM (M7DUM WITH WIDTH > 10) < 0.5 ABUT < 89.9 REGION MEASURE ALL

  AREA M2DUM < 0.08
  AREA M3DUM < 0.08
  AREA M4DUM < 0.08
  AREA M5DUM < 0.08
  AREA M6DUM < 0.08
  AREA M7DUM < 0.08

  AREA ((HOLES M2DUM INNER) NOT M2DUM ) < 0.17
  AREA ((HOLES M3DUM INNER) NOT M3DUM ) < 0.17
  AREA ((HOLES M4DUM INNER) NOT M4DUM ) < 0.17
  AREA ((HOLES M5DUM INNER) NOT M5DUM) < 0.17
  AREA ((HOLES M6DUM INNER) NOT M6DUM) < 0.17
  AREA ((HOLES M7DUM INNER) NOT M7DUM) < 0.17
}

MnDUMCK_4 {
@ Space between Mn dummy patterns and Mn main patterns must not violate Mn.2 and Mn.3c. (n=2~3).

  EXT M2DUM (M2ib NOT M2SLOT) < 0.17 ABUT < 90 SINGULAR REGION
  EXT M3DUM (M3ib NOT M3SLOT) < 0.17 ABUT < 90 SINGULAR REGION
  EXT M4DUM (M4ib NOT M4SLOT) < 0.17 ABUT < 90 SINGULAR REGION
  EXT M5DUM (M5ib NOT M5SLOT) < 0.17 ABUT < 90 SINGULAR REGION
  EXT M6DUM (M6ib NOT M6SLOT) < 0.17 ABUT < 90 SINGULAR REGION
  EXT M7DUM (M7ib NOT M7SLOT) < 0.17 ABUT < 90 SINGULAR REGION
 
  EXT M2DUM (M2i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M3DUM (M3i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M4DUM (M4i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M5DUM (M5i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M6DUM (M6i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M7DUM (M7i WITH WIDTH > 10) < 0.5 ABUT < 90 REGION

  EXT M2i (M2DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M3i (M3DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M4i (M4DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M5i (M5DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M6i (M6DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
  EXT M7i (M7DUM WITH WIDTH > 10) < 0.5 ABUT < 90 REGION
}

MnDUMCK_5 {
@ Mn dummy metal can not be interacted with Mn metal design patterns. (n=1~3).
  M1DUM INTERACT (M1ib NOT M1SLOT)
  M2DUM INTERACT (M2ib NOT M2SLOT)
  M3DUM INTERACT (M3ib NOT M3SLOT)
  M4DUM INTERACT (M4ib NOT M4SLOT)
  M5DUM INTERACT (M5ib NOT M5SLOT)
  M6DUM INTERACT (M6ib NOT M6SLOT)
  M7DUM INTERACT (M7ib NOT M7SLOT)
}

MnDUMCK_6 {
@ Space between dummy metal and DUMBM >= 2um.
  EXT M1DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
  EXT M2DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
  EXT M3DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
  EXT M4DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
  EXT M5DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
  EXT M6DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
  EXT M7DUM DUMBM < 2 ABUT < 90 SINGULAR REGION
}

TM2DUMC = TM2DUM OR M8DUM
TMM = (TM2aib OR M8ib) NOT (M8SLOT OR TM2SLOT) 
GROUP GTM2DUMC TM2DUMCK_?
TM2DUMCK_1 {
@ TM dummy patterns must not violate TM.1, TM.2, TM.4, TM.5, TM.6.
  INT TM2DUMC < 0.42 ABUT < 90 SINGULAR REGION
  EXT TM2DUMC < 0.42 ABUT < 90 REGION
  EXT TM2DUMC (TM2DUMC WITH WIDTH > 2) < 0.50 ABUT < 90 REGION
  AREA TM2DUMC < 0.42
  AREA ((HOLES TM2DUMC INNER) NOT TM2DUMC)  < 1.00
}

TM2DUMCK_2 {
@ Space between TM dummy patterns and TM main patterns must not violate TM.2 and TM.4.
  EXT TM2DUMC TMM < 0.42 ABUT < 90 REGION
  EXT TM2DUMC (TMM WITH WIDTH > 2) < 0.50 ABUT < 90 REGION
  EXT TMM (TM2DUMC WITH WIDTH > 2) < 0.50 ABUT < 90 REGION
}

TM2DUMCK_3 {
@ TM dummy metal can not interact with TM metal design patterns.
  TM2DUMC INTERACT TMM
}

TM2DUMCK_4 {
@ Space between TM dummy patterns and DUMBM >= 2um.
  EXT TM2DUMC DUMBM < 2 ABUT < 90 SINGULAR REGION
}

GROUP GMTT2DUMC MTT2DUMCK_?

MTT2DUMCK_1 {
@ MTT2 dummy patterns must not violate MTT2.1, MTT2.2a, MTT2.2b, MTT2.6.
  INT TM2DUMC < 1.50 ABUT < 90 SINGULAR REGION
  EXT TM2DUMC < 1.50 ABUT < 90 REGION
  EXT TM2DUMC (TM2DUMC WITH WIDTH > 16) < 3.00 ABUT < 90 REGION
  AREA TM2DUMC < 2.25
}

MTT2DUMCK_2 {
@ Space between MTT2DUM patterns and MTT2 main patterns must not violate MTT2.2a and MTT2.2b.
 EXT TM2DUMC TMM < 1.50 ABUT < 90 REGION
 EXT TM2DUMC (TMM WITH WIDTH > 16) < 3.00 ABUT < 90 REGION
 EXT TMM (TM2DUMC WITH WIDTH > 16) < 3.00 ABUT < 90 REGION
}

MTT2DUMCK_3 {
@ MTT2DUM metal can not interact with MTT2 metal design patterns.
  TM2DUMC INTERACT TMM
}

MTT2DUMCK_4 {
@ Space between MTT2DUM patterns and DUMBM >= 2um.
  EXT TM2DUMC DUMBM < 2 ABUT < 90 SINGULAR REGION
}


//=====================================
//  ESD - design and layout guideline
//=====================================

GROUP GESD ESD_?

EGT = GT AND ESDIO2
EGATE = GATE AND ESDIO2
ENACT = NACT AND ESDIO2
EPACT = PACT AND ESDIO2
ENTAP = NTAP AND ESDIO2
EPTAP = PTAP AND ESDIO2
ENMOS = ENACT ENCLOSE EGATE
EPMOS = EPACT ENCLOSE EGATE
ENMOS_SD = ENMOS NOT EGATE
EPMOS_SD = EPMOS NOT EGATE

ECT = CT AND ESDIO2
EGATELV = EGATE NOT DG
EGATEHV = EGATE AND DG
ESAB = SAB AND ESDIO2

ENMOS_S = (ENMOS_SD NOT ESAB) TOUCH EGATE
ENMOS_D = (ENMOS_SD NOT ESAB) NOT TOUCH EGATE
EPMOS_S = (EPMOS_SD NOT ESAB) TOUCH EGATE
EPMOS_D = (EPMOS_SD NOT ESAB) NOT TOUCH EGATE
EMOS_D = ENMOS_D OR EPMOS_D
EMOS_S = ENMOS_S OR EPMOS_S

ESAB_HO = (HOLES ESAB INNER EMPTY) OR EMOS_D

ECT_S = ECT OUTSIDE ESAB_HO
ECT_D = ECT INSIDE ESAB_HO

EGATE_W = (GT INSIDE EDGE AA) INSIDE EDGE ESDIO2
EGATE_L = (AA INSIDE EDGE GT) INSIDE EDGE ESDIO2
EPOLYFINGERA = GT INTERACT EGATE
EPOLYFINGERB = INT EPOLYFINGERA < 0.01 ABUT==90 REGION
EPOLYFINGER = EPOLYFINGERA INTERACT EPOLYFINGERB >= 4
EGATE_FW = EGATE_W COIN EDGE EPOLYFINGER
EGATE_F = EGATE AND EPOLYFINGER

EGATELVF = EGATELV AND EPOLYFINGER
EGATEHVF = EGATEHV AND EPOLYFINGER

ENGUARDHOLE = HOLES ENTAP INNER EMPTY
EPGUARDHOLE = HOLES EPTAP INNER EMPTY
//for ESD_3_G
ENMOS_DRAIN = (ENMOS_SD INTERACT ENMOS_D) INTERACT ECT
ENGATE_D_EMPTY = EMPTY_3 OR (ESDIO2 AND ENMOS_DRAIN)

EPMOS_DRAIN = (EPMOS_SD INTERACT EPMOS_D) INTERACT ECT
EPGATE_D_EMPTY = EMPTY_3 OR (ESDIO2 AND EPMOS_DRAIN)
EGATE_CASCODED = (EGATE AND ESDIO2) AND ESD5V
ESD3C_1 = EXPAND EDGE ((EGATE NOT EGATE_CASCODED) INSIDE EDGE AA) INSIDE BY 0.001
ESD3C_2 = EXPAND EDGE ((EGATE_CASCODED NOT INSIDE SAB) INSIDE EDGE AA) INSIDE BY 0.001

ESD3C = ESD3C_1 OR ESD3C_2
ESD3C_EMPTY = EMPTY_3 OR ESD3C

NESDCLP_NOSAB = (NACT AND ESDIO2) NOT INTERACT SAB
PESDCLP_NOSAB = (PACT AND ESDIO2) NOT INTERACT SAB
ENGATE_NOSAB = GATE AND NESDCLP_NOSAB
EPGATE_NOSAB = GATE AND PESDCLP_NOSAB
EGATE_NOSAB = ENGATE_NOSAB OR EPGATE_NOSAB

EPGATE = EGATE AND EPACT
ENGATE = EGATE AND ENACT

ESD_2_G {
@ Unit finger width(F) of NMOS and PMOS for I/O buffer and Vdd to Vss protection is >=20um <=60um
 PATH LENGTH EGATE_FW < 20
 PATH LENGTH EGATE_FW > 60
}

CONNECT EGATE EPOLYFINGER
//Connect for ESD_3_G
LAYER   EMPTY_3   1000
GT_EMPTY_3 = GTi OR EMPTY_3
ECT_EMPTY =CTi OR EMPTY_3

M1_EMPTY_3 = M1i OR EMPTY_3
M2_EMPTY_3 = M2i OR EMPTY_3
M3_EMPTY_3 = M3i OR EMPTY_3
M4_EMPTY_3 = M4i OR EMPTY_3
M5_EMPTY_3 = M5i OR EMPTY_3
M6_EMPTY_3 = M6i OR EMPTY_3
M7_EMPTY_3 = M7i OR EMPTY_3
TM2_EMPTY_3 = TM2i OR EMPTY_3
ALPA_EMPTY_3 = ALPAi OR EMPTY_3
PA_EMPTY_3 =PAi OR EMPTY_3
TV2_EMPTY_3 = TV2i OR EMPTY_3
V6_EMPTY_3 = V6i OR EMPTY_3
V5_EMPTY_3 = V5i OR EMPTY_3
V4_EMPTY_3 = V4i OR EMPTY_3
V3_EMPTY_3 = V3i OR EMPTY_3
V2_EMPTY_3 = V2i OR EMPTY_3
V1_EMPTY_3 = V1i OR EMPTY_3
MIM_EMPTY_3 =MIMi OR EMPTY_3
P2_EMPTY_3= P2i OR EMPTY_3

CONNECT ALPA_EMPTY_3 TM2_EMPTY_3 BY PA_EMPTY_3

#IFDEF MIM one_mask
TV2_NOTMIM_1_1 = TV2_EMPTY_3 NOT MIMi
TV2_ANDMIM_1_1 = TV2_EMPTY_3 AND MIMi
CONNECT TM2_EMPTY_3 MIM_EMPTY_3 BY TV2_ANDMIM_1_1
CONNECT TM2_EMPTY_3 M7_EMPTY_3 BY TV2_NOTMIM_1_1
CONNECT M7_EMPTY_3 M6_EMPTY_3 BY V6_EMPTY_3
CONNECT M6_EMPTY_3 M5_EMPTY_3 BY V5_EMPTY_3
CONNECT M5_EMPTY_3 M4_EMPTY_3 BY V4_EMPTY_3
CONNECT M4_EMPTY_3 M3_EMPTY_3 BY V3_EMPTY_3
CONNECT M3_EMPTY_3 M2_EMPTY_3 BY V2_EMPTY_3
CONNECT M2_EMPTY_3 M1_EMPTY_3 BY V1_EMPTY_3
#ENDIF
#IFDEF MIM two_mask
V6_ANDP2_2_2 = (V6_EMPTY_3 AND P2i) NOT MIMi
V6_ANDMIM_2_2 = V6_EMPTY_3 AND MIMi
V6_NOTMIM_2_2 = (V6_EMPTY_3 NOT MIMi) NOT P2i
CONNECT TM2_EMPTY_3 M7_EMPTY_3 BY TV2_EMPTY_3
CONNECT M7_EMPTY_3 MIM_EMPTY_3 BY V6_ANDMIM_2_2
CONNECT M7_EMPTY_3 P2_EMPTY_3 BY V6_ANDP2_2_2
CONNECT M7_EMPTY_3 M6_EMPTY_3 BY V6_NOTMIM_2_2
CONNECT M6_EMPTY_3 M5_EMPTY_3 BY V5_EMPTY_3
CONNECT M5_EMPTY_3 M4_EMPTY_3 BY V4_EMPTY_3
CONNECT M4_EMPTY_3 M3_EMPTY_3 BY V3_EMPTY_3
CONNECT M3_EMPTY_3 M2_EMPTY_3 BY V2_EMPTY_3
CONNECT M2_EMPTY_3 M1_EMPTY_3 BY V1_EMPTY_3
#ENDIF
#IFDEF MIM stack_mim
MIM_up_3_3 = (MIMi ENCLOSE V6) OR EMPTY_3
MIM_down_3_3 = (MIMi ENCLOSE V5) OR EMPTY_3
MIM_bot1_3_3 = (M6 AND MIM_up_3_3) OR EMPTY_3
MIM_bot2_3_3 = (M5 AND MIM_down_3_3) OR EMPTY_3
V5_ANDMIM_3_3 = (V5 AND MIM_down_3_3) OR EMPTY_3
V5_NOTMIM_3_3 = (V5 NOT MIM_down_3_3) OR EMPTY_3
V6_ANDMIM_3_3 = (V6 AND MIM_up_3_3) OR EMPTY_3
V6_NOTMIM_3_3 = (V6 NOT MIM_up_3_3) OR EMPTY_3
CONNECT TM2_EMPTY_3 M7_EMPTY_3 BY TV2_EMPTY_3
CONNECT M7_EMPTY_3 MIM_up_3_3 BY V6_ANDMIM_3_3
CONNECT MIM_bot1_3_3 MIM_down_3_3 BY V5_ANDMIM_3_3
CONNECT M6_EMPTY_3 MIM_bot1_3_3
CONNECT M5_EMPTY_3 MIM_bot2_3_3
CONNECT M7_EMPTY_3 M6_EMPTY_3 BY V6_NOTMIM_3_3
CONNECT M6_EMPTY_3 M5_EMPTY_3 BY V5_NOTMIM_3_3
CONNECT M5_EMPTY_3 M4_EMPTY_3 BY V4_EMPTY_3
CONNECT M4_EMPTY_3 M3_EMPTY_3 BY V3_EMPTY_3
CONNECT M3_EMPTY_3 M2_EMPTY_3 BY V2_EMPTY_3
CONNECT M2_EMPTY_3 M1_EMPTY_3 BY V1_EMPTY_3
#ENDIF
CONNECT ENGATE_D_EMPTY ESD3C_EMPTY
CONNECT EPGATE_D_EMPTY ESD3C_EMPTY
CONNECT ENGATE_D_EMPTY M1_EMPTY_3 BY ECT_EMPTY
CONNECT EPGATE_D_EMPTY M1_EMPTY_3 BY ECT_EMPTY


ESD_3_G {
@ Minmum Channel width of NMOS and PMOS for I/O buffer and Vdd to Vss protection is >= 360 (Channel width = Fingers width * Finger number)
X = NET AREA RATIO ENGATE_D_EMPTY ESD3C_EMPTY [AREA(ESD3C_EMPTY)/0.001] < 360
    (X INTERACT ENGATE) NOT INTERACT EGATE_NOSAB
Y = NET AREA RATIO EPGATE_D_EMPTY ESD3C_EMPTY [AREA(ESD3C_EMPTY)/0.001] < 360
    (Y INTERACT EPGATE) NOT INTERACT EGATE_NOSAB
}

#IFDEF IO 1533
ESD_4a_G {
@ Gate length for 3.3V I/O NMOS is >= 0.35um
X = GT INSIDE EDGE (ENACT AND DG)
INT X < 0.35 ABUT<90 REGION
}

ESD_4b_G {
@ Gate length for 3.3V I/O PMOS is >= 0.3um
 X = GT INSIDE EDGE (EPACT AND DG)
 INT X < 0.3  ABUT<90 REGION
}
#ENDIF

#IFDEF IO 1225
ESD_4c_G {
@ Channel length of 2.5V I/O N/PMOS for protection device is >= 0.28
 X = GT INSIDE EDGE ((AA AND ESDIO2) AND DG)
 INT X < 0.28 ABUT<90 REGION
}
#ENDIF

ESD_4d_G {
@ Channel length of 1.2/1.5V core N/PMOS for protection device is >= 0.13
 X = GT INSIDE EDGE ((AA AND ESDIO2) NOT DG)
 INT X < 0.13 ABUT<90 REGION
}

ESD_5_G {
@ Space from poly edge to CT edge on source side (SCP) for NMOS and PMOS is >= 0.5um
  EXT ECT_S EGT < 0.5 ABUT<90 SINGULAR REGION
}

ESD_6_G {
@ Space from poly edge to CT edge on drain side (DCP) is >= 1.8um
 EXT ECT_D EGT < 1.8 ABUT<90 SINGULAR REGION
}

ESD_7_G {
@ SAB should block on drain side of NMOS and PMOS (contact region should be kept silicided.)
@ SAB drawn on source side is not necessary.
 EGATE NOT INTERACT SAB
 ECT AND ESAB
}

#IFDEF Guideline_ESD_Rule YES
#DEFINE ESD_8_G YES
#ENDIF

#IFDEF ESD1_Approach_A YES
#DEFINE ESD_8_G YES
#ENDIF

#IFDEF ESD_8_G YES

ESD_8_G {
@ Width of SAB on the drain side (A) for 1.0/1.2/1.8/2.5/3.3V NMOS and PMOS is >= 1.5um, note: A does not include the overlap of SAB area and GT.
 X = EGATE INSIDE EDGE AA 
 EXT X EMOS_D < 1.5 ABUT<90 REGION
}
#ENDIF
ESD_9_G {
@ ESD protection devices should be surrounded by appropriate pick-up guard ring.this guard ring also can be designed as the pickup of the ESD device.
 NOT EPMOS ENGUARDHOLE
 NOT ENMOS EPGUARDHOLE
}


ESD_14_G {
@ The overlap (Sd) of SAB and poly for ESD N/PMOS is >= 0.05
 X = (EGATE CUT ESAB) NOT ESD5V
 INT X ESAB < 0.05 ABUT<90 SINGULAR REGION
 ESAB OUTSIDE EGATE
}

ESD_15_G {
@ For high voltage tolerant I/O using Cascoded 2.5V/3.3V NMOS,  (ESDIO2 AND ESD5V) must overlap with ESD1.
 ((ESDIO2 AND ESD5V) ENCLOSE (EGATE AND SN)) NOT INTERACT ESD1
}

EGATEHIV = (ESD5V AND EGATE) AND SN
EGATEHV_O = EGATEHIV CUT ESAB
EGATEHV_I = EGATEHIV INSIDE ESAB
ESD_16_G {
@ The space (S) between active poly gate and inactive poly gate of Cascoded NMOS should be is <= 0.6um
 EXT EGATEHV_O EGATEHV_I > 0.6 < 5 ABUT<90 SINGULAR REGION EXCLUDE SHIELDED
}

ESD_17_G {
@ For high voltage tolerant I/O designed by 2.5V/3.3V NMOS, SAB should cover all top poly gates and extend to overlap the second poly gate is >= 0.05
 INT EGATEHV_O ESAB < 0.05 ABUT<90 SINGULAR REGION
}

#IFDEF ESD1_Approach_A YES
ESAB_HO_RAW = HOLES ESAB INNER EMPTY
ENACT_D = ((ENACT NOT GT) INTERACT GT) INTERACT SAB >= 1
EPACT_D = ((EPACT NOT GT) INTERACT GT) INTERACT SAB >= 1
EACT_D = ENACT_D OR EPACT_D
ESD_22a_G {
@ Space (C) between two SAB on the same drain AA area	<	1	um
   ESAB_NHO = ((ESAB NOT INTERACT ESAB_HO_RAW) INTERACT EACT_D) AND ESD1
   ((((EACT_D NOT ESAB_NHO) INTERACT ESAB_NHO) WITH WIDTH >= 1) INSIDE EACT_D) AND ESD1
}
ESD_22b_G {
@ Width (D) of the SAB hole in source/drain direction	<	1	um
  ((ESAB_HO_RAW WITH WIDTH >= 1 ) INSIDE EACT_D) AND ESD1
}
#ENDIF

//=============================
// ESD1 Implant layers rukes
//=============================

#IFDEF ESD1_Approach_A YES
GROUP GESD1_A ESD1_A_?

ESD1_A_1 {
@ Minimum width of ESD1 implant region is >= 0.4um
 INT ESD1 < 0.4 ABUT<90 SINGULAR REGION
}

ESD1_A_2 {
@ Minmum space between two ESD1 impant regions is >= 0.4um.Merge if the space is less than this space.
 EXT ESD1 < 0.4 ABUT<90 SINGULAR REGION
}

ESD1_A_3 {
@ ESD1 area >=1 
 AREA ESD1 < 1
}

ESD1_A_4 {
@ ESD1 enclosed area is >= 1
 X = HOLES ESD1 INNER
 AREA (X NOT ESD1) < 1
}
ESD1_A_5 {
@ N+AA must be fully enclosed by ESD1		0	um
  (NACT INTERACT ESD1) NOT ESD1
}

#ENDIF

#IFDEF ESD1_Approach_B YES
 GROUP GESD1_B ESD1_B_?

ESD1_B_1 {
@ Minimum width of ESD1 implant region is >= 0.4um
 INT ESD1 < 0.4 ABUT<90 SINGULAR REGION
}

ESD1_B_2 {
@ Minmum space between two ESD1 impant regions is >= 0.4um.Merge if the space is less than this space.
 EXT ESD1 < 0.4 ABUT<90 SINGULAR REGION
}

ESD1_B_3 {
@ ESD1 area >=1 
 AREA ESD1 < 1
}

ESD1_B_4 {
@ ESD1 enclosed area is >= 1
 X = HOLES ESD1 INNER
 AREA (X NOT ESD1) < 1
}

ESD1_B_5 {
@ Space between an ESD1 and an N-channel gate, ESD1 cannot butt gate is >= 0.4um
 X = EGATE AND SN
 EXT ESD1 X < 0.4 ABUT<90 SINGULAR REGION
}

ESD1_B_6 {
@ ESD1 must be enclosed by AA at least is >= 0.2um.
 ENC ESD1 AA < 0.2 ABUT<90 SINGULAR REGION
}

ESD1_B_7 {
@ ESD1 is not allow to overlap with SP.
 AND ESD1 SP
}

ESD1_B_8 {
@ ESD1_B.8	ESD1 enclosure of CT (CT must be fully enclosed by (ESD1 AND ESDIO2)) on AA (excluding pick up AA); (7.3.7.3 Fig. 3)		0.4	um
 TAP = PTAP OR NTAP
 PICKAA = TAP NOT ((TAP INTERACT GATE) AND VARMOS)
 NON_PICKAA = AA NOT PICKAA
X = (ECT INTERACT (ESD1 AND ESDIO2)) AND NON_PICKAA
ENC X ESD1 < 0.4 ABUT<90 SINGULAR REGION
}

#ENDIF


//======================================
// Latch-Up Prevention Layout Guideline
//======================================


GROUP GLU LU_?

LAYER MAP 8000 DATATYPE 1111 8001
LAYER EMPTY1 		     8001



NOIO_PAD = VSSMK1 OR VDDMK1
ALL_RES = (AA INTERACT (OR RESNW RESAA RESP1)) OR GTR

all_top_pad = inside cell ALPAai calibre_top_cell primary only
all_pad = with text all_top_pad ?

all_pad_vdd1 = WITH TEXT M1 ?VDD? M1TXT
all_pad_vss1 = WITH TEXT M1 ?VSS? M1TXT
all_pad_vcc1 = WITH TEXT M1 ?VCC? M1TXT
all_pad_gnd1 = WITH TEXT M1 ?GND? M1TXT

all_pad_vdd2 = WITH TEXT M2 ?VDD? M2TXT
all_pad_vss2 = WITH TEXT M2 ?VSS? M2TXT
all_pad_vcc2 = WITH TEXT M2 ?VCC? M2TXT
all_pad_gnd2 = WITH TEXT M2 ?GND? M2TXT

all_pad_vdd3 = WITH TEXT M3 ?VDD? M3TXT
all_pad_vss3 = WITH TEXT M3 ?VSS? M3TXT
all_pad_vcc3 = WITH TEXT M3 ?VCC? M3TXT
all_pad_gnd3 = WITH TEXT M3 ?GND? M3TXT

all_pad_vdd4 = WITH TEXT M4 ?VDD? M4TXT
all_pad_vss4 = WITH TEXT M4 ?VSS? M4TXT
all_pad_vcc4 = WITH TEXT M4 ?VCC? M4TXT
all_pad_gnd4 = WITH TEXT M4 ?GND? M4TXT

all_pad_vdd5 = WITH TEXT M5 ?VDD? M5TXT
all_pad_vss5 = WITH TEXT M5 ?VSS? M5TXT
all_pad_vcc5 = WITH TEXT M5 ?VCC? M5TXT
all_pad_gnd5 = WITH TEXT M5 ?GND? M5TXT

all_pad_vdd6 = WITH TEXT M6 ?VDD? M6TXT
all_pad_vss6 = WITH TEXT M6 ?VSS? M6TXT
all_pad_vcc6 = WITH TEXT M6 ?VCC? M6TXT
all_pad_gnd6 = WITH TEXT M6 ?GND? M6TXT

all_pad_vdd7 = WITH TEXT M7 ?VDD? M7TXT
all_pad_vss7 = WITH TEXT M7 ?VSS? M7TXT
all_pad_vcc7 = WITH TEXT M7 ?VCC? M7TXT
all_pad_gnd7 = WITH TEXT M7 ?GND? M7TXT

all_pad_vdd8 = WITH TEXT TM2 ?VDD? M8TXT 
all_pad_vss8 = WITH TEXT TM2 ?VSS? M8TXT 
all_pad_vcc8 = WITH TEXT TM2 ?VCC? M8TXT 
all_pad_gnd8 = WITH TEXT TM2 ?GND? M8TXT 

all_pad_vdd_TM2 = WITH TEXT TM2 ?VDD? TM2TXT 
all_pad_vss_TM2 = WITH TEXT TM2 ?VSS? TM2TXT 
all_pad_vcc_TM2 = WITH TEXT TM2 ?VCC? TM2TXT 
all_pad_gnd_TM2 = WITH TEXT TM2 ?GND? TM2TXT 

all_pad_vdd_ALPA = with text ALPAai ?VDD? ALPATXT 
all_pad_vss_ALPA = with text ALPAai ?VSS? ALPATXT 
all_pad_vcc_ALPA = with text ALPAai ?VCC? ALPATXT 
all_pad_gnd_ALPA = with text ALPAai ?GND? ALPATXT 

all_pad_TXT_M1 = OR all_pad_vdd1 all_pad_vss1 all_pad_vcc1 all_pad_gnd1
all_pad_TXT_M2 = OR all_pad_vdd2 all_pad_vss2 all_pad_vcc2 all_pad_gnd2
all_pad_TXT_M3 = OR all_pad_vdd3 all_pad_vss3 all_pad_vcc3 all_pad_gnd3
all_pad_TXT_M4 = OR all_pad_vdd4 all_pad_vss4 all_pad_vcc4 all_pad_gnd4
all_pad_TXT_M5 = OR all_pad_vdd5 all_pad_vss5 all_pad_vcc5 all_pad_gnd5
all_pad_TXT_M6 = OR all_pad_vdd6 all_pad_vss6 all_pad_vcc6 all_pad_gnd6
all_pad_TXT_M7 = OR all_pad_vdd7 all_pad_vss7 all_pad_vcc7 all_pad_gnd7 
all_pad_TXT_TM2 = OR all_pad_vdd8 all_pad_vss8 all_pad_vcc8 all_pad_gnd8 all_pad_vdd_TM2 all_pad_vss_TM2 all_pad_vcc_TM2 all_pad_gnd_TM2 

all_pad_TXT = OR all_pad_TXT_M1 all_pad_TXT_M2 all_pad_TXT_M3 all_pad_TXT_M4 all_pad_TXT_M5 all_pad_TXT_M6 all_pad_TXT_TM2

NACT_0 = ((SN AND AA) NOT NW) NOT GT
PACT_0 = ((SP AND AA) AND NW) NOT GT

#IFDEF CONNECT_ALL_RESISTOR NO
NACT_1 = EMPTY1 OR (NACT_0 NOT ALL_RES)
PACT_1 = EMPTY1 OR (PACT_0 NOT ALL_RES)
GT_1 = EMPTY1 OR (GT NOT GTR )
#ENDIF
#IFDEF CONNECT_ALL_RESISTOR YES
NACT_1 = EMPTY1 OR NACT_0
PACT_1 = EMPTY1 OR PACT_0
GT_1 = EMPTY1 OR GT
#ENDIF

#IFDEF DEFINE_PAD_BY_TEXT YES
MD_1 = EMPTY1 OR MD_IO_PAD
ALPA_1 = EMPTY1 OR (ALPA NOT (ALPA INTERACT all_pad_TXT))
M1_EMPTY = EMPTY1 OR (M1 NOT all_pad_TXT_M1)
M2_EMPTY = EMPTY1 OR (M2 NOT all_pad_TXT_M2)
M3_EMPTY = EMPTY1 OR (M3 NOT all_pad_TXT_M3)
M4_EMPTY = EMPTY1 OR (M4 NOT all_pad_TXT_M4)
M5_EMPTY = EMPTY1 OR (M5 NOT all_pad_TXT_M5)
M6_EMPTY = EMPTY1 OR (M6 NOT all_pad_TXT_M6)
M7_EMPTY = EMPTY1 OR (M7 NOT all_pad_TXT_M7)
TM2_EMPTY = EMPTY1 OR (TM2 NOT all_pad_TXT_TM2)

#ENDIF
#IFDEF DEFINE_PAD_BY_TEXT NO
MD_1 = EMPTY1 OR MD_IO_PAD
ALPA_1 = EMPTY1 OR ALPA
M1_EMPTY = EMPTY1 OR M1 
M2_EMPTY = EMPTY1 OR M2 
M3_EMPTY = EMPTY1 OR M3 
M4_EMPTY = EMPTY1 OR M4 
M5_EMPTY = EMPTY1 OR M5 
M6_EMPTY = EMPTY1 OR M6 
M7_EMPTY = EMPTY1 OR M7
TM2_EMPTY = EMPTY1 OR TM2
#ENDIF

V1_EMPTY = EMPTY1 OR V1
V2_EMPTY = EMPTY1 OR V2
V3_EMPTY = EMPTY1 OR V3
V4_EMPTY = EMPTY1 OR V4
V5_EMPTY = EMPTY1 OR V5
V6_EMPTY = EMPTY1 OR V6
TV2_EMPTY = EMPTY1 OR TV2
CT_1 = EMPTY1 OR CT
PA_1 = EMPTY1 OR PA
MD_IO_PAD = (MD OR (PA WITH WIDTH >=40)) NOT NOIO_PAD

CONNECT M1_EMPTY M2_EMPTY BY V1_EMPTY
CONNECT M2_EMPTY M3_EMPTY BY V2_EMPTY
CONNECT M3_EMPTY M4_EMPTY BY V3_EMPTY
CONNECT M4_EMPTY M5_EMPTY BY V4_EMPTY
CONNECT M5_EMPTY M6_EMPTY BY V5_EMPTY
CONNECT M6_EMPTY M7_EMPTY BY V6_EMPTY
CONNECT M7_EMPTY TM2_EMPTY BY TV2_EMPTY
CONNECT M1_EMPTY GT_1 NACT_1 PACT_1 BY CT_1
CONNECT TM2_EMPTY ALPA_1 BY PA_1
CONNECT ALPA_1 MD_1
NMOS_PAD = NMOS INTERACT (NET AREA RATIO NACT_1 MD_1 > 0)
PMOS_PAD = PMOS INTERACT (NET AREA RATIO PACT_1 MD_1 > 0)
NAA_PAD = NET AREA RATIO NACT_1 MD_1 > 0
PAA_PAD = NET AREA RATIO PACT_1 MD_1 > 0
NGUARDRING = HOLES NTAP INNER
PGUARDRING = HOLES PTAP INNER
NGUARDHOLE_2 = (HOLES NTAP INNER) ENCLOSE PGUARDRING
PGUARDHOLE_2 = (HOLES PTAP INNER) ENCLOSE NGUARDRING
GATEHV = GATE AND ESD5V
NGATEHV = NGATE AND ESD5V
PGATEHV = PGATE AND ESD5V
GATEMV = (GATE AND DG) NOT ESD5V
GATELV = GATE NOT INSIDE (DG OR ESD5V)


LU_1_G {
@ Guard ring should be used to surround AA injector or a group of AA injectors which are connected to an I/O pad.
@ N+ injector must be surrounded by a P+ guard-ring.
@ P+ injector must be surrounded by a N+ guard-ring.
 (NAA_PAD NOT PGUARDRING) NOT LUWMK1
 (PAA_PAD NOT NGUARDRING) NOT LUWMK1
}

LU_2_G {
@ Guard-ring width for AA injector connected to an I/O pad is >= 0.5um
 (INT ((DONUT NTAP) TOUCH ((HOLES NTAP) ENCLOSE (PAA_PAD OR NAA_PAD))) < 0.5 ABUT<90 SINGULAR REGION) NOT LUWMK1
 (INT ((DONUT PTAP) TOUCH ((HOLES PTAP) ENCLOSE (PAA_PAD OR NAA_PAD))) < 0.5 ABUT<90 SINGULAR REGION) NOT LUWMK1
}

LU_3a_G {
@ For core N/PMOS AA connected to an I/O pad
@ Spacing between NMOS and PMOS is >= 3um
 X = NMOS_PAD ENCLOSE GATELV
 Y = PMOS_PAD ENCLOSE GATELV
 M = NMOS ENCLOSE GATELV
 N = PMOS ENCLOSE GATELV
 (EXT X N < 3 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
 (EXT M Y < 3 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
}

#IFDEF IO 1533
LU_3b_G {
@ For 2.5V N/PMOS AA connected to an I/O pad
@ Spacing between 2.5V NMOS and 2.5V/Core PMOS and Spacing between 2.5V PMOS and 2.5V/Core NMOS is >= 5um
 X = NMOS_PAD ENCLOSE GATEMV
 Y = PMOS_PAD ENCLOSE GATEMV
 M = NMOS ENCLOSE (GATELV OR GATEMV)
 N = PMOS ENCLOSE (GATELV OR GATEMV)
 (EXT M Y < 5 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
 (EXT X N < 5 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
}
#ENDIF

#IFDEF IO 1225
LU_3c_G {
@ For 3.3V N/PMOS AA connected to an I/O pad
@ Spacing between 3.3V NMOS and 3.3V/Core PMOS and Spacing between 3.3V PMOS and 3.3V/Core NMOS is >= 8um
 X = NMOS_PAD ENCLOSE GATEMV
 Y = PMOS_PAD ENCLOSE GATEMV
 M = NMOS ENCLOSE (GATELV OR GATEMV)
 N = PMOS ENCLOSE (GATELV OR GATEMV)
 (EXT M Y < 8 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
 (EXT X N < 8 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
}
#ENDIF

LU_3d_G {
@ For 5V tolerant N/PMOS (covered by ESD5V mark layer) connected to an I/O pad
@ Spacing between 5V NMOS and 5V/core PMOS and Spacing between 5V PMOS and 5V/core NMOS is >= 15um
 X = NMOS_PAD ENCLOSE GATEHV
 Y = PMOS_PAD ENCLOSE GATEHV
 M = NMOS ENCLOSE (GATELV OR GATEHV)
 N = PMOS ENCLOSE (GATELV OR GATEHV)
 (EXT X N < 15 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
 (EXT Y M < 15 ABUT<90 SINGULAR REGION) NOT INSIDE LUWMK1
}

PMOS1 = (PMOSI NOT INTERACT CAPBP) NOT INTERACT RESP1
LU_4a_G {
@ Maximum space from any point within the Source Drain region to the nearest pickup AA region inside the same well for I/O and internal circuits is <= 35um
@ For native device, DRC check the pickup AA inside the PSUB butted PW area, and PW is still treated as connection by substrate even one NW ring inserted.
 /*A = INT NTAPi < 0.005 ABUT INTERSECTING ONLY REGION
 B = (NTAPi INTERACT A) NOT A
 C = INT B < 0.001 ABUT INTERSECTING ONLY REGION
 D = (B INTERACT C) NOT C
 NW_MINUS_NTAP = SIZE D BY 35 INSIDE OF NW STEP 0.6
 X = PMOS1 AND NW
 OUTSIDE EDGE X NW_MINUS_NTAP*/
    NW_MINUS_NTAP_0 = SIZE NTAPi BY 5 INSIDE OF NW STEP 0.38 BEVEL 4
    MAYBE_BAD_b = NW NOT NW_MINUS_NTAP_0
    NW_FILTER = NW INTERACT MAYBE_BAD_b
    NW_MINUS_NTAP_1 = NW_MINUS_NTAP_0 AND NW_FILTER
    NW_MINUS_NTAP = SIZE NW_MINUS_NTAP_1 BY 30 INSIDE OF NW_FILTER STEP 0.38 BEVEL 4
    X = PMOS1 AND NW_FILTER
    (OUTSIDE EDGE X NW_MINUS_NTAP) NOT INSIDE EDGE MARKS

}

NMOS1 = (NMOSI NOT INTERACT CAPBP) NOT INTERACT RESP1
LU_4b_G {
@ Maximum space from any point within the Source Drain region to the nearest pickup AA region inside the same well for I/O and internal circuits is <= 35um
@ For native device, DRC check the pickup AA inside the PSUB butted PW area, and PW is still treated as connection by substrate even one NW ring inserted.
 /*A = INT PTAPi < 0.005 ABUT INTERSECTING ONLY REGION
 B = (PTAPi INTERACT A) NOT A
 C = INT B < 0.001 ABUT INTERSECTING ONLY REGION
 D = (B INTERACT C) NOT C
 PW_MINUS_PTAP = SIZE D BY 35 INSIDE OF PW STEP 0.6
 X = NMOS1 AND PW
 OUTSIDE EDGE X PW_MINUS_PTAP*/
    PW_MINUS_PTAP_0 = SIZE PTAPi BY 5 INSIDE OF PW STEP 0.38 BEVEL 4
    MAYBE_BAD_b = PW NOT PW_MINUS_PTAP_0
    PW_FILTER = PW INTERACT MAYBE_BAD_b
    PW_MINUS_PTAP_1 = PW_MINUS_PTAP_0 AND PW_FILTER
    PW_MINUS_PTAP = SIZE PW_MINUS_PTAP_1 BY 30 INSIDE OF PW_FILTER STEP 0.38 BEVEL 4
    X = NMOS1 AND PW_FILTER
    (OUTSIDE EDGE X PW_MINUS_PTAP) NOT INSIDE EDGE MARKS
    SIZE_REGION = OR PW PSUB NW
    SIZE_PTAP_NOT_DNW = PTAPi NOT (DNW NOT INTERACT PSUB)
    PW_SIZE_a = SIZE SIZE_PTAP_NOT_DNW BY 5 INSIDE OF SIZE_REGION STEP 0.38 BEVEL 4
    MAYBE_BAD_PSUB_a = SIZE_REGION NOT PW_SIZE_a
    PW_FILTER_PSUB_a = SIZE_REGION INTERACT MAYBE_BAD_PSUB_a
    PW_MINUS_PTAP_PSUB_a = PW_SIZE_a AND PW_FILTER_PSUB_a
    PW_SIZE_1 = SIZE PW_MINUS_PTAP_PSUB_a BY 30 INSIDE OF PW_FILTER_PSUB_a STEP 0.38 BEVEL 4
    NMOS_PSUB_a = (NMOS1 AND PSUB) NOT INTERACT DNW
    (OUTSIDE EDGE NMOS_PSUB_a PW_SIZE_1) NOT INSIDE EDGE MARKS
    SIZE_PTAP_AND_DNW = (PTAPi AND (PW INTERACT PSUB)) INTERACT DNW
    PW_SIZE_b = SIZE SIZE_PTAP_AND_DNW BY 5 INSIDE OF SIZE_REGION STEP 0.38 BEVEL 4
    MAYBE_BAD_PSUB_b = SIZE_REGION NOT PW_SIZE_b
    PW_FILTER_PSUB_b = SIZE_REGION INTERACT MAYBE_BAD_PSUB_b
    PW_MINUS_PTAP_PSUB_b = PW_SIZE_b AND PW_FILTER_PSUB_b
    PW_SIZE_2 = SIZE PW_MINUS_PTAP_PSUB_b BY 30 INSIDE OF PW_FILTER_PSUB_b STEP 0.38 BEVEL 4
    NMOS_PSUB_b = (NMOS1 AND PSUB) INTERACT DNW
    (OUTSIDE EDGE NMOS_PSUB_b PW_SIZE_2) NOT INSIDE EDGE MARKS
}


//=================================
//  MOM device layout guideline
//=================================

GROUP GMOM MOM_?

#IFDEF MOM_4_CHECK YES 
MOM_4_G {
@ MOMDMY and MOMMKn layers are must for MOM device
     MOMMK1_12 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK2_12 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK3_12 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK4_12 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK5_12 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK6_12 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK7_12 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap12" MOMDMYi)
    MOMMK1_13 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK2_13 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK3_13 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK4_13 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK5_13 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK6_13 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK7_13 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap13" MOMDMYi)
    MOMMK1_14 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK2_14 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK3_14 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK4_14 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK5_14 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK6_14 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK7_14 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap14" MOMDMYi)
    MOMMK1_15 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK2_15 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK3_15 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK4_15 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK5_15 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK6_15 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK7_15 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap15" MOMDMYi)
    MOMMK1_16 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK2_16 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK3_16 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK4_16 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK5_16 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK6_16 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK7_16 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap16" MOMDMYi)
    MOMMK1_17 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK2_17 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK3_17 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK4_17 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK5_17 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK6_17 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK7_17 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap17" MOMDMYi)
    MOMMK1_23 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK2_23 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK3_23 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK4_23 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK5_23 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK6_23 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK7_23 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap23" MOMDMYi)
    MOMMK1_24 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK2_24 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK3_24 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK4_24 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK5_24 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK6_24 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK7_24 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap24" MOMDMYi)
    MOMMK1_25 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK2_25 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK3_25 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK4_25 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK5_25 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK6_25 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK7_25 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap25" MOMDMYi)
    MOMMK1_26 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK2_26 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK3_26 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK4_26 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK5_26 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK6_26 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK7_26 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap26" MOMDMYi)
    MOMMK1_27 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK2_27 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK3_27 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK4_27 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK5_27 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK6_27 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK7_27 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap27" MOMDMYi)
    MOMMK1_34 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK2_34 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK3_34 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK4_34 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK5_34 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK6_34 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK7_34 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap34" MOMDMYi)
    MOMMK1_35 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK2_35 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK3_35 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK4_35 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK5_35 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK6_35 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK7_35 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap35" MOMDMYi)
    MOMMK1_36 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK2_36 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK3_36 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK4_36 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK5_36 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK6_36 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK7_36 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap36" MOMDMYi)
    MOMMK1_37 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK2_37 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK3_37 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK4_37 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK5_37 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK6_37 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK7_37 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap37" MOMDMYi)
    MOMMK1_45 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK2_45 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK3_45 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK4_45 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK5_45 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK6_45 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK7_45 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap45" MOMDMYi)
    MOMMK1_46 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK2_46 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK3_46 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK4_46 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK5_46 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK6_46 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK7_46 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap46" MOMDMYi)
    MOMMK1_47 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK2_47 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK3_47 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK4_47 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK5_47 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK6_47 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK7_47 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap47" MOMDMYi)
    MOMMK1_56 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK2_56 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK3_56 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK4_56 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK5_56 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK6_56 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK7_56 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap56" MOMDMYi)
    MOMMK1_57 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK2_57 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK3_57 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK4_57 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK5_57 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK6_57 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK7_57 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap57" MOMDMYi)
    MOMMK1_67 = MOMMK1 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK2_67 = MOMMK2 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK3_67 = MOMMK3 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK4_67 = MOMMK4 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK5_67 = MOMMK5 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK6_67 = MOMMK6 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK7_67 = MOMMK7 INTERACT (MOMDMY WITH TEXT "momcap67" MOMDMYi)
    MOMMK1_12_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK2_12_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK3_12_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK4_12_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK5_12_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK6_12_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK7_12_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap12" MOMDMYi)
    MOMMK1_13_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK2_13_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK3_13_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK4_13_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK5_13_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK6_13_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK7_13_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap13" MOMDMYi)
    MOMMK1_14_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK2_14_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK3_14_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK4_14_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK5_14_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK6_14_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK7_14_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap14" MOMDMYi)
    MOMMK1_15_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK2_15_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK3_15_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK4_15_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK5_15_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK6_15_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK7_15_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap15" MOMDMYi)
    MOMMK1_16_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK2_16_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK3_16_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK4_16_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK5_16_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK6_16_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK7_16_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap16" MOMDMYi)
    MOMMK1_17_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK2_17_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK3_17_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK4_17_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK5_17_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK6_17_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK7_17_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap17" MOMDMYi)
    MOMMK1_23_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK2_23_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK3_23_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK4_23_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK5_23_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK6_23_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK7_23_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap23" MOMDMYi)
    MOMMK1_24_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK2_24_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK3_24_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK4_24_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK5_24_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK6_24_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK7_24_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap24" MOMDMYi)
    MOMMK1_25_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK2_25_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK3_25_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK4_25_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK5_25_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK6_25_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK7_25_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap25" MOMDMYi)
    MOMMK1_26_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK2_26_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK3_26_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK4_26_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK5_26_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK6_26_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK7_26_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap26" MOMDMYi)
    MOMMK1_27_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK2_27_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK3_27_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK4_27_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK5_27_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK6_27_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK7_27_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap27" MOMDMYi)
    MOMMK1_34_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK2_34_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK3_34_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK4_34_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK5_34_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK6_34_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK7_34_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap34" MOMDMYi)
    MOMMK1_35_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK2_35_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK3_35_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK4_35_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK5_35_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK6_35_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK7_35_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap35" MOMDMYi)
    MOMMK1_36_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK2_36_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK3_36_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK4_36_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK5_36_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK6_36_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK7_36_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap36" MOMDMYi)
    MOMMK1_37_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK2_37_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK3_37_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK4_37_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK5_37_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK6_37_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK7_37_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap37" MOMDMYi)
    MOMMK1_45_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK2_45_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK3_45_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK4_45_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK5_45_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK6_45_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK7_45_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap45" MOMDMYi)
    MOMMK1_46_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK2_46_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK3_46_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK4_46_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK5_46_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK6_46_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK7_46_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap46" MOMDMYi)
    MOMMK1_47_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK2_47_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK3_47_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK4_47_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK5_47_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK6_47_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK7_47_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap47" MOMDMYi)
    MOMMK1_56_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK2_56_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK3_56_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK4_56_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK5_56_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK6_56_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK7_56_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap56" MOMDMYi)
    MOMMK1_57_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK2_57_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK3_57_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK4_57_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK5_57_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK6_57_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK7_57_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap57" MOMDMYi)
    MOMMK1_67_no = MOMMK1 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMMK2_67_no = MOMMK2 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMMK3_67_no = MOMMK3 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMMK4_67_no = MOMMK4 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMMK5_67_no = MOMMK5 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMMK6_67_no = MOMMK6 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMMK7_67_no = MOMMK7 INTERACT (MOMDMY NOT WITH TEXT "momcap67" MOMDMYi)
    MOMDMY_12 = MOMDMY WITH TEXT "momcap12" MOMDMYi
    MOMDMY_12_no = MOMDMY NOT WITH TEXT "momcap12" MOMDMYi
    MOMDMY_13 = MOMDMY WITH TEXT "momcap13" MOMDMYi
    MOMDMY_13_no = MOMDMY NOT WITH TEXT "momcap13" MOMDMYi
    MOMDMY_14 = MOMDMY WITH TEXT "momcap14" MOMDMYi
    MOMDMY_14_no = MOMDMY NOT WITH TEXT "momcap14" MOMDMYi
    MOMDMY_15 = MOMDMY WITH TEXT "momcap15" MOMDMYi
    MOMDMY_15_no = MOMDMY NOT WITH TEXT "momcap15" MOMDMYi
    MOMDMY_16 = MOMDMY WITH TEXT "momcap16" MOMDMYi
    MOMDMY_16_no = MOMDMY NOT WITH TEXT "momcap16" MOMDMYi
    MOMDMY_17 = MOMDMY WITH TEXT "momcap17" MOMDMYi
    MOMDMY_17_no = MOMDMY NOT WITH TEXT "momcap17" MOMDMYi
    MOMDMY_23 = MOMDMY WITH TEXT "momcap23" MOMDMYi
    MOMDMY_23_no = MOMDMY NOT WITH TEXT "momcap23" MOMDMYi
    MOMDMY_24 = MOMDMY WITH TEXT "momcap24" MOMDMYi
    MOMDMY_24_no = MOMDMY NOT WITH TEXT "momcap24" MOMDMYi
    MOMDMY_25 = MOMDMY WITH TEXT "momcap25" MOMDMYi
    MOMDMY_25_no = MOMDMY NOT WITH TEXT "momcap25" MOMDMYi
    MOMDMY_26 = MOMDMY WITH TEXT "momcap26" MOMDMYi
    MOMDMY_26_no = MOMDMY NOT WITH TEXT "momcap26" MOMDMYi
    MOMDMY_27 = MOMDMY WITH TEXT "momcap27" MOMDMYi
    MOMDMY_27_no = MOMDMY NOT WITH TEXT "momcap27" MOMDMYi
    MOMDMY_34 = MOMDMY WITH TEXT "momcap34" MOMDMYi
    MOMDMY_34_no = MOMDMY NOT WITH TEXT "momcap34" MOMDMYi
    MOMDMY_35 = MOMDMY WITH TEXT "momcap35" MOMDMYi
    MOMDMY_35_no = MOMDMY NOT WITH TEXT "momcap35" MOMDMYi
    MOMDMY_36 = MOMDMY WITH TEXT "momcap36" MOMDMYi
    MOMDMY_36_no = MOMDMY NOT WITH TEXT "momcap36" MOMDMYi
    MOMDMY_37 = MOMDMY WITH TEXT "momcap37" MOMDMYi
    MOMDMY_37_no = MOMDMY NOT WITH TEXT "momcap37" MOMDMYi
    MOMDMY_45 = MOMDMY WITH TEXT "momcap45" MOMDMYi
    MOMDMY_45_no = MOMDMY NOT WITH TEXT "momcap45" MOMDMYi
    MOMDMY_46 = MOMDMY WITH TEXT "momcap46" MOMDMYi
    MOMDMY_46_no = MOMDMY NOT WITH TEXT "momcap46" MOMDMYi
    MOMDMY_47 = MOMDMY WITH TEXT "momcap47" MOMDMYi
    MOMDMY_47_no = MOMDMY NOT WITH TEXT "momcap47" MOMDMYi
    MOMDMY_56 = MOMDMY WITH TEXT "momcap56" MOMDMYi
    MOMDMY_56_no = MOMDMY NOT WITH TEXT "momcap56" MOMDMYi
    MOMDMY_57 = MOMDMY WITH TEXT "momcap57" MOMDMYi
    MOMDMY_57_no = MOMDMY NOT WITH TEXT "momcap57" MOMDMYi
    MOMDMY_67 = MOMDMY WITH TEXT "momcap67" MOMDMYi
    MOMDMY_67_no = MOMDMY NOT WITH TEXT "momcap67" MOMDMYi
    MOMMK1 AND MOMMK1_23 
    MOMMK1 AND MOMMK1_24 
    MOMMK1 AND MOMMK1_25 
    MOMMK1 AND MOMMK1_26 
    MOMMK1 AND MOMMK1_27 
    MOMMK1 AND MOMMK1_34 
    MOMMK1 AND MOMMK1_35 
    MOMMK1 AND MOMMK1_36 
    MOMMK1 AND MOMMK1_37 
    MOMMK1 AND MOMMK1_45 
    MOMMK1 AND MOMMK1_46 
    MOMMK1 AND MOMMK1_47 
    MOMMK1 AND MOMMK1_56 
    MOMMK1 AND MOMMK1_57 
    MOMMK1 AND MOMMK1_67 
    MOMMK2 AND MOMMK2_34 
    MOMMK2 AND MOMMK2_35 
    MOMMK2 AND MOMMK2_36 
    MOMMK2 AND MOMMK2_37 
    MOMMK2 AND MOMMK2_45 
    MOMMK2 AND MOMMK2_46 
    MOMMK2 AND MOMMK2_47 
    MOMMK2 AND MOMMK2_56 
    MOMMK2 AND MOMMK2_57 
    MOMMK2 AND MOMMK2_67 
    MOMMK3 AND MOMMK3_12 
    MOMMK3 AND MOMMK3_45 
    MOMMK3 AND MOMMK3_46 
    MOMMK3 AND MOMMK3_47 
    MOMMK3 AND MOMMK3_56 
    MOMMK3 AND MOMMK3_57 
    MOMMK3 AND MOMMK3_67 
    MOMMK4 AND MOMMK4_12 
    MOMMK4 AND MOMMK4_13 
    MOMMK4 AND MOMMK4_23 
    MOMMK4 AND MOMMK4_56 
    MOMMK4 AND MOMMK4_57 
    MOMMK4 AND MOMMK4_67 
    MOMMK5 AND MOMMK5_12 
    MOMMK5 AND MOMMK5_13 
    MOMMK5 AND MOMMK5_14 
    MOMMK5 AND MOMMK5_23 
    MOMMK5 AND MOMMK5_24 
    MOMMK5 AND MOMMK5_34 
    MOMMK5 AND MOMMK5_67 
    MOMMK6 AND MOMMK6_12 
    MOMMK6 AND MOMMK6_13 
    MOMMK6 AND MOMMK6_14 
    MOMMK6 AND MOMMK6_15 
    MOMMK6 AND MOMMK6_23 
    MOMMK6 AND MOMMK6_24 
    MOMMK6 AND MOMMK6_25 
    MOMMK6 AND MOMMK6_34 
    MOMMK6 AND MOMMK6_35 
    MOMMK6 AND MOMMK6_45 
    MOMMK7 AND MOMMK7_12 
    MOMMK7 AND MOMMK7_13 
    MOMMK7 AND MOMMK7_14 
    MOMMK7 AND MOMMK7_15 
    MOMMK7 AND MOMMK7_16 
    MOMMK7 AND MOMMK7_23 
    MOMMK7 AND MOMMK7_24 
    MOMMK7 AND MOMMK7_25 
    MOMMK7 AND MOMMK7_26 
    MOMMK7 AND MOMMK7_34 
    MOMMK7 AND MOMMK7_35 
    MOMMK7 AND MOMMK7_36 
    MOMMK7 AND MOMMK7_45 
    MOMMK7 AND MOMMK7_46 
    MOMMK7 AND MOMMK7_56 
    X12 = (MOMDMY_12 INTERACT MOMMK1) INTERACT MOMMK2
    MOMDMY_12 NOT X12
    X13 = ((MOMDMY_13 INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3
    MOMDMY_13 NOT X13
    X14 = (((MOMDMY_14 INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4
    MOMDMY_14 NOT X14
    X15 = ((((MOMDMY_15 INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5
    MOMDMY_15 NOT X15
    X16 = (((((MOMDMY_16 INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6
    MOMDMY_16 NOT X16
    X17 = ((((((MOMDMY_17 INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7
    MOMDMY_17 NOT X17
    X23 = (MOMDMY_23 INTERACT MOMMK2) INTERACT MOMMK3
    MOMDMY_23 NOT X23
    X24 = ((MOMDMY_24 INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4
    MOMDMY_24 NOT X24
    X25 = (((MOMDMY_25 INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5
    MOMDMY_25 NOT X25
    X26 = ((((MOMDMY_26 INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6
    MOMDMY_26 NOT X26
    X27 = (((((MOMDMY_27 INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7
    MOMDMY_27 NOT X27
    X34 = (MOMDMY_34 INTERACT MOMMK3) INTERACT MOMMK4
    MOMDMY_34 NOT X34
    X35 = ((MOMDMY_35 INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5
    MOMDMY_35 NOT X35
    X36 = (((MOMDMY_36 INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6
    MOMDMY_36 NOT X36
    X37 = ((((MOMDMY_37 INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7
    MOMDMY_37 NOT X37
    X45 = (MOMDMY_45 INTERACT MOMMK4) INTERACT MOMMK5
    MOMDMY_45 NOT X45
    X46 = ((MOMDMY_46 INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6
    MOMDMY_46 NOT X46
    X47 = (((MOMDMY_47 INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7
    MOMDMY_47 NOT X47
    X56 = (MOMDMY_56 INTERACT MOMMK5) INTERACT MOMMK6
    MOMDMY_56 NOT X56
    X57 = ((MOMDMY_57 INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7
    MOMDMY_57 NOT X57
    X67 = (MOMDMY_67 INTERACT MOMMK6) INTERACT MOMMK7
    MOMDMY_67 NOT X67
    Z12 = ((MOMDMY INTERACT MOMMK1) INTERACT MOMMK2) NOT INTERACT (OR MOMMK3 MOMMK4 MOMMK5 MOMMK6 MOMMK7)
    Z12 NOT WITH TEXT "momcap12" MOMDMYi
    Z13 = (((MOMDMY INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) NOT INTERACT (OR MOMMK4 MOMMK5 MOMMK6 MOMMK7)
    Z13 NOT WITH TEXT "momcap13" MOMDMYi
    Z14 = ((((MOMDMY INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) NOT INTERACT (OR MOMMK5 MOMMK6 MOMMK7 )
    Z14 NOT WITH TEXT "momcap14" MOMDMYi
    Z15 = (((((MOMDMY INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) NOT INTERACT (OR MOMMK6 MOMMK7 )
    Z15 NOT WITH TEXT "momcap15" MOMDMYi
    Z16 = ((((((MOMDMY INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) NOT INTERACT MOMMK7
    Z16 NOT WITH TEXT "momcap16" MOMDMYi
    Z17 = ((((((MOMDMY INTERACT MOMMK1) INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7 
    Z17 NOT WITH TEXT "momcap17" MOMDMYi
    Z23 = ((MOMDMY INTERACT MOMMK2) INTERACT MOMMK3) NOT INTERACT (OR MOMMK1 MOMMK4 MOMMK5 MOMMK6 MOMMK7)
    Z23 NOT WITH TEXT "momcap23" MOMDMYi
    Z24 = (((MOMDMY INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) NOT INTERACT (OR MOMMK1 MOMMK5 MOMMK6 MOMMK7)
    Z24 NOT WITH TEXT "momcap24" MOMDMYi
    Z25 = ((((MOMDMY INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) NOT INTERACT (OR MOMMK1 MOMMK6 MOMMK7)
    Z25 NOT WITH TEXT "momcap25" MOMDMYi
    Z26 = (((((MOMDMY INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) NOT INTERACT (OR MOMMK1 MOMMK7)
    Z26 NOT WITH TEXT "momcap26" MOMDMYi
    Z27 = ((((((MOMDMY INTERACT MOMMK2) INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7) NOT INTERACT MOMMK1
    Z27 NOT WITH TEXT "momcap27" MOMDMYi
    Z34 = ((MOMDMY INTERACT MOMMK3) INTERACT MOMMK4) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK5 MOMMK6 MOMMK7)
    Z34 NOT WITH TEXT "momcap34" MOMDMYi
    Z35 = (((MOMDMY INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK6 MOMMK7)
    Z35 NOT WITH TEXT "momcap35" MOMDMYi
    Z36 = ((((MOMDMY INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK7)
    Z36 NOT WITH TEXT "momcap36" MOMDMYi
    Z37 = (((((MOMDMY INTERACT MOMMK3) INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7) NOT INTERACT (OR MOMMK1 MOMMK2)
    Z37 NOT WITH TEXT "momcap37" MOMDMYi
    Z45 = ((MOMDMY INTERACT MOMMK4) INTERACT MOMMK5) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK3 MOMMK6 MOMMK7)
    Z45 NOT WITH TEXT "momcap45" MOMDMYi
    Z46 = (((MOMDMY INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK3 MOMMK7)
    Z46 NOT WITH TEXT "momcap46" MOMDMYi
    Z47 = ((((MOMDMY INTERACT MOMMK4) INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK3)
    Z47 NOT WITH TEXT "momcap47" MOMDMYi
    Z56 = ((MOMDMY INTERACT MOMMK5) INTERACT MOMMK6) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK3 MOMMK4 MOMMK7)
    Z56 NOT WITH TEXT "momcap56" MOMDMYi
    Z57 = (((MOMDMY INTERACT MOMMK5) INTERACT MOMMK6) INTERACT MOMMK7) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK3 MOMMK4)
    Z57 NOT WITH TEXT "momcap57" MOMDMYi
    Z67 = ((MOMDMY INTERACT MOMMK6) INTERACT MOMMK7) NOT INTERACT (OR MOMMK1 MOMMK2 MOMMK3 MOMMK4 MOMMK5)
    Z67 NOT WITH TEXT "momcap67" MOMDMYi

}
#ENDIF

MOM_5_G {
@ It is not allowed:
@ 1)V1 in MOMMK1 
@ 2)Vn/Vn-1 in MOMMKn (n=2~7), where Vn-1 is the via underneath Mn, and Vn is the via above Mn. Vn can be inter-via or TV1 or TV2.
 V1 AND MOMMK1
 V1 AND MOMMK2
 V2 AND MOMMK2
 V2 AND MOMMK3
 V3 AND MOMMK3
 V3 AND MOMMK4
 V4 AND MOMMK4
 V4 AND MOMMK5
 V5 AND MOMMK5
 V5 AND MOMMK6
 V6 AND MOMMK6
 V6 AND MOMMK7
 TV2 AND MOMMK7
}

MOM_6_G {
@ The space between (Mn AND MOMMKn AND MOMDMY) and Vn /Vn-1 (n=1~7) outside of MOMDMY is >= 0.21, where Vn-1 is the via underneath Mn, and Vn is the via above Mn. Vn can be inter-via or TV1 or TV2.
 M1_MOM = M1 AND (MOMDMY AND MOMMK1)
 M2_MOM = M2 AND (MOMDMY AND MOMMK2)
 M3_MOM = M3 AND (MOMDMY AND MOMMK3)
 M4_MOM = M4 AND (MOMDMY AND MOMMK4)
 M5_MOM = M5 AND (MOMDMY AND MOMMK5)
 M6_MOM = M6 AND (MOMDMY AND MOMMK6)
 M7_MOM = M7 AND (MOMDMY AND MOMMK7)
 V1_NOMOM = V1 OUTSIDE MOMDMY
 V2_NOMOM = V2 OUTSIDE MOMDMY
 V3_NOMOM = V3 OUTSIDE MOMDMY
 V4_NOMOM = V4 OUTSIDE MOMDMY
 V5_NOMOM = V5 OUTSIDE MOMDMY
 V6_NOMOM = V6 OUTSIDE MOMDMY
 TV2_NOMOM = TV2 OUTSIDE MOMDMY

 EXT M1_MOM V1_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
 EXT M2_MOM V1_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL

 EXT M2_MOM V2_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
 EXT M3_MOM V2_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL

 EXT M3_MOM V3_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
 EXT M4_MOM V3_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL

 EXT M4_MOM V4_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
 EXT M5_MOM V4_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL

 EXT M5_MOM V5_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
 EXT M6_MOM V5_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL

 EXT M6_MOM V6_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
 EXT M7_MOM V6_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL

 EXT M7_MOM TV2_NOMOM < 0.21 ABUT<90 SINGULAR REGION MEASURE ALL
}


//=================================
//    SRAM design rule
//=================================

EXCLU_S = EXCLU INTERACT SRAM
AA_S = (AAi NOT INTERACT EXCLU_S) NOT MARKS
GT_S = (GTi NOT INTERACT EXCLU_S) NOT MARKS
CT_S = (CTi NOT INTERACT EXCLU_S) NOT MARKS
M1_S = (M1i NOT INTERACT EXCLU_S) NOT MARKS
M2_S = (M2i NOT INTERACT EXCLU_S) NOT MARKS
V1_S = (V1i NOT INTERACT EXCLU_S) NOT MARKS
V2_S = (V2i NOT INTERACT EXCLU_S) NOT MARKS
NACT_S = (NACTi NOT INTERACT EXCLU_S) NOT MARKS
PACT_S = (PACTi NOT INTERACT EXCLU_S) NOT MARKS
NW_S = (NWi NOT INTERACT EXCLU_S) NOT MARKS
PW_S = (PW NOT INTERACT EXCLU_S) NOT MARKS
NC_S = (NCi NOT INTERACT EXCLU_S) NOT MARKS
GATE_S = ((AAi AND GTi) NOT INTERACT EXCLU_S) NOT MARKS
SN_S = (SNi NOT INTERACT EXCLU_S) NOT MARKS
SP_S = (SPi NOT INTERACT EXCLU_S) NOT MARKS


GROUP GSRAA SRAA_?

SRAA_1 {
@  AA width		0.11	um
  (INT AA_S < 0.11 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRAA_3 {
@  Space between AAs that are on the same well		0.15	um
 (EXT AA_S <0.15 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRAA_4 {
@  N+ AA enclosure by NW except NW resistor region	>=	0.1	um
 (ENC NACT_S (NW_S NOT NWR) < 0.1 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRAA_5 {
@ Space between NW and N+ AA		0.18	um
 (EXT NW_S NACT_S < 0.18 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRAA_6 {
@ P+ AA enclosure by NW		0.16	um
 (ENC PACT_S NW_S < 0.16 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRAA_7 {
@ Space between NW to P+AA inside PW		0.15	um
  (EXT (PACT_S AND PW_S) NW_S < 0.15 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}


GROUP GSRNC SRNC_?

SRNC_5 {
@ Space between NC and N+AA for nominal NMOS along poly length		0.025	um
 X = NACT_S TOUCH EDGE (AA_S INSIDE EDGE GT_S)
 (EXT X NC_S < 0.025 ABUT<90  REGION OPPOSITE) NOT OUTSIDE SRAM
}

GROUP GSRGT SRGT_?

SRGT_2 {
@  GT width		0.07	um
 (INT GT_S < 0.07 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRGT_3 {
@ GT space		0.14	um
 (EXT GT_S <0.14 ABUT<90 REGION EXCLUDE FALSE) NOT OUTSIDE SRAM
}
SRGT_5 {
@ Extension of AA outside of GT		0.155	um
 (ENC GT_S AA_S < 0.155 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRGT_6 {
@ Extension of GT outside of AA		0.01	um
 (ENC AA_S GT_S < 0.01 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRGT_13_R {
@ For small MOS(channel width <=0.3um), Max AA size along channel width direction from the turning point when L-shape or H-shape AA space to GT is >=0.07um and <=0.08um		0.51	um

  SD = AA_S NOT GATE_S
  A0 = GT_S INSIDE EDGE AA_S
  A = LENGTH A0 <=0.3
  B = GATE_S WITH EDGE A
  C = AA_S TOUCH EDGE B
  D = SD TOUCH EDGE C
  D1 = LENGTH D >=0.07 <=0.08
  E = EXT SD <= 0.001 ABUT==90 REGION
  F = E WITH EDGE D1
  G = (SD TOUCH EDGE F) NOT TOUCH EDGE D1
  (LENGTH G > 0.51) INSIDE EDGE SRAM

}

GROUP GSRCT SRCT_?

ACT_CT0= CT_S AND AA_S
SHA_CT = (AREA CT_S <=0.064 >=0.058) INSIDE SRAM

SRCT_1 {
@ CT width and length, exclude share CT	=	0.16	um
 X = CT_S NOT SHA_CT
 (NOT RECTANGLE X == 0.16 BY == 0.16) NOT OUTSIDE SRAM
}
SRCT_3 {
@ Space between AA and contact on poly		0.075	um
 (EXT (CT_S INTERACT GT_S) AA_S < 0.075 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRCT_4a {
@ Space between poly and contact on AA for 1.2 and 1.5V, exclude share CT >=0.055	um
X = ACT_CT0 NOT SHA_CT
((EXT GT_S X < 0.055 ABUT<90 SINGULAR REGION) NOT INSIDE DG) NOT OUTSIDE SRAM
}
SRCT_5 {
@ CT enclosure by AA for CT landed on device AA, exclude share CT		0	um
  BJTID = (DNW INTERACT DMPNP) OR (SIZE (NW INTERACT (DMPNP NOT INTERACT DNW)) BY 1.5)
  DIOID = SIZE DSTR BY 0.25
  X_1 = AA_S INTERACT ((RESNW OR RESAA) OR (BJTID OR DIOID))
  X_2 = ((AA_S INTERACT GT_S) NOT (NTAPi OR PTAPi)) OR ((AA_S INTERACT GT_S) INTERACT VARMOS)
  X = X_1 OR X_2
  Y = (CT_S NOT SHA_CT) INTERACT X               
  (Y NOT AA_S) NOT OUTSIDE SRAM
}
SRCT_6 {
@ CT enclosure by poly for CT landed on poly, exclude share CT		0	um
  X = (CT_S NOT SHA_CT) INTERACT GT_S
  (X NOT GT_S) NOT OUTSIDE SRAM
}

SRCT_7 {
@ CT enclosure by M1, check the CTs after corner cut 0.035, exclude share CT		0	um
 X = CT_S NOT SHA_CT
 Y = INT X <=0.035 ABUT==90 INTERSECTING ONLY REGION
 Z = X NOT Y
 (Z NOT M1_S) NOT OUTSIDE SRAM
}
SRCT_9 {
@ CT is not allowed to land on gate, exclude share CT
  
  CT_check = CT_S NOT SHA_CT
  (CT_check AND GATE_S) NOT OUTSIDE SRAM
}		
SRCT_10 {
@ CT can not overlap with SAB layer or (STI NOT GT) region, exclude share CT
  X = CT_S NOT SHA_CT
  (X AND SAB) NOT OUTSIDE SRAM
  ((X NOT AA_S) NOT GT_S) NOT OUTSIDE SRAM
 
}

GROUP GSRSN SRSN_?

SRSN_1 {
@ SN width		0.285	um  (single point touch is allowed)
  (INT SN_S < 0.285 ABUT<90 REGION) NOT OUTSIDE SRAM
}
SRSN_3 {
@ Space between SN and P+ AA inside NW		0.105	um
  X = (PACT_S NOT PTAPi) NOT COIN EDGE SN_S
  (EXT (SN_S AND NW_S) X < 0.105 ABUT>0<90 REGION) NOT OUTSIDE SRAM
}
SRSN_5 {
@ SN extension outside of NMOS poly gate		0.27	um
 X = GT_S INSIDE EDGE NACT_S
 (ENC X SN_S < 0.27 ABUT<90 OPPOSITE  REGION) NOT OUTSIDE SRAM
}
SRSN_6 {
@ Space between SN and poly gate for PMOS		0.305	um
  X = GT_S INSIDE EDGE PACT_S
  (EXT SN_S X < 0.305 ABUT<90 REGION OPPOSITE) NOT OUTSIDE SRAM
}

SRSN_10 {
@ SN and AA overlap		0.075	um
  X = SN_S NOT COIN EDGE AA_S
  (INT X AA_S < 0.075 ABUT<90  REGION) NOT OUTSIDE SRAM
}

GROUP GSRSP SRSP_?

SRSP_1 {
@ SP width		0.295	um  (single point touch is allowed)
  (INT SP_S < 0.295 ABUT<90 REGION) NOT OUTSIDE SRAM
}
SRSP_3 {
@ Space between SP and N+ AA inside PW		0.105	um
  X = (NACT_S AND PW_S) NOT COIN EDGE SP_S
  (EXT (SP_S AND PW_S) X < 0.105 ABUT<90 REGION) NOT OUTSIDE SRAM
}
SRSP_5 {
@ Space between SP and N-channel poly gate 		0.27	um
  X = GT_S INSIDE EDGE NACT_S
  (EXT SP_S X < 0.27 ABUT<90 REGION OPPOSITE) NOT OUTSIDE SRAM
}
SRSP_6 {
@ SP extension outside of PMOS poly gate		0.305	um
  X = GT_S INSIDE EDGE PACT_S
  (ENC X SP_S < 0.305 ABUT<90 OPPOSITE  REGION) NOT OUTSIDE SRAM
}

SRSP_10 {
@ SP and AA overlap		0.065	um
 X = SP_S NOT COIN EDGE AA_S
  (INT X AA_S < 0.065 ABUT<90  REGION) NOT OUTSIDE SRAM
}
			
GROUP GSRM1 SRM1_?

SRM1_1 {
@ M1 width 		0.075	um
  (INT M1_S < 0.075 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
SRM1_2 {
@ M1 space	>=0.095	um
  (EXT M1_S < 0.095 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}
GROUP GSRM2 SRM2_?
SRM2_2 {
@ M2 space		0.175	um
  (EXT M2_S < 0.175 ABUT<90 SINGULAR REGION) NOT OUTSIDE SRAM
}

GROUP GSRV1 SRV1_?


SRV1_6 {
@ V1 enclosure by M2		0.005	um
  (ENC V1_S M2_S < 0.005 ABUT<90 SINGULAR REGION OUTSIDE ALSO) NOT OUTSIDE SRAM
}

GROUP GSRV2 SRV2_?

SRV2_1 {
@ V2 width and length, V2 must be square	=	0.19 or 0.36	um
  V2_1 = V2_S NOT OUTSIDE SRAM
  X= RECTANGLE V2_1 ==0.19 BY ==0.19
  Y= RECTANGLE V2_1 ==0.36 BY ==0.36
  (V2_1 NOT X) NOT Y
}
SRV2_3 {
@ V2 enclosure by M2		0.005	um
  (ENC V2_S M2_S < 0.005 ABUT<90 SINGULAR REGION OUTSIDE ALSO) NOT OUTSIDE SRAM 
}

